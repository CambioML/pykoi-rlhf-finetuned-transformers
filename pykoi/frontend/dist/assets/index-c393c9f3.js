(function(){"use strict";var wr=document.createElement("style");wr.textContent=`@import"https://fonts.googleapis.com/css?family=Work+Sans:400|Lato:400|Inconsolata:400";:root{font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:auto;width:100%}h1{font-size:3.2em;line-height:1.1}.card{padding:2em}#app{margin:0 auto;text-align:center}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media (prefers-color-scheme: light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}:root{--green: #00ebc7;--red: #FF5470;--yellow: #fde24f;--black: #1b2d45;--darkBlue: #00214d;--darkGrey: #222;--grey: #bfbfbf;--lightGrey: #f2f4f6;--white: white;--primary: var(--yellow);--danger: var(--red);--background: var(--lightGrey);--textColor: var(--black);--lineColor: var(--grey);--cardBg: var(--white);--headerBackground: var(--white);--footerBackground: var(--darkBlue);--footerTextColor: var(--lightGrey);--headerTextColor: var(--black);--buttonColor: var(--primary);--buttonTextColor: var(--textColor);--borderBottom: solid 2px var(--primary);--line: solid 1px var(--lineColor);--headingFont: "Lato", monospace;--bodyFont: "Inconsolata", sans-serif;--baseFontSize: 100%;--h1: 3.052em;--h2: 2.441em;--h3: 1.953em;--h4: 1.563em;--h5: 1.25em;--smallText: .8em;--shadow-s: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--shadow-md: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--containerPadding: 2.5%;--headerHeight: 3rem;--borderRadius: 0px}header{color:var(--headerTextColor);position:fixed;left:0;top:0;width:100%;height:var(--headerHeight);background:var(--headerBackground);border-bottom:var(--line);display:flex;justify-content:space-between;align-items:center;padding:0 var(--containerPadding)}footer{color:var(--footerTextColor);background-color:var(--footerBackground);padding:calc(var(--headerHeight) * .75) var(--containerPadding);text-align:center;position:absolute;bottom:0;width:100%}button{-webkit-appearance:none;-moz-appearance:none;appearance:none;color:var(--buttonTextColor);background-color:var(--white);border:var(--line);border-radius:var(--borderRadius);padding:5px 25px;box-shadow:var(--shadow-s);transition:.3s ease-in-out box-shadow}.dark{--background: var(--black);--textColor: var(--lightGrey);--headerBackground: var(--darkGrey);--footerBackground: var(--darkGrey);--cardBg: var(--darkGrey);--buttonTextColor: var(--black)}.theme{--green: #00ebc7;--red: #FF5470;--yellow: #fde24f;--black: #1b2d45;--darkBlue: #00214d;--darkGrey: #222;--grey: #bfbfbf;--lightGrey: #f2f4f6;--white: white;--primary: var(--green);--danger: var(--red);--background: var(--lightGrey);--textColor: var(--black);--lineColor: var(--grey);--cardBg: var(--white);--headerBackground: var(--darkBlue);--footerBackground: var(--darkBlue);--footerTextColor: var(--lightGrey);--buttonColor: var(--primary);--buttonTextColor: var(--textColor);--line: solid 1px var(--lineColor);--headingFont: "Lato", monospace;--bodyFont: "Work Sans", sans-serif;--baseFontSize: 100%;--h1: 3.052em;--h2: 2.441em;--h3: 1.953em;--h4: 1.563em;--h5: 1.25em;--smallText: .8em;--shadow-s: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--shadow-md: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--containerPadding: 2.5%;--headerHeight: 3rem;--borderRadius: 10px}:root{--left: 300px}/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}:root{--green: #00ebc7;--red: #FF5470;--yellow: #fde24f;--black: #1b2d45;--darkBlue: #00214d;--darkGrey: #222;--grey: #bfbfbf;--lightGrey: #f2f4f6;--white: white;--primary: var(--yellow);--danger: var(--red);--background: var(--white);--textColor: var(--black);--lineColor: var(--grey);--cardBg: var(--white);--headerBackground: var(--white);--footerBackground: var(--green);--footerTextColor: var(--black);--headerTextColor: var(--black);--buttonColor: var(--primary);--buttonTextColor: var(--textColor);--borderBottom: solid 2px var(--primary);--line: solid 1px var(--lineColor);--headingFont: "Lato", monospace;--bodyFont: "Work Sans", sans-serif;--baseFontSize: 100%;--h1: 3.052em;--h2: 2.441em;--h3: 1.953em;--h4: 1.563em;--h5: 1.25em;--smallText: .8em;--shadow-s: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--shadow-md: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--containerPadding: 2.5%;--headerHeight: 3rem;--borderRadius: 0px;--height: height: calc(100vh - var(--headerHeight))}html{box-sizing:border-box;font-size:var(--baseFontSize)}*,*:before,*:after{box-sizing:inherit}body{font-family:var(--bodyFont);font-weight:400;line-height:1.75;background:var(--background);color:var(--textColor)}header{color:var(--headerTextColor);margin-top:1%;height:var(--headerHeight);background:var(--headerBackground);font-size:var(--h5);display:flex;justify-content:space-between;align-items:center;padding:0 var(--containerPadding)}header nav a{color:var(--white);text-decoration:none}header nav a+a{margin-left:10px}footer{color:var(--footerTextColor);background-color:var(--footerBackground);padding:calc(var(--headerHeight) * .75) var(--containerPadding);text-align:center;bottom:0;width:100%}footer a{color:var(--footerTextColor)}footer nav a+a{margin-left:10px}footer p{margin-bottom:0;max-width:none}p{margin-bottom:1rem}p a,blockquote a{color:var(--textColor);text-decoration:none;border-bottom:var(--borderBottom)}h1,h2,h3,h4,h5{margin:3rem 0 1.38rem;font-family:var(--headingFont);font-weight:400;line-height:1.15}h1{margin-top:0;font-size:var(--h1)}h2{font-size:var(--h2)}h3{font-size:var(--h3)}h4{font-size:var(--h4)}h5{font-size:var(--h5)}small,.text_small{font-size:var(--smallText)}blockquote{margin:10px;padding:2em;background:var(--cardBg);box-shadow:var(--shadow-lg)}label{display:block;font-size:var(--smallText)}input,textarea{padding:2px 5px;border:var(--line);border-radius:4px}textarea{width:100%;height:5rem}::placeholder{color:var(--grey)}::selection,.highlight{background:#ffb7b7;background:var(--red);color:var(--white)}select{border:var(--line)}hr{border-top:var(--line)}button{-webkit-appearance:none;-moz-appearance:none;appearance:none;color:var(--buttonTextColor);background-color:var(--white);border:var(--line);border-radius:var(--borderRadius);padding:10px 25px;box-shadow:var(--shadow-s);transition:.3s ease-in-out box-shadow}button:hover{cursor:pointer;box-shadow:var(--shadow-md)}button[disabled]{opacity:.4}button.cancel{--buttonColor: var(--danger);--buttonTextColor: var(--white)}button.small{font-size:var(--smallText)}.layout{padding-top:calc(0rem + var(--headerHeight))}.grid{--gridCols: 2;display:block;grid-template-columns:repeat(var(--gridCols),1fr)}.cols-3{--gridCols: 3}.cols-4{--gridCols: 4}.flex{--justifyContent: space-between;display:block;justify-content:var(--justifyContent)}.flex-around{--justifyContent: space-around}.card{padding:2em;background:var(--cardBg);box-shadow:var(--shadow-lg);border-radius:var(--borderRadius)}.grid-split{display:grid;grid-template-columns:33% 67%;gap:20px}@media only screen and (min-width: 600px){:root{--baseFontSize: 100%}.grid{display:grid}.flex{display:flex}}.logo{font-size:var(--baseFontSize);margin:0 0 0 8px}.dark{--background: var(--black);--textColor: var(--lightGrey);--headerBackground: var(--darkGrey);--footerBackground: var(--yellow);--cardBg: var(--darkGrey);--buttonTextColor: var(--black)}.oled{--black: #000;--cardBg: var(--darkGrey);--headerBackground: var(--darkGrey);--footerBackground: var(--darkGrey)}.theme{--green: #00ebc7;--red: #FF5470;--yellow: #fde24f;--black: #1b2d45;--darkBlue: #00214d;--darkGrey: #222;--grey: #bfbfbf;--lightGrey: #f2f4f6;--white: white;--primary: var(--green);--danger: var(--red);--background: var(--lightGrey);--textColor: var(--black);--lineColor: var(--grey);--cardBg: var(--white);--headerBackground: var(--darkBlue);--footerBackground: var(--darkBlue);--footerTextColor: var(--black);--buttonColor: var(--primary);--buttonTextColor: var(--textColor);--line: solid 1px var(--lineColor);--headingFont: "Lato", monospace;--bodyFont: "Work Sans", sans-serif;--baseFontSize: 100%;--h1: 3.052em;--h2: 2.441em;--h3: 1.953em;--h4: 1.563em;--h5: 1.25em;--smallText: .8em;--shadow-s: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--shadow-md: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--containerPadding: 2.5%;--headerHeight: 3rem;--borderRadius: 10px}:root{--left: 25px}.grid-sidemenu{--gridCols: 2;display:grid;grid-template-columns:var(--left) 1fr}header{padding:0 15px 0 0}header nav a+a{margin-left:15px}.corner{margin-left:var(--left)}header nav a{color:var(--black);text-decoration:none}.page{padding:3em}.page-title{text-decoration:none;border-bottom:var(--borderBottom)}.card{padding:2em;background:var(--cardBg);box-shadow:var(--shadow-lg);border-radius:var(--borderRadius);font-size:var(--smallText)}.card:hover{box-shadow:var(--shadow-xl)}.card>*:first-child{margin-top:0}.card>*:last-child{margin-bottom:0}table{margin:auto}button{margin:5px}.small-button.svelte-9ap43o.svelte-9ap43o{margin-left:10px;background:none;border:3px solid transparent;color:inherit;padding:6px 10px;cursor:pointer;box-shadow:none;font-size:var(--smallText)}.feedback-buttons.svelte-9ap43o.svelte-9ap43o{text-align:center;margin:auto;width:20%}.small-button.svelte-9ap43o.svelte-9ap43o:hover{box-shadow:var(--shadow-md)}.thumbs-up.svelte-9ap43o.svelte-9ap43o,.thumbs-up.svelte-9ap43o.svelte-9ap43o:hover,.thumbs-up.svelte-9ap43o.svelte-9ap43o::selection{background:var(--green)}.thumbs-down.svelte-9ap43o.svelte-9ap43o,.thumbs-down.svelte-9ap43o.svelte-9ap43o:hover,.thumbs-down.svelte-9ap43o.svelte-9ap43o::selection{background:var(--red)}.ranked-chat.svelte-9ap43o.svelte-9ap43o{height:100vh;display:grid;grid-template-columns:100%;grid-template-rows:80% 20%}.message.svelte-9ap43o.svelte-9ap43o{font-size:var(--smallText);padding-left:40px;padding-right:40px;margin:0 auto}.chat-input-holder.svelte-9ap43o.svelte-9ap43o{display:flex;flex-direction:column;align-items:center;padding:24px;width:100%;max-width:640px;margin:auto}.chat-input-textarea.svelte-9ap43o.svelte-9ap43o{background-color:var(--lightgrey);cursor:pointer;width:100%;border:var(--line);border-color:none;margin:12px;outline:none;padding:12px;color:var(--black);font-size:var(--baseFontSize);box-shadow:var(--shadow-md);flex:3;border-radius:0;border-right:0px}.chat-input-form.svelte-9ap43o.svelte-9ap43o{display:flex;width:100%}.btnyousend.svelte-9ap43o.svelte-9ap43o{border-radius:0;margin-top:12px;margin-bottom:12px;margin-left:-15px;background:var(--primary);color:var(--black);opacity:.5;transition:all .3s}.active.svelte-9ap43o.svelte-9ap43o{opacity:1}.green.svelte-9ap43o.svelte-9ap43o{border-bottom:2px solid var(--green)}.red.svelte-9ap43o.svelte-9ap43o{border-bottom:2px solid var(--red)}.instructions.svelte-9ap43o.svelte-9ap43o{text-align:center;padding:5%}.instructions.svelte-9ap43o h5.svelte-9ap43o{text-align:left}.instructions.svelte-9ap43o p.svelte-9ap43o{font-size:var(--smallText);text-align:left}.instructions.svelte-9ap43o button.svelte-9ap43o{font-size:var(--smallText)}.ranked-feedback-container.svelte-9ap43o.svelte-9ap43o{display:grid;grid-template-columns:20% 80%}.underline.svelte-9ap43o.svelte-9ap43o{border-bottom:var(--line)}.bold.svelte-9ap43o.svelte-9ap43o{font-weight:700;font-size:var(--smallText);margin:0;padding:0}.chatbox.svelte-9ap43o.svelte-9ap43o{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - var(--headerHeight));background-color:var(--white);box-sizing:border-box;width:95%;margin:auto;height:100%}.chat-log.svelte-9ap43o.svelte-9ap43o{flex:1;overflow-y:auto;padding:0 10px;box-sizing:border-box}.chat-message.svelte-9ap43o.svelte-9ap43o{background-color:var(--white);border-bottom:var(--line);box-sizing:border-box}.chat-message-center.svelte-9ap43o.svelte-9ap43o{display:flex;flex-direction:column;margin-left:auto;margin-right:auto;padding:12px;box-sizing:border-box}.message-content.svelte-9ap43o.svelte-9ap43o{display:flex;flex-direction:column;box-sizing:border-box}.message-content.svelte-9ap43o .question.svelte-9ap43o{text-align:left;border:1px solid var(--grey);padding:5px;background-color:var(--lightGrey)}.message-content.svelte-9ap43o .answer.svelte-9ap43o{display:inline-block;text-align:left;padding:10px;border:1px solid var(--black)}.message-content.svelte-9ap43o .answers.svelte-9ap43o{display:grid;grid-template-columns:100%;gap:0%;width:100%;margin:auto}.ranked-chat.svelte-au920n.svelte-au920n{height:100vh;display:grid;grid-template-columns:100%;grid-template-rows:80% 20%}.message.svelte-au920n.svelte-au920n{font-size:var(--smallText);padding-left:40px;padding-right:40px;margin:0 auto}.chat-input-holder.svelte-au920n.svelte-au920n{display:flex;flex-direction:column;align-items:center;padding:24px;width:100%;max-width:640px;margin:auto}.chat-input-textarea.svelte-au920n.svelte-au920n{background-color:var(--lightgrey);cursor:pointer;width:100%;border:var(--line);border-color:none;margin:12px;outline:none;padding:12px;color:var(--black);font-size:var(--baseFontSize);box-shadow:var(--shadow-md);flex:3;border-radius:0;border-right:0px}.chat-input-form.svelte-au920n.svelte-au920n{display:flex;width:100%}.btnyousend.svelte-au920n.svelte-au920n{border-radius:0;margin-top:12px;margin-bottom:12px;margin-left:-15px;background:var(--primary);color:var(--black);opacity:.5;transition:all .3s}.active.svelte-au920n.svelte-au920n{opacity:1}.green.svelte-au920n.svelte-au920n{border-bottom:2px solid var(--green)}.red.svelte-au920n.svelte-au920n{border-bottom:2px solid var(--red)}.instructions.svelte-au920n.svelte-au920n{text-align:center;padding:5%}.instructions.svelte-au920n h5.svelte-au920n{text-align:left}.instructions.svelte-au920n p.svelte-au920n{font-size:var(--smallText);text-align:left}.instructions.svelte-au920n button.svelte-au920n{font-size:var(--smallText)}.ranked-feedback-container.svelte-au920n.svelte-au920n{display:grid;grid-template-columns:20% 80%}.underline.svelte-au920n.svelte-au920n{border-bottom:var(--line)}.bold.svelte-au920n.svelte-au920n{font-weight:700;font-size:var(--smallText);margin:0;padding:0}.chatbox.svelte-au920n.svelte-au920n{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - var(--headerHeight));background-color:var(--white);box-sizing:border-box;width:95%;margin:auto;height:100%}.chat-log.svelte-au920n.svelte-au920n{flex:1;overflow-y:auto;padding:0 10px;box-sizing:border-box}.chat-message.svelte-au920n.svelte-au920n{background-color:var(--white);border-bottom:var(--line);box-sizing:border-box}.chat-message-center.svelte-au920n.svelte-au920n{display:flex;flex-direction:column;margin-left:auto;margin-right:auto;padding:12px;box-sizing:border-box}.message-content.svelte-au920n.svelte-au920n{display:flex;flex-direction:column;box-sizing:border-box}.message-content.svelte-au920n .question.svelte-au920n{text-align:left;border:1px solid var(--grey);padding:5px;margin-bottom:10px;background-color:var(--lightGrey)}.message-content.svelte-au920n .answer.svelte-au920n{display:inline-block;text-align:left;padding:10px;border:1px solid var(--black)}.message-content.svelte-au920n .answers.svelte-au920n{display:grid;grid-template-columns:49% 49%;gap:2%;width:100%;margin:auto}.series.svelte-tg5p7i:focus{outline:none}.horizontal-bar-rect.selected.svelte-tg5p7i{stroke:var(--black);stroke-width:3}#stackedrect-holder.svelte-tg5p7i{height:100%;width:100%}.line.svelte-tg5p7i{stroke-width:3;stroke:var(--black);fill:none}.horizontal-bar-rect.svelte-tg5p7i{transition:opacity .3s}.horizontal-bar-rect.svelte-tg5p7i:hover{stroke:var(--black);stroke-width:3}.horizontal-bar-text.svelte-tg5p7i{transition:opacity .3s;stroke:var(--white);stroke-width:4px;fill:var(--black);stroke-linejoin:round;paint-order:stroke fill;pointer-events:none;font-size:var(--smallText)}.qa-card.svelte-szi0e{border:2px solid var(--black);display:flex;flex-direction:column;font-size:var(--smallText);padding:4px;margin:6px}.qa-card.svelte-szi0e:hover{border:3px solid var(--black)}.question.svelte-szi0e{background-color:var(--white);margin:0;padding:8px;border-bottom:1px solid var(--black)}.answer.svelte-szi0e{background-color:var(--lightGrey);margin:0;padding:8px}.feedback.svelte-szi0e{margin:0;padding:8px}.up.svelte-szi0e{background-color:var(--green)}.down.svelte-szi0e{background-color:var(--red)}.na.svelte-szi0e{background-color:var(--yellow)}.qa-container.svelte-1xv9cfi{border:2px solid var(--background);max-height:100%;overflow-y:auto}.chart-title.svelte-1oikip4{font-size:var(--smallText)}rect.svelte-1oikip4:hover{stroke:var(--black)}#stackedrect-holder.svelte-1oikip4{height:100%;width:100%}.axis-line.svelte-1oikip4{stroke-width:3;stroke:var(--black);fill:none}.axis-tick.svelte-1oikip4{stroke-width:1;fill:none;opacity:0;font-size:9px}.axis-text.svelte-1oikip4{font-size:calc(var(--smallText) * .9)}.svelte-kz2qh6{transition:all .3s}.chart-title.svelte-kz2qh6{font-size:var(--smallText)}rect.svelte-kz2qh6:hover{stroke:var(--black)}.histogram-container.svelte-kz2qh6{height:100%;width:100%}.axis-line.svelte-kz2qh6{stroke-width:3;stroke:var(--black);fill:none}.axis-tick.svelte-kz2qh6{stroke-width:1;fill:none;opacity:0;font-size:9px}.axis-text.svelte-kz2qh6{font-size:calc(var(--smallText) * .9)}.svelte-1pknxov{font-family:Lato}.card-container.svelte-1pknxov{border:2px solid var(--black);width:100%;height:100%;display:grid;grid-template-columns:100%;grid-template-rows:35% 50% 10%;padding:5px;box-sizing:border-box}.card-text.svelte-1pknxov{text-align:left;margin:0;padding:0 0 0 2px;font-weight:700;font-size:.8em}#feedback-dropdown.svelte-1pknxov{width:98%;border:none;border-bottom:1px solid var(--black);border-top:1px solid var(--black);font-size:var(--smallText);margin-bottom:1px}svg.svelte-1pknxov{width:100%;height:100%;border-bottom:1px solid var(--black)}.small.svelte-1pknxov{font-size:.6em}text.svelte-1pknxov{font-size:3rem;transition:opacity .3s;stroke:#fff;stroke-width:6px;fill:var(--black);stroke-linejoin:round;paint-order:stroke fill;pointer-events:none}.card-container.svelte-mchgj2{border:2px solid var(--black);width:100%;height:100%;display:grid;grid-template-columns:100%;grid-template-rows:35% 50% 10%;padding:5px;box-sizing:border-box}.card-text.svelte-mchgj2{text-align:left;margin:0;padding:0 0 0 2px;font-weight:700;font-size:.8em}#feedback-dropdown.svelte-mchgj2{width:98%;border:none;border-bottom:1px solid var(--black);border-top:1px solid var(--black);font-size:var(--smallText);margin-bottom:1px}svg.svelte-mchgj2{width:100%;height:100%;border-bottom:1px solid var(--black)}.small.svelte-mchgj2{font-size:.6em}text.svelte-mchgj2{font-size:3rem;transition:opacity .3s;stroke:#fff;stroke-width:6px;fill:var(--black);stroke-linejoin:round;paint-order:stroke fill;pointer-events:none}.feedback-container.svelte-14znspc{border-bottom:var(--line);border-right:var(--line);display:grid;grid-template-columns:30% 70%;grid-template-rows:100%;width:90%;height:calc(100vh - var(--headerHeight))}.feedback-left.svelte-14znspc{border-bottom:var(--line);display:grid;grid-template-columns:100%;grid-template-rows:25% 25% 25% 12.5% 12.5%}.left-text.svelte-14znspc{text-align:center;border-bottom:var(--line);border-right:var(--line);display:grid;grid-template-rows:100%;grid-template-columns:50% 50%}.left-confidence.svelte-14znspc{text-align:center;border-bottom:var(--line);border-right:var(--line);display:grid;grid-template-rows:40% 55%}.left-question.svelte-14znspc,.left-filter.svelte-14znspc{border-bottom:var(--line);border-right:var(--line)}.feedback-right.svelte-14znspc{border-bottom:var(--line);border-right:var(--line);display:grid;grid-template-columns:100%;grid-template-rows:30% 70%;grid-template-rows:0% 100%}.right-chart.svelte-14znspc{border-bottom:var(--line);border-right:var(--line);display:grid;grid-template-columns:50% 50%;grid-template-rows:100%}.right-chart-1.svelte-14znspc,.right-chart-2.svelte-14znspc{border-right:var(--line)}.right-table.svelte-14znspc{border-bottom:var(--line);border-right:var(--line)}.card-1.svelte-14znspc{border-right:var(--line)}.ranked-chat.svelte-1nj8mt0.svelte-1nj8mt0{height:100vh;display:grid;grid-template-columns:100%;grid-template-rows:80% 20%}.chat-input-holder.svelte-1nj8mt0.svelte-1nj8mt0{display:flex;flex-direction:column;align-items:center;padding:24px;width:100%;max-width:640px;margin:auto}.chat-input-textarea.svelte-1nj8mt0.svelte-1nj8mt0{background-color:var(--lightgrey);cursor:pointer;width:100%;border:var(--line);border-color:none;margin:12px;outline:none;padding:12px;color:var(--black);font-size:var(--baseFontSize);box-shadow:var(--shadow-md);flex:3;border-radius:0;border-right:0px}.chat-input-form.svelte-1nj8mt0.svelte-1nj8mt0{display:flex;width:100%}.btnyousend.svelte-1nj8mt0.svelte-1nj8mt0{border-radius:0;margin-top:12px;margin-bottom:12px;margin-left:-15px;background:var(--primary);color:var(--black);opacity:.5;transition:all .3s}.active.svelte-1nj8mt0.svelte-1nj8mt0{opacity:1}.instructions.svelte-1nj8mt0.svelte-1nj8mt0{text-align:center;padding:5%;border-right:var(--line)}.instructions.svelte-1nj8mt0 h5.svelte-1nj8mt0{text-align:left}.instructions.svelte-1nj8mt0 p.svelte-1nj8mt0{font-size:var(--smallText);text-align:left;margin:0}.instructions.svelte-1nj8mt0 button.svelte-1nj8mt0{font-size:var(--smallText)}.ranked-feedback-container.svelte-1nj8mt0.svelte-1nj8mt0{display:grid;grid-template-columns:20% 80%}.underline.svelte-1nj8mt0.svelte-1nj8mt0{border-bottom:var(--line)}.bold.svelte-1nj8mt0.svelte-1nj8mt0{font-weight:700;font-size:var(--smallText);margin:0;padding:0}.chatbox.svelte-1nj8mt0.svelte-1nj8mt0{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - var(--headerHeight));background-color:var(--white);box-sizing:border-box;width:95%;margin:auto;height:100%}.chat-log.svelte-1nj8mt0.svelte-1nj8mt0{flex:1;overflow-y:auto;padding:0 10px;box-sizing:border-box}.chat-message.svelte-1nj8mt0.svelte-1nj8mt0{background-color:var(--white);border-bottom:var(--line);box-sizing:border-box}.chat-message-center.svelte-1nj8mt0.svelte-1nj8mt0{display:flex;flex-direction:column;margin-left:auto;margin-right:auto;padding:12px;box-sizing:border-box}.message-content.svelte-1nj8mt0.svelte-1nj8mt0{display:flex;flex-direction:column;box-sizing:border-box}.message-content.svelte-1nj8mt0 .question.svelte-1nj8mt0{text-align:left;border:1px solid var(--grey);padding:5px;margin-bottom:10px;background-color:var(--lightGrey)}.message-content.svelte-1nj8mt0 .answer.svelte-1nj8mt0{display:inline-block;text-align:left;padding:10px;border:1px solid var(--black)}option.svelte-1nj8mt0.svelte-1nj8mt0{font-weight:700;font-size:120%}p.svelte-1nj8mt0.svelte-1nj8mt0{margin:0}.svelte-1nna9rx{font-family:Lato}#chart-holder.svelte-1nna9rx{height:100%;width:100%}.axis-line.svelte-1nna9rx{stroke-width:3;stroke:#000;fill:none}.axis-tick.svelte-1nna9rx{stroke-width:2;stroke:#000;fill:none;opacity:.13}.axis-text.svelte-1nna9rx{font-family:Arial;font-size:12px}.bump-text.svelte-1nna9rx{font-size:12px;pointer-events:none}.model-path.svelte-1nna9rx{fill:none;stroke-width:5;stroke-linecap:round;stroke-linejoin:round}.model-path-outer.svelte-1nna9rx{fill:none;stroke-width:8;stroke-linecap:round;stroke-linejoin:round}.chart-subtitle.svelte-1nna9rx{font-size:12px}#bar-chart-holder.svelte-1y9gffu{height:100%;width:100%}.axis-text.svelte-1y9gffu{font-size:9px}.axis-line.svelte-1y9gffu{stroke-width:3;stroke:#000;fill:none}.label-text.svelte-1y9gffu{font-size:9px}.cell.svelte-hnulv9{max-height:40px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.cell.active.svelte-hnulv9{max-height:100%;overflow:visible;white-space:normal}.svelte-owgjbp.svelte-owgjbp{font-family:Lato,monospace}.table.svelte-owgjbp.svelte-owgjbp{margin:auto;width:90%}.pretty-pager.svelte-owgjbp.svelte-owgjbp{padding-top:1rem}.pretty-table.normal.svelte-owgjbp.svelte-owgjbp{font-size:15px}.pretty-table.normal.svelte-owgjbp th.svelte-owgjbp,.pretty-table.normal.svelte-owgjbp td.svelte-owgjbp{padding:3px 2px}.pretty-table.svelte-owgjbp th.svelte-owgjbp,.pretty-table.svelte-owgjbp td.svelte-owgjbp{vertical-align:top}.pretty-table.svelte-owgjbp thead th.svelte-owgjbp{text-transform:uppercase;font-weight:700;font-family:Work Sans,sans-serif;border-bottom:2px solid black}.pretty-table.svelte-owgjbp th.svelte-owgjbp{cursor:pointer}.pretty-table.svelte-owgjbp tbody td.cell-type-number.svelte-owgjbp,.pretty-table.svelte-owgjbp tbody td.cell-rank.svelte-owgjbp{text-align:right}.pretty-table.svelte-owgjbp tbody td.cell-type-number.svelte-owgjbp,.pretty-table.svelte-owgjbp tbody td.cell-rank.svelte-owgjbp{font-family:menlo,consolas,monaco,monospace;font-size:90%}.pretty-table.svelte-owgjbp tbody td.cell-rank.svelte-owgjbp{padding-right:1em;color:#666}table.pretty-table.svelte-owgjbp.svelte-owgjbp{border-collapse:collapse}table.pretty-table.svelte-owgjbp.svelte-owgjbp{border-collapse:collapse;table-layout:fixed}.pretty-table.svelte-owgjbp tr.svelte-owgjbp{border-bottom:1px solid #eee}td.active.svelte-owgjbp.svelte-owgjbp{max-height:100%;overflow:auto;color:red}td.svelte-owgjbp.svelte-owgjbp:not(.active){overflow:hidden;white-space:normal}tr.svelte-owgjbp.svelte-owgjbp:hover{background:#eee}.pretty-table.svelte-owgjbp.svelte-owgjbp{width:100%}#heatmap-holder.svelte-t6wv8i{height:100%;width:100%}.axis-text.svelte-t6wv8i,.chart-subtitle.svelte-t6wv8i{font-size:12px}.holder.svelte-1gze3r0.svelte-1gze3r0{height:100vh;width:100%;display:flex;justify-content:center;align-items:center}button.svelte-1gze3r0.svelte-1gze3r0{margin:0}.chart-captions.svelte-1gze3r0.svelte-1gze3r0{margin:auto;width:100%;text-align:left;height:100%}.chart-captions.svelte-1gze3r0 h4.svelte-1gze3r0{padding:0;margin:0}.instructions.svelte-1gze3r0.svelte-1gze3r0{text-align:left;padding-left:0}.instructions.svelte-1gze3r0 p.svelte-1gze3r0{font-size:var(--smallText);text-align:left}.instructions.svelte-1gze3r0 button.svelte-1gze3r0{font-size:var(--smallText)}.underline.svelte-1gze3r0.svelte-1gze3r0{border-bottom:var(--line)}.bold.svelte-1gze3r0.svelte-1gze3r0{font-weight:700;font-size:var(--smallText);margin:0;padding:0}.instructions.svelte-1gze3r0.svelte-1gze3r0{border-right:1px solid #eee}.main-container.svelte-1gze3r0.svelte-1gze3r0{display:grid;grid-template-columns:20% 80%}.eval-container.svelte-1gze3r0.svelte-1gze3r0{display:grid;height:100vh;grid-template-rows:100%;grid-template-columns:65% 35%;padding:1rem}.left-charts.svelte-1gze3r0.svelte-1gze3r0{display:grid;grid-template-columns:100%;grid-template-rows:15% 60% 25%}.eval-table.svelte-1gze3r0.svelte-1gze3r0{margin:auto;width:100%}.right-charts.svelte-1gze3r0.svelte-1gze3r0{display:grid;grid-template-columns:100%;grid-template-rows:10% 33% 33%;gap:1%}.main-annotation-container.svelte-3wjb3y.svelte-3wjb3y{display:grid;grid-template-columns:100%;grid-template-rows:90% 10%;height:100vh;width:100%;margin:auto}.buttons.svelte-3wjb3y.svelte-3wjb3y{display:flex;background:var(--grey)}.rating-button.svelte-3wjb3y.svelte-3wjb3y{padding:10px;border:none}.rating-button.svelte-3wjb3y+.rating-button.svelte-3wjb3y{margin-left:-1px}.ranked-chat.svelte-3wjb3y.svelte-3wjb3y{display:grid;grid-template-columns:100%;grid-template-rows:100%;border:var(--line);margin:12px}.chat-input-holder.svelte-3wjb3y.svelte-3wjb3y{align-items:center;width:100%;margin:auto;border-top:var(--line)}.instructions.svelte-3wjb3y.svelte-3wjb3y{text-align:center;padding:5%}.instructions.svelte-3wjb3y h5.svelte-3wjb3y{text-align:left}.instructions.svelte-3wjb3y p.svelte-3wjb3y{font-size:var(--smallText);text-align:left}.instructions.svelte-3wjb3y button.svelte-3wjb3y{font-size:var(--smallText)}.annotation-container.svelte-3wjb3y.svelte-3wjb3y{display:grid;grid-template-columns:40% 60%}.underline.svelte-3wjb3y.svelte-3wjb3y{border-bottom:var(--line)}.bold.svelte-3wjb3y.svelte-3wjb3y{font-weight:700;font-size:var(--smallText);margin:0;padding:0}.chatbox.svelte-3wjb3y.svelte-3wjb3y{display:flex;flex-direction:column;justify-content:space-between;height:calc(100vh - var(--headerHeight));background-color:var(--white);box-sizing:border-box;width:95%;margin:auto;height:100%}.chat-message-center.svelte-3wjb3y.svelte-3wjb3y{display:flex;flex-direction:column;padding:12px;box-sizing:border-box}.message-content.svelte-3wjb3y.svelte-3wjb3y{display:flex;flex-direction:column;box-sizing:border-box;display:block}.message-content.svelte-3wjb3y .question.svelte-3wjb3y{text-align:left;border:1px solid var(--grey);padding:5px;margin-bottom:10px;background-color:var(--lightGrey)}.message-content.svelte-3wjb3y .answer.svelte-3wjb3y{display:block;text-align:left;padding:10px;border:1px solid var(--black)}.message-content.svelte-3wjb3y .answers.svelte-3wjb3y{display:grid;grid-template-columns:100%;gap:2%;width:100%;margin:auto}
`,document.head.appendChild(wr);const Wc="",Vc="",Xc="";function W(){}const kr=e=>e;function An(e,t){for(const n in t)e[n]=t[n];return e}function xr(e){return e()}function Sr(){return Object.create(null)}function ve(e){e.forEach(xr)}function tt(e){return typeof e=="function"}function ae(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function El(e){return Object.keys(e).length===0}function Cl(e,...t){if(e==null)return W;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function ee(e,t,n){e.$$.on_destroy.push(Cl(t,n))}function Ye(e,t,n){return e.set(n),t}function Mn(e){return e&&tt(e.destroy)?e.destroy:W}const zr=typeof window<"u";let Er=zr?()=>window.performance.now():()=>Date.now(),jn=zr?e=>requestAnimationFrame(e):W;const pt=new Set;function Cr(e){pt.forEach(t=>{t.c(e)||(pt.delete(t),t.f())}),pt.size!==0&&jn(Cr)}function Tr(e){let t;return pt.size===0&&jn(Cr),{promise:new Promise(n=>{pt.add(t={c:e,f:n})}),abort(){pt.delete(t)}}}function _(e,t){e.appendChild(t)}function Ar(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Tl(e){const t=M("style");return Al(Ar(e),t),t.sheet}function Al(e,t){return _(e.head||e,t),t.sheet}function P(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function te(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function M(e){return document.createElement(e)}function O(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function R(e){return document.createTextNode(e)}function I(){return R(" ")}function we(){return R("")}function Q(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function c(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ml(e){return Array.from(e.childNodes)}function X(e,t){t=""+t,e.data!==t&&(e.data=t)}function gt(e,t){e.value=t??""}function de(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function Ut(e,t,n){for(let r=0;r<e.options.length;r+=1){const o=e.options[r];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Mr(e){const t=e.querySelector(":checked");return t&&t.__value}let Jt;function jl(){if(Jt===void 0){Jt=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Jt=!0}}return Jt}function Re(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=M("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const o=jl();let l;return o?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=Q(window,"message",a=>{a.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{l=Q(r.contentWindow,"resize",t),t()}),_(e,r),()=>{(o||l&&r.contentWindow)&&l(),N(r)}}function jr(e,t,n){e.classList[n?"add":"remove"](t)}function Dl(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}function Dr(e,t){return new e(t)}const Kt=new Map;let Zt=0;function $l(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function ql(e,t){const n={stylesheet:Tl(t),rules:{}};return Kt.set(e,n),n}function $r(e,t,n,r,o,l,a,s=0){const u=16.666/r;let f=`{
`;for(let v=0;v<=1;v+=u){const S=t+(n-t)*l(v);f+=v*100+`%{${a(S,1-S)}}
`}const d=f+`100% {${a(n,1-n)}}
}`,h=`__svelte_${$l(d)}_${s}`,g=Ar(e),{stylesheet:m,rules:p}=Kt.get(g)||ql(g,e);p[h]||(p[h]=!0,m.insertRule(`@keyframes ${h} ${d}`,m.cssRules.length));const b=e.style.animation||"";return e.style.animation=`${b?`${b}, `:""}${h} ${r}ms linear ${o}ms 1 both`,Zt+=1,h}function Nl(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?l=>l.indexOf(t)<0:l=>l.indexOf("__svelte")===-1),o=n.length-r.length;o&&(e.style.animation=r.join(", "),Zt-=o,Zt||Ol())}function Ol(){jn(()=>{Zt||(Kt.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&N(t)}),Kt.clear())})}let jt;function Dt(e){jt=e}function Pl(){if(!jt)throw new Error("Function called outside component initialization");return jt}function mt(e){Pl().$$.on_mount.push(e)}const vt=[],Dn=[];let bt=[];const qr=[],Fl=Promise.resolve();let $n=!1;function Il(){$n||($n=!0,Fl.then(Nr))}function _e(e){bt.push(e)}const qn=new Set;let _t=0;function Nr(){if(_t!==0)return;const e=jt;do{try{for(;_t<vt.length;){const t=vt[_t];_t++,Dt(t),Rl(t.$$)}}catch(t){throw vt.length=0,_t=0,t}for(Dt(null),vt.length=0,_t=0;Dn.length;)Dn.pop()();for(let t=0;t<bt.length;t+=1){const n=bt[t];qn.has(n)||(qn.add(n),n())}bt.length=0}while(vt.length);for(;qr.length;)qr.pop()();$n=!1,qn.clear(),Dt(e)}function Rl(e){if(e.fragment!==null){e.update(),ve(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_e)}}function Bl(e){const t=[],n=[];bt.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),bt=t}let $t;function Ll(){return $t||($t=Promise.resolve(),$t.then(()=>{$t=null})),$t}function Nn(e,t,n){e.dispatchEvent(Dl(`${t?"intro":"outro"}${n}`))}const en=new Set;let Be;function nt(){Be={r:0,c:[],p:Be}}function rt(){Be.r||ve(Be.c),Be=Be.p}function Y(e,t){e&&e.i&&(en.delete(e),e.i(t))}function Z(e,t,n,r){if(e&&e.o){if(en.has(e))return;en.add(e),Be.c.push(()=>{en.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const Hl={duration:0};function Or(e,t,n,r){const o={direction:"both"};let l=t(e,n,o),a=r?0:1,s=null,u=null,f=null;function d(){f&&Nl(e,f)}function h(m,p){const b=m.b-a;return p*=Math.abs(b),{a,b:m.b,d:b,duration:p,start:m.start,end:m.start+p,group:m.group}}function g(m){const{delay:p=0,duration:b=300,easing:v=kr,tick:S=W,css:k}=l||Hl,z={start:Er()+p,b:m};m||(z.group=Be,Be.r+=1),s||u?u=z:(k&&(d(),f=$r(e,a,m,b,p,v,k)),m&&S(0,1),s=h(z,b),_e(()=>Nn(e,m,"start")),Tr(C=>{if(u&&C>u.start&&(s=h(u,b),u=null,Nn(e,s.b,"start"),k&&(d(),f=$r(e,a,s.b,s.duration,0,v,l.css))),s){if(C>=s.end)S(a=s.b,1-a),Nn(e,s.b,"end"),u||(s.b?d():--s.group.r||ve(s.group.c)),s=null;else if(C>=s.start){const E=C-s.start;a=s.a+s.d*v(E/s.duration),S(a,1-a)}}return!!(s||u)}))}return{run(m){tt(l)?Ll().then(()=>{l=l(o),g(m)}):g(m)},end(){d(),s=u=null}}}function ot(e,t){e.d(1),t.delete(e.key)}function it(e,t,n,r,o,l,a,s,u,f,d,h){let g=e.length,m=l.length,p=g;const b={};for(;p--;)b[e[p].key]=p;const v=[],S=new Map,k=new Map,z=[];for(p=m;p--;){const y=h(o,l,p),x=n(y);let w=a.get(x);w?r&&z.push(()=>w.p(y,t)):(w=f(x,y),w.c()),S.set(x,v[p]=w),x in b&&k.set(x,Math.abs(p-b[x]))}const C=new Set,E=new Set;function T(y){Y(y,1),y.m(s,d),a.set(y.key,y),d=y.first,m--}for(;g&&m;){const y=v[m-1],x=e[g-1],w=y.key,A=x.key;y===x?(d=y.first,g--,m--):S.has(A)?!a.has(w)||C.has(w)?T(y):E.has(A)?g--:k.get(w)>k.get(A)?(E.add(w),T(y)):(C.add(A),g--):(u(x,a),g--)}for(;g--;){const y=e[g];S.has(y.key)||u(y,a)}for(;m;)T(v[m-1]);return ve(z),v}function Gl(e,t){const n={},r={},o={$$scope:1};let l=e.length;for(;l--;){const a=e[l],s=t[l];if(s){for(const u in a)u in s||(r[u]=1);for(const u in s)o[u]||(n[u]=s[u],o[u]=1);e[l]=s}else for(const u in a)o[u]=1}for(const a in r)a in n||(n[a]=void 0);return n}function Wl(e){return typeof e=="object"&&e!==null?e:{}}function me(e){e&&e.c()}function he(e,t,n,r){const{fragment:o,after_update:l}=e.$$;o&&o.m(t,n),r||_e(()=>{const a=e.$$.on_mount.map(xr).filter(tt);e.$$.on_destroy?e.$$.on_destroy.push(...a):ve(a),e.$$.on_mount=[]}),l.forEach(_e)}function pe(e,t){const n=e.$$;n.fragment!==null&&(Bl(n.after_update),ve(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Vl(e,t){e.$$.dirty[0]===-1&&(vt.push(e),Il(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function se(e,t,n,r,o,l,a,s=[-1]){const u=jt;Dt(e);const f=e.$$={fragment:null,ctx:[],props:l,update:W,not_equal:o,bound:Sr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Sr(),dirty:s,skip_bound:!1,root:t.target||u.$$.root};a&&a(f.root);let d=!1;if(f.ctx=n?n(e,t.props||{},(h,g,...m)=>{const p=m.length?m[0]:g;return f.ctx&&o(f.ctx[h],f.ctx[h]=p)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](p),d&&Vl(e,h)),g}):[],f.update(),d=!0,ve(f.before_update),f.fragment=r?r(f.ctx):!1,t.target){if(t.hydrate){const h=Ml(t.target);f.fragment&&f.fragment.l(h),h.forEach(N)}else f.fragment&&f.fragment.c();t.intro&&Y(e.$$.fragment),he(e,t.target,t.anchor,t.customElement),Nr()}Dt(u)}class ue{$destroy(){pe(this,1),this.$destroy=W}$on(t,n){if(!tt(n))return W;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!El(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const yt=[];function Le(e,t=W){let n;const r=new Set;function o(s){if(ae(e,s)&&(e=s,n)){const u=!yt.length;for(const f of r)f[1](),yt.push(f,e);if(u){for(let f=0;f<yt.length;f+=2)yt[f][0](yt[f+1]);yt.length=0}}}function l(s){o(s(e))}function a(s,u=W){const f=[s,u];return r.add(f),r.size===1&&(n=t(o)||W),s(e),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:o,update:l,subscribe:a}}function Pr(e){const t=e-1;return t*t*t+1}function Fr(e){return Object.prototype.toString.call(e)==="[object Date]"}function On(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((o,l)=>On(e[l],o));return o=>r.map(l=>l(o))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Fr(e)&&Fr(t)){e=e.getTime(),t=t.getTime();const l=t-e;return a=>new Date(e+a*l)}const r=Object.keys(t),o={};return r.forEach(l=>{o[l]=On(e[l],t[l])}),l=>{const a={};return r.forEach(s=>{a[s]=o[s](l)}),a}}if(n==="number"){const r=t-e;return o=>e+o*r}throw new Error(`Cannot interpolate ${n} values`)}function Pn(e,t={}){const n=Le(e);let r,o=e;function l(a,s){if(e==null)return n.set(e=a),Promise.resolve();o=a;let u=r,f=!1,{delay:d=0,duration:h=400,easing:g=kr,interpolate:m=On}=An(An({},t),s);if(h===0)return u&&(u.abort(),u=null),n.set(e=o),Promise.resolve();const p=Er()+d;let b;return r=Tr(v=>{if(v<p)return!0;f||(b=m(e,a),typeof h=="function"&&(h=h(e,a)),f=!0),u&&(u.abort(),u=null);const S=v-p;return S>h?(n.set(e=a),!1):(n.set(e=b(g(S/h))),!0)}),r.promise}return{set:l,update:(a,s)=>l(a(o,e),s),subscribe:n.subscribe}}const Te=Le([]),Fn=Le([]),In=Le([]),$e=Le("all"),Ir=Le({"n/a":1,up:1,down:1}),Rn=Pn(["who","what","how","why","where","does","can","n/a"].map(e=>({question:e,count:0})));var Bn="http://www.w3.org/1999/xhtml";const Rr={svg:"http://www.w3.org/2000/svg",xhtml:Bn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Br(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Rr.hasOwnProperty(t)?{space:Rr[t],local:e}:e}function Xl(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Bn&&t.documentElement.namespaceURI===Bn?t.createElement(e):t.createElementNS(n,e)}}function Yl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Lr(e){var t=Br(e);return(t.local?Yl:Xl)(t)}function Ql(){}function Hr(e){return e==null?Ql:function(){return this.querySelector(e)}}function Ul(e){typeof e!="function"&&(e=Hr(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var l=t[o],a=l.length,s=r[o]=new Array(a),u,f,d=0;d<a;++d)(u=l[d])&&(f=e.call(u,u.__data__,d,l))&&("__data__"in u&&(f.__data__=u.__data__),s[d]=f);return new Ae(r,this._parents)}function Jl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Kl(){return[]}function Zl(e){return e==null?Kl:function(){return this.querySelectorAll(e)}}function ea(e){return function(){return Jl(e.apply(this,arguments))}}function ta(e){typeof e=="function"?e=ea(e):e=Zl(e);for(var t=this._groups,n=t.length,r=[],o=[],l=0;l<n;++l)for(var a=t[l],s=a.length,u,f=0;f<s;++f)(u=a[f])&&(r.push(e.call(u,u.__data__,f,a)),o.push(u));return new Ae(r,o)}function na(e){return function(){return this.matches(e)}}function Gr(e){return function(t){return t.matches(e)}}var ra=Array.prototype.find;function oa(e){return function(){return ra.call(this.children,e)}}function ia(){return this.firstElementChild}function la(e){return this.select(e==null?ia:oa(typeof e=="function"?e:Gr(e)))}var aa=Array.prototype.filter;function sa(){return Array.from(this.children)}function ua(e){return function(){return aa.call(this.children,e)}}function fa(e){return this.selectAll(e==null?sa:ua(typeof e=="function"?e:Gr(e)))}function ca(e){typeof e!="function"&&(e=na(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var l=t[o],a=l.length,s=r[o]=[],u,f=0;f<a;++f)(u=l[f])&&e.call(u,u.__data__,f,l)&&s.push(u);return new Ae(r,this._parents)}function Wr(e){return new Array(e.length)}function da(){return new Ae(this._enter||this._groups.map(Wr),this._parents)}function tn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}tn.prototype={constructor:tn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ha(e){return function(){return e}}function pa(e,t,n,r,o,l){for(var a=0,s,u=t.length,f=l.length;a<f;++a)(s=t[a])?(s.__data__=l[a],r[a]=s):n[a]=new tn(e,l[a]);for(;a<u;++a)(s=t[a])&&(o[a]=s)}function ga(e,t,n,r,o,l,a){var s,u,f=new Map,d=t.length,h=l.length,g=new Array(d),m;for(s=0;s<d;++s)(u=t[s])&&(g[s]=m=a.call(u,u.__data__,s,t)+"",f.has(m)?o[s]=u:f.set(m,u));for(s=0;s<h;++s)m=a.call(e,l[s],s,l)+"",(u=f.get(m))?(r[s]=u,u.__data__=l[s],f.delete(m)):n[s]=new tn(e,l[s]);for(s=0;s<d;++s)(u=t[s])&&f.get(g[s])===u&&(o[s]=u)}function ma(e){return e.__data__}function va(e,t){if(!arguments.length)return Array.from(this,ma);var n=t?ga:pa,r=this._parents,o=this._groups;typeof e!="function"&&(e=ha(e));for(var l=o.length,a=new Array(l),s=new Array(l),u=new Array(l),f=0;f<l;++f){var d=r[f],h=o[f],g=h.length,m=ba(e.call(d,d&&d.__data__,f,r)),p=m.length,b=s[f]=new Array(p),v=a[f]=new Array(p),S=u[f]=new Array(g);n(d,h,b,v,S,m,t);for(var k=0,z=0,C,E;k<p;++k)if(C=b[k]){for(k>=z&&(z=k+1);!(E=v[z])&&++z<p;);C._next=E||null}}return a=new Ae(a,r),a._enter=s,a._exit=u,a}function ba(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _a(){return new Ae(this._exit||this._groups.map(Wr),this._parents)}function ya(e,t,n){var r=this.enter(),o=this,l=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?l.remove():n(l),r&&o?r.merge(o).order():o}function wa(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,l=r.length,a=Math.min(o,l),s=new Array(o),u=0;u<a;++u)for(var f=n[u],d=r[u],h=f.length,g=s[u]=new Array(h),m,p=0;p<h;++p)(m=f[p]||d[p])&&(g[p]=m);for(;u<o;++u)s[u]=n[u];return new Ae(s,this._parents)}function ka(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,l=r[o],a;--o>=0;)(a=r[o])&&(l&&a.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(a,l),l=a);return this}function xa(e){e||(e=Sa);function t(h,g){return h&&g?e(h.__data__,g.__data__):!h-!g}for(var n=this._groups,r=n.length,o=new Array(r),l=0;l<r;++l){for(var a=n[l],s=a.length,u=o[l]=new Array(s),f,d=0;d<s;++d)(f=a[d])&&(u[d]=f);u.sort(t)}return new Ae(o,this._parents).order()}function Sa(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function za(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ea(){return Array.from(this)}function Ca(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,l=r.length;o<l;++o){var a=r[o];if(a)return a}return null}function Ta(){let e=0;for(const t of this)++e;return e}function Aa(){return!this.node()}function Ma(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],l=0,a=o.length,s;l<a;++l)(s=o[l])&&e.call(s,s.__data__,l,o);return this}function ja(e){return function(){this.removeAttribute(e)}}function Da(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $a(e,t){return function(){this.setAttribute(e,t)}}function qa(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Na(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Oa(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Pa(e,t){var n=Br(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Da:ja:typeof t=="function"?n.local?Oa:Na:n.local?qa:$a)(n,t))}function Vr(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Fa(e){return function(){this.style.removeProperty(e)}}function Ia(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ra(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ba(e,t,n){return arguments.length>1?this.each((t==null?Fa:typeof t=="function"?Ra:Ia)(e,t,n??"")):La(this.node(),e)}function La(e,t){return e.style.getPropertyValue(t)||Vr(e).getComputedStyle(e,null).getPropertyValue(t)}function Ha(e){return function(){delete this[e]}}function Ga(e,t){return function(){this[e]=t}}function Wa(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Va(e,t){return arguments.length>1?this.each((t==null?Ha:typeof t=="function"?Wa:Ga)(e,t)):this.node()[e]}function Xr(e){return e.trim().split(/^|\s+/)}function Ln(e){return e.classList||new Yr(e)}function Yr(e){this._node=e,this._names=Xr(e.getAttribute("class")||"")}Yr.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Qr(e,t){for(var n=Ln(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function Ur(e,t){for(var n=Ln(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Xa(e){return function(){Qr(this,e)}}function Ya(e){return function(){Ur(this,e)}}function Qa(e,t){return function(){(t.apply(this,arguments)?Qr:Ur)(this,e)}}function Ua(e,t){var n=Xr(e+"");if(arguments.length<2){for(var r=Ln(this.node()),o=-1,l=n.length;++o<l;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Qa:t?Xa:Ya)(n,t))}function Ja(){this.textContent=""}function Ka(e){return function(){this.textContent=e}}function Za(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function es(e){return arguments.length?this.each(e==null?Ja:(typeof e=="function"?Za:Ka)(e)):this.node().textContent}function ts(){this.innerHTML=""}function ns(e){return function(){this.innerHTML=e}}function rs(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function os(e){return arguments.length?this.each(e==null?ts:(typeof e=="function"?rs:ns)(e)):this.node().innerHTML}function is(){this.nextSibling&&this.parentNode.appendChild(this)}function ls(){return this.each(is)}function as(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ss(){return this.each(as)}function us(e){var t=typeof e=="function"?e:Lr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function fs(){return null}function cs(e,t){var n=typeof e=="function"?e:Lr(e),r=t==null?fs:typeof t=="function"?t:Hr(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ds(){var e=this.parentNode;e&&e.removeChild(this)}function hs(){return this.each(ds)}function ps(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gs(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ms(e){return this.select(e?gs:ps)}function vs(e){return arguments.length?this.property("__data__",e):this.node().__data__}function bs(e){return function(t){e.call(this,t,this.__data__)}}function _s(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ys(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,l;n<o;++n)l=t[n],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):t[++r]=l;++r?t.length=r:delete this.__on}}}function ws(e,t,n){return function(){var r=this.__on,o,l=bs(t);if(r){for(var a=0,s=r.length;a<s;++a)if((o=r[a]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=l,o.options=n),o.value=t;return}}this.addEventListener(e.type,l,n),o={type:e.type,name:e.name,value:t,listener:l,options:n},r?r.push(o):this.__on=[o]}}function ks(e,t,n){var r=_s(e+""),o,l=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,f=s.length,d;u<f;++u)for(o=0,d=s[u];o<l;++o)if((a=r[o]).type===d.type&&a.name===d.name)return d.value}return}for(s=t?ws:ys,o=0;o<l;++o)this.each(s(r[o],t,n));return this}function Jr(e,t,n){var r=Vr(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function xs(e,t){return function(){return Jr(this,e,t)}}function Ss(e,t){return function(){return Jr(this,e,t.apply(this,arguments))}}function zs(e,t){return this.each((typeof t=="function"?Ss:xs)(e,t))}function*Es(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,l=r.length,a;o<l;++o)(a=r[o])&&(yield a)}var Cs=[null];function Ae(e,t){this._groups=e,this._parents=t}function Ts(){return this}Ae.prototype={constructor:Ae,select:Ul,selectAll:ta,selectChild:la,selectChildren:fa,filter:ca,data:va,enter:da,exit:_a,join:ya,merge:wa,selection:Ts,order:ka,sort:xa,call:za,nodes:Ea,node:Ca,size:Ta,empty:Aa,each:Ma,attr:Pa,style:Ba,property:Va,classed:Ua,text:es,html:os,raise:ls,lower:ss,append:us,insert:cs,remove:hs,clone:ms,datum:vs,on:ks,dispatch:zs,[Symbol.iterator]:Es};function wt(e){return typeof e=="string"?new Ae([[document.querySelector(e)]],[document.documentElement]):new Ae([[e]],Cs)}const Qc="";function Kr(e,t,n){const r=e.slice();return r[13]=t[n],r[15]=n,r}function Zr(e){let t,n,r,o,l,a;function s(...f){return e[8](e[15],...f)}function u(...f){return e[9](e[15],...f)}return{c(){t=M("div"),n=M("button"),n.textContent="",r=I(),o=M("button"),o.textContent="",c(n,"class","small-button thumbs-up svelte-9ap43o"),c(o,"class","small-button thumbs-down svelte-9ap43o"),c(t,"class","feedback-buttons svelte-9ap43o")},m(f,d){P(f,t,d),_(t,n),_(t,r),_(t,o),l||(a=[Q(n,"click",s),Q(o,"click",u)],l=!0)},p(f,d){e=f},d(f){f&&N(t),l=!1,ve(a)}}}function eo(e,t){let n,r,o,l,a,s,u,f,d,h=t[13].question+"",g,m,p,b,v,S,k,z=t[13].answer+"",C,E,T,y,x,w,A=t[0]&&Zr(t);return{key:e,first:null,c(){n=M("div"),r=M("div"),o=M("div"),l=I(),a=M("div"),s=M("div"),u=M("h5"),u.textContent="Question:",f=I(),d=M("p"),g=R(h),m=I(),p=M("div"),b=M("div"),v=M("h5"),v.textContent="Response:",S=I(),k=M("p"),C=R(z),E=I(),A&&A.c(),T=I(),c(o,"class","avatar"),c(u,"class","bold svelte-9ap43o"),c(s,"class","question svelte-9ap43o"),c(v,"class","bold svelte-9ap43o"),c(b,"class","answer svelte-9ap43o"),c(p,"class","answers svelte-9ap43o"),c(a,"class","message-content svelte-9ap43o"),c(r,"class","chat-message-center svelte-9ap43o"),c(n,"class","chat-message svelte-9ap43o"),this.first=n},m(j,q){P(j,n,q),_(n,r),_(r,o),_(r,l),_(r,a),_(a,s),_(s,u),_(s,f),_(s,d),_(d,g),_(a,m),_(a,p),_(p,b),_(b,v),_(b,S),_(b,k),_(k,C),_(b,E),A&&A.m(b,null),_(n,T),x||(w=Mn(y=Ms.call(null,n,t[15]===t[4].length-1)),x=!0)},p(j,q){t=j,q&16&&h!==(h=t[13].question+"")&&X(g,h),q&16&&z!==(z=t[13].answer+"")&&X(C,z),t[0]?A?A.p(t,q):(A=Zr(t),A.c(),A.m(b,null)):A&&(A.d(1),A=null),y&&tt(y.update)&&q&16&&y.update.call(null,t[15]===t[4].length-1)},d(j){j&&N(n),A&&A.d(),x=!1,w()}}}function As(e){let t,n,r,o,l,a,s=[],u=new Map,f,d,h,g,m,p,b=(e[2]?e[3]:"Send")+"",v,S,k,z,C,E,T=e[4];const y=x=>x[15];for(let x=0;x<T.length;x+=1){let w=Kr(e,T,x),A=y(w);u.set(A,s[x]=eo(A,w))}return{c(){t=M("div"),n=M("div"),n.innerHTML=`<h5 class="underline bold svelte-9ap43o">Vote Feedback Instructions</h5> 
    <p class="svelte-9ap43o">Ask a question to receive an answer from the chatbot. If the response is
      satisfactory, click on the <span class="inline-button green svelte-9ap43o"></span>
      button. If the repsonse is not satisfactory, click on the
      <span class="inline-button red svelte-9ap43o"></span> button.</p> 
    <button class="svelte-9ap43o">Download Data</button>`,r=I(),o=M("div"),l=M("section"),a=M("div");for(let x=0;x<s.length;x+=1)s[x].c();f=I(),d=M("div"),h=M("form"),g=M("input"),m=I(),p=M("button"),v=R(b),k=I(),z=M("p"),z.textContent="Note - may produce inaccurate information.",c(n,"class","instructions svelte-9ap43o"),c(a,"class","chat-log svelte-9ap43o"),c(l,"class","chatbox svelte-9ap43o"),c(g,"class","chat-input-textarea svelte-9ap43o"),c(g,"placeholder","Type Question Here"),c(p,"class",S="btnyousend "+(e[1]===""?"":"active")+" svelte-9ap43o"),c(p,"type","submit"),c(h,"class","chat-input-form svelte-9ap43o"),c(z,"class","message svelte-9ap43o"),c(d,"class","chat-input-holder svelte-9ap43o"),c(o,"class","ranked-chat svelte-9ap43o"),c(t,"class","ranked-feedback-container svelte-9ap43o")},m(x,w){P(x,t,w),_(t,n),_(t,r),_(t,o),_(o,l),_(l,a);for(let A=0;A<s.length;A+=1)s[A]&&s[A].m(a,null);_(o,f),_(o,d),_(d,h),_(h,g),gt(g,e[1]),_(h,m),_(h,p),_(p,v),_(d,k),_(d,z),C||(E=[Q(g,"input",e[10]),Q(h,"submit",e[5])],C=!0)},p(x,[w]){w&81&&(T=x[4],s=it(s,w,y,1,x,T,u,a,ot,eo,null,Kr)),w&2&&g.value!==x[1]&&gt(g,x[1]),w&12&&b!==(b=(x[2]?x[3]:"Send")+"")&&X(v,b),w&2&&S!==(S="btnyousend "+(x[1]===""?"":"active")+" svelte-9ap43o")&&c(p,"class",S)},i:W,o:W,d(x){x&&N(t);for(let w=0;w<s.length;w+=1)s[w].d();C=!1,ve(E)}}}function Ms(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function js(e){const t=await fetch("/chat/qa_table/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)console.log("response",t);else{const n=await t.text();alert(n)}}function Ds(e,t,n){let r,o;ee(e,Te,v=>n(4,o=v));let{feedback:l=!1}=t,a="",s="",u=!1;mt(()=>{f()});async function f(){const z=(await(await fetch("/chat/qa_table/retrieve")).json()).rows.map(C=>({id:C[0],question:C[1],answer:C[2],vote_status:C[3]}));Ye(Te,o=[...z],o)}const d=async v=>{v.preventDefault(),a=s,n(1,s=""),n(2,u=!0);let S={id:o.length+1,question:a,answer:"Loading...",vote_status:"na"};Ye(Te,o=[...o,S],o);const k=await fetch(`/chat/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:a})});if(k.ok){const z=await k.json();S.answer=z.answer,Te.update(C=>(C[C.length-1]=S,C))}else{const z=await k.text();alert(z)}n(2,u=!1)};let h=0;setInterval(()=>{n(7,h=(h+1)%4)},200);function g(v,S,k){const z=o[k];z.vote=S;const C={id:k+1,vote_status:S};js(C),wt(v.currentTarget.parentNode).selectAll("button").style("border","3px solid transparent").style("opacity",.65),wt(v.currentTarget).style("border","3px solid var(--black)").style("opacity",1)}const m=(v,S)=>g(S,"up",v),p=(v,S)=>g(S,"down",v);function b(){s=this.value,n(1,s)}return e.$$set=v=>{"feedback"in v&&n(0,l=v.feedback)},e.$$.update=()=>{e.$$.dirty&128&&n(3,r=".".repeat(h).padEnd(3))},[l,s,u,r,o,d,g,h,m,p,b]}class to extends ue{constructor(t){super(),se(this,t,Ds,As,ae,{feedback:0})}}const Uc="";function no(e,t,n){const r=e.slice();return r[14]=t[n],r[16]=n,r}function ro(e,t){let n,r,o,l,a,s,u,f,d,h=t[14].question+"",g,m,p,b,v,S,k,z=t[14].up_ranking_answer+"",C,E,T,y,x,w,A=t[14].low_ranking_answer+"",j,q,B,J,re;function le(...ce){return t[7](t[14],t[16],...ce)}function D(...ce){return t[8](t[14],t[16],...ce)}function G(...ce){return t[9](t[14],t[16],...ce)}function F(...ce){return t[10](t[14],t[16],...ce)}return{key:e,first:null,c(){n=M("div"),r=M("div"),o=M("div"),l=I(),a=M("div"),s=M("div"),u=M("h5"),u.textContent="Question:",f=I(),d=M("p"),g=R(h),m=I(),p=M("div"),b=M("div"),v=M("h5"),v.textContent="Response 1:",S=I(),k=M("p"),C=R(z),E=I(),T=M("div"),y=M("h5"),y.textContent="Response 2:",x=I(),w=M("p"),j=R(A),q=I(),c(o,"class","avatar"),c(u,"class","bold svelte-au920n"),c(s,"class","question svelte-au920n"),c(v,"class","bold underline svelte-au920n"),c(b,"class","answer svelte-au920n"),c(y,"class","bold underline svelte-au920n"),c(T,"class","answer svelte-au920n"),c(p,"class","answers svelte-au920n"),c(a,"class","message-content svelte-au920n"),c(r,"class","chat-message-center svelte-au920n"),c(n,"class","chat-message svelte-au920n"),this.first=n},m(ce,Xe){P(ce,n,Xe),_(n,r),_(r,o),_(r,l),_(r,a),_(a,s),_(s,u),_(s,f),_(s,d),_(d,g),_(a,m),_(a,p),_(p,b),_(b,v),_(b,S),_(b,k),_(k,C),_(p,E),_(p,T),_(T,y),_(T,x),_(T,w),_(w,j),_(n,q),J||(re=[Q(b,"click",le),Q(b,"keydown",D),Q(T,"click",G),Q(T,"keydown",F),Mn(B=qs.call(null,n,t[16]===t[3].length-1))],J=!0)},p(ce,Xe){t=ce,Xe&8&&h!==(h=t[14].question+"")&&X(g,h),Xe&8&&z!==(z=t[14].up_ranking_answer+"")&&X(C,z),Xe&8&&A!==(A=t[14].low_ranking_answer+"")&&X(j,A),B&&tt(B.update)&&Xe&8&&B.update.call(null,t[16]===t[3].length-1)},d(ce){ce&&N(n),J=!1,ve(re)}}}function $s(e){let t,n,r,o,l,a,s=[],u=new Map,f,d,h,g,m,p,b=(e[1]?e[2]:"Send")+"",v,S,k,z,C,E,T=e[3];const y=x=>x[16];for(let x=0;x<T.length;x+=1){let w=no(e,T,x),A=y(w);u.set(A,s[x]=ro(A,w))}return{c(){t=M("div"),n=M("div"),n.innerHTML=`<h5 class="underline bold svelte-au920n">Ranked Feedback Instructions</h5> 
    <p class="svelte-au920n">Ask a question and click on the better of the two responses. The better
      response will be outlined in <span class="green svelte-au920n">green</span>, the worse
      response outlined in <span class="red svelte-au920n">red</span>. This data will be
      automatically fed to RLHF.</p> 
    <button class="svelte-au920n">Download Data</button>`,r=I(),o=M("div"),l=M("section"),a=M("div");for(let x=0;x<s.length;x+=1)s[x].c();f=I(),d=M("div"),h=M("form"),g=M("input"),m=I(),p=M("button"),v=R(b),k=I(),z=M("p"),z.textContent="Note - may produce inaccurate information.",c(n,"class","instructions svelte-au920n"),c(a,"class","chat-log svelte-au920n"),c(l,"class","chatbox svelte-au920n"),c(g,"class","chat-input-textarea svelte-au920n"),c(g,"placeholder","Type Message Here"),c(p,"class",S="btnyousend "+(e[0]===""?"":"active")+" svelte-au920n"),c(p,"type","submit"),c(h,"class","chat-input-form svelte-au920n"),c(z,"class","message svelte-au920n"),c(d,"class","chat-input-holder svelte-au920n"),c(o,"class","ranked-chat svelte-au920n"),c(t,"class","ranked-feedback-container svelte-au920n")},m(x,w){P(x,t,w),_(t,n),_(t,r),_(t,o),_(o,l),_(l,a);for(let A=0;A<s.length;A+=1)s[A]&&s[A].m(a,null);_(o,f),_(o,d),_(d,h),_(h,g),gt(g,e[0]),_(h,m),_(h,p),_(p,v),_(d,k),_(d,z),C||(E=[Q(g,"input",e[11]),Q(h,"submit",e[4])],C=!0)},p(x,[w]){w&40&&(T=x[3],s=it(s,w,y,1,x,T,u,a,ot,ro,null,no)),w&1&&g.value!==x[0]&&gt(g,x[0]),w&6&&b!==(b=(x[1]?x[2]:"Send")+"")&&X(v,b),w&1&&S!==(S="btnyousend "+(x[0]===""?"":"active")+" svelte-au920n")&&c(p,"class",S)},i:W,o:W,d(x){x&&N(t);for(let w=0;w<s.length;w+=1)s[w].d();C=!1,ve(E)}}}function qs(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function Ns(e){const t=await fetch("/chat/ranking_table/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)console.log("response",t);else{const n=await t.text();alert(n)}}function Os(e,t,n){let r,o;ee(e,Fn,v=>n(3,o=v));let l="",a="",s=!1;mt(()=>{});const u=async v=>{v.preventDefault(),l=a,n(0,a=""),n(1,s=!0);let S={question:l,up_ranking_answer:"Loading...",low_ranking_answer:"Loading..."};Ye(Fn,o=[...o,S],o);const k=await fetch(`/chat/multi_responses/${l}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:l})});if(k.ok){const z=await k.json();S.up_ranking_answer=z.answer[0],S.low_ranking_answer=z.answer[1],Fn.update(C=>(C[C.length-1]=S,C))}else{const z=await k.text();alert(z)}n(1,s=!1)};let f=0;setInterval(()=>{n(6,f=(f+1)%4)},200);function d(v,S,k,z){const C=o[k],E={1:"up_ranking_answer",2:"low_ranking_answer"},T={question:C.question,up_ranking_answer:C[E[z]],low_ranking_answer:C[E[z%2+1]]};Ns(T),wt(v.currentTarget.parentNode).selectAll("div").style("outline","2px solid var(--red)").style("border","1px solid var(--red)"),wt(v.currentTarget).style("outline","2px solid var(--green)").style("border","1px solid var(--green)")}const h=(v,S,k)=>d(k,v,S,1),g=(v,S,k)=>d(k,v,S,1),m=(v,S,k)=>d(k,v,S,2),p=(v,S,k)=>d(k,v,S,2);function b(){a=this.value,n(0,a)}return e.$$.update=()=>{e.$$.dirty&64&&n(2,r=".".repeat(f).padEnd(3))},[a,s,r,o,u,d,f,h,g,m,p,b]}class Ps extends ue{constructor(t){super(),se(this,t,Os,$s,ae,{})}}function oo(e){let t,n;return t=new to({}),{c(){me(t.$$.fragment)},m(r,o){he(t,r,o),n=!0},i(r){n||(Y(t.$$.fragment,r),n=!0)},o(r){Z(t.$$.fragment,r),n=!1},d(r){pe(t,r)}}}function io(e){let t,n;return t=new to({props:{feedback:!0}}),{c(){me(t.$$.fragment)},m(r,o){he(t,r,o),n=!0},i(r){n||(Y(t.$$.fragment,r),n=!0)},o(r){Z(t.$$.fragment,r),n=!1},d(r){pe(t,r)}}}function lo(e){let t,n;return t=new Ps({}),{c(){me(t.$$.fragment)},m(r,o){he(t,r,o),n=!0},i(r){n||(Y(t.$$.fragment,r),n=!0)},o(r){Z(t.$$.fragment,r),n=!1},d(r){pe(t,r)}}}function Fs(e){let t,n,r,o,l=!e[0]&&oo(),a=e[0]==="vote"&&io(),s=e[0]==="rank"&&lo();return{c(){l&&l.c(),t=I(),a&&a.c(),n=I(),s&&s.c(),r=we()},m(u,f){l&&l.m(u,f),P(u,t,f),a&&a.m(u,f),P(u,n,f),s&&s.m(u,f),P(u,r,f),o=!0},p(u,[f]){u[0]?l&&(nt(),Z(l,1,1,()=>{l=null}),rt()):l?f&1&&Y(l,1):(l=oo(),l.c(),Y(l,1),l.m(t.parentNode,t)),u[0]==="vote"?a?f&1&&Y(a,1):(a=io(),a.c(),Y(a,1),a.m(n.parentNode,n)):a&&(nt(),Z(a,1,1,()=>{a=null}),rt()),u[0]==="rank"?s?f&1&&Y(s,1):(s=lo(),s.c(),Y(s,1),s.m(r.parentNode,r)):s&&(nt(),Z(s,1,1,()=>{s=null}),rt())},i(u){o||(Y(l),Y(a),Y(s),o=!0)},o(u){Z(l),Z(a),Z(s),o=!1},d(u){l&&l.d(u),u&&N(t),a&&a.d(u),u&&N(n),s&&s.d(u),u&&N(r)}}}function Is(e,t,n){let{feedback:r}=t;return e.$$set=o=>{"feedback"in o&&n(0,r=o.feedback)},[r]}class Rs extends ue{constructor(t){super(),se(this,t,Is,Fs,ae,{feedback:0})}}function ao(e,t,n){const r=e.slice();return r[2]=t[n],r}function so(e){let t,n=e[2]+"",r,o;return{c(){t=M("option"),r=R(n),t.__value=o=e[2],t.value=t.__value},m(l,a){P(l,t,a),_(t,r)},p(l,a){a&1&&n!==(n=l[2]+"")&&X(r,n),a&1&&o!==(o=l[2])&&(t.__value=o,t.value=t.__value)},d(l){l&&N(t)}}}function Bs(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=so(ao(e,n,o));return{c(){t=M("select");for(let o=0;o<r.length;o+=1)r[o].c()},m(o,l){P(o,t,l);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(t,null)},p(o,[l]){if(l&1){n=o[0];let a;for(a=0;a<n.length;a+=1){const s=ao(o,n,a);r[a]?r[a].p(s,l):(r[a]=so(s),r[a].c(),r[a].m(t,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},i:W,o:W,d(o){o&&N(t),te(r,o)}}}function Ls(e,t,n){let{data_endpoint:r}=t,o=[];return mt(async()=>{const l=await fetch(`/data/${r}`);n(0,o=await l.json())}),e.$$set=l=>{"data_endpoint"in l&&n(1,r=l.data_endpoint)},[o,r]}class Hs extends ue{constructor(t){super(),se(this,t,Ls,Bs,ae,{data_endpoint:1})}}function nn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gs(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uo(e){let t,n,r;e.length!==2?(t=nn,n=(s,u)=>nn(e(s),u),r=(s,u)=>e(s)-u):(t=e===nn||e===Gs?e:Ws,n=e,r=e);function o(s,u,f=0,d=s.length){if(f<d){if(t(u,u)!==0)return d;do{const h=f+d>>>1;n(s[h],u)<0?f=h+1:d=h}while(f<d)}return f}function l(s,u,f=0,d=s.length){if(f<d){if(t(u,u)!==0)return d;do{const h=f+d>>>1;n(s[h],u)<=0?f=h+1:d=h}while(f<d)}return f}function a(s,u,f=0,d=s.length){const h=o(s,u,f,d-1);return h>f&&r(s[h-1],u)>-r(s[h],u)?h-1:h}return{left:o,center:a,right:l}}function Ws(){return 0}function Vs(e){return e===null?NaN:+e}const Xs=uo(nn).right;uo(Vs).center;const fo=Xs;function Ys(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(o=+o)>=o&&++n}return n}function Qs(e,t){let n=0,r,o=0,l=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-o,o+=r/++n,l+=r*(a-o));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(r=s-o,o+=r/++n,l+=r*(s-o))}if(n>1)return l/(n-1)}function Us(e,t){const n=Qs(e,t);return n&&Math.sqrt(n)}function Hn(e,t){let n,r;if(t===void 0)for(const o of e)o!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)));else{let o=-1;for(let l of e)(l=t(l,++o,e))!=null&&(n===void 0?l>=l&&(n=r=l):(n>l&&(n=l),r<l&&(r=l)))}return[n,r]}class co extends Map{constructor(t,n=Zs){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,o]of t)this.set(r,o)}get(t){return super.get(ho(this,t))}has(t){return super.has(ho(this,t))}set(t,n){return super.set(Js(this,t),n)}delete(t){return super.delete(Ks(this,t))}}function ho({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Js({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ks({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Zs(e){return e!==null&&typeof e=="object"?e.valueOf():e}function eu(e){return e}var tu=Array.prototype,nu=tu.slice;function Gn(e){return()=>e}const ru=Math.sqrt(50),ou=Math.sqrt(10),iu=Math.sqrt(2);function rn(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),l=r/Math.pow(10,o),a=l>=ru?10:l>=ou?5:l>=iu?2:1;let s,u,f;return o<0?(f=Math.pow(10,-o)/a,s=Math.round(e*f),u=Math.round(t*f),s/f<e&&++s,u/f>t&&--u,f=-f):(f=Math.pow(10,o)*a,s=Math.round(e/f),u=Math.round(t/f),s*f<e&&++s,u*f>t&&--u),u<s&&.5<=n&&n<2?rn(e,t,n*2):[s,u,f]}function po(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,l,a]=r?rn(t,e,n):rn(e,t,n);if(!(l>=o))return[];const s=l-o+1,u=new Array(s);if(r)if(a<0)for(let f=0;f<s;++f)u[f]=(l-f)/-a;else for(let f=0;f<s;++f)u[f]=(l-f)*a;else if(a<0)for(let f=0;f<s;++f)u[f]=(o+f)/-a;else for(let f=0;f<s;++f)u[f]=(o+f)*a;return u}function kt(e,t,n){return t=+t,e=+e,n=+n,rn(e,t,n)[2]}function lu(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?kt(t,e,n):kt(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function au(e,t,n){let r;for(;;){const o=kt(e,t,n);if(o===r||o===0||!isFinite(o))return[e,t];o>0?(e=Math.floor(e/o)*o,t=Math.ceil(t/o)*o):o<0&&(e=Math.ceil(e*o)/o,t=Math.floor(t*o)/o),r=o}}function su(e){return Math.max(1,Math.ceil(Math.log(Ys(e))/Math.LN2)+1)}function go(){var e=eu,t=Hn,n=su;function r(o){Array.isArray(o)||(o=Array.from(o));var l,a=o.length,s,u,f=new Array(a);for(l=0;l<a;++l)f[l]=e(o[l],l,o);var d=t(f),h=d[0],g=d[1],m=n(f,h,g);if(!Array.isArray(m)){const z=g,C=+m;if(t===Hn&&([h,g]=au(h,g,C)),m=po(h,g,C),m[0]<=h&&(u=kt(h,g,C)),m[m.length-1]>=g)if(z>=g&&t===Hn){const E=kt(h,g,C);isFinite(E)&&(E>0?g=(Math.floor(g/E)+1)*E:E<0&&(g=(Math.ceil(g*-E)+1)/-E))}else m.pop()}for(var p=m.length,b=0,v=p;m[b]<=h;)++b;for(;m[v-1]>g;)--v;(b||v<p)&&(m=m.slice(b,v),p=v-b);var S=new Array(p+1),k;for(l=0;l<=p;++l)k=S[l]=[],k.x0=l>0?m[l-1]:h,k.x1=l<p?m[l]:g;if(isFinite(u)){if(u>0)for(l=0;l<a;++l)(s=f[l])!=null&&h<=s&&s<=g&&S[Math.min(p,Math.floor((s-h)/u))].push(o[l]);else if(u<0){for(l=0;l<a;++l)if((s=f[l])!=null&&h<=s&&s<=g){const z=Math.floor((h-s)*u);S[Math.min(p,z+(m[z]<=s))].push(o[l])}}}else for(l=0;l<a;++l)(s=f[l])!=null&&h<=s&&s<=g&&S[fo(m,s,0,p)].push(o[l]);return S}return r.value=function(o){return arguments.length?(e=typeof o=="function"?o:Gn(o),r):e},r.domain=function(o){return arguments.length?(t=typeof o=="function"?o:Gn([o[0],o[1]]),r):t},r.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:Gn(Array.isArray(o)?nu.call(o):o),r):n},r}function lt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function uu(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let o of e)(o=t(o,++r,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function fu(e,t){let n=0,r=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(++n,r+=o);else{let o=-1;for(let l of e)(l=t(l,++o,e))!=null&&(l=+l)>=l&&(++n,r+=l)}if(n)return r/n}function cu(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(o);++r<o;)l[r]=e+r*n;return l}function du(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function on(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function xt(e){return e=on(Math.abs(e)),e?e[1]:NaN}function hu(e,t){return function(n,r){for(var o=n.length,l=[],a=0,s=e[0],u=0;o>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),l.push(n.substring(o-=s,o+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return l.reverse().join(t)}}function pu(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var gu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ln(e){if(!(t=gu.exec(e)))throw new Error("invalid format: "+e);var t;return new Wn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ln.prototype=Wn.prototype;function Wn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Wn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mu(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var mo;function vu(e,t){var n=on(e,t);if(!n)return e+"";var r=n[0],o=n[1],l=o-(mo=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,a=r.length;return l===a?r:l>a?r+new Array(l-a+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+on(e,Math.max(0,t+l-1))[0]}function vo(e,t){var n=on(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const bo={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:du,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>vo(e*100,t),r:vo,s:vu,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _o(e){return e}var yo=Array.prototype.map,wo=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bu(e){var t=e.grouping===void 0||e.thousands===void 0?_o:hu(yo.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?_o:pu(yo.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(h){h=ln(h);var g=h.fill,m=h.align,p=h.sign,b=h.symbol,v=h.zero,S=h.width,k=h.comma,z=h.precision,C=h.trim,E=h.type;E==="n"?(k=!0,E="g"):bo[E]||(z===void 0&&(z=12),C=!0,E="g"),(v||g==="0"&&m==="=")&&(v=!0,g="0",m="=");var T=b==="$"?n:b==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",y=b==="$"?r:/[%p]/.test(E)?a:"",x=bo[E],w=/[defgprs%]/.test(E);z=z===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function A(j){var q=T,B=y,J,re,le;if(E==="c")B=x(j)+B,j="";else{j=+j;var D=j<0||1/j<0;if(j=isNaN(j)?u:x(Math.abs(j),z),C&&(j=mu(j)),D&&+j==0&&p!=="+"&&(D=!1),q=(D?p==="("?p:s:p==="-"||p==="("?"":p)+q,B=(E==="s"?wo[8+mo/3]:"")+B+(D&&p==="("?")":""),w){for(J=-1,re=j.length;++J<re;)if(le=j.charCodeAt(J),48>le||le>57){B=(le===46?o+j.slice(J+1):j.slice(J))+B,j=j.slice(0,J);break}}}k&&!v&&(j=t(j,1/0));var G=q.length+j.length+B.length,F=G<S?new Array(S-G+1).join(g):"";switch(k&&v&&(j=t(F+j,F.length?S-B.length:1/0),F=""),m){case"<":j=q+j+B+F;break;case"=":j=q+F+j+B;break;case"^":j=F.slice(0,G=F.length>>1)+q+j+B+F.slice(G);break;default:j=F+q+j+B;break}return l(j)}return A.toString=function(){return h+""},A}function d(h,g){var m=f((h=ln(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(xt(g)/3)))*3,b=Math.pow(10,-p),v=wo[8+p/3];return function(S){return m(b*S)+v}}return{format:f,formatPrefix:d}}var an,He,ko;_u({thousands:",",grouping:[3],currency:["$",""]});function _u(e){return an=bu(e),He=an.format,ko=an.formatPrefix,an}function yu(e){return Math.max(0,-xt(Math.abs(e)))}function wu(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xt(t)/3)))*3-xt(Math.abs(e)))}function ku(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xt(t)-xt(e))+1}function Vn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xu(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xo=Symbol("implicit");function Qe(){var e=new co,t=[],n=[],r=xo;function o(l){let a=e.get(l);if(a===void 0){if(r!==xo)return r;e.set(l,a=t.push(l)-1)}return n[a%n.length]}return o.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new co;for(const a of l)e.has(a)||e.set(a,t.push(a)-1);return o},o.range=function(l){return arguments.length?(n=Array.from(l),o):n.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.copy=function(){return Qe(t,n).unknown(r)},Vn.apply(o,arguments),o}function at(){var e=Qe().unknown(void 0),t=e.domain,n=e.range,r=0,o=1,l,a,s=!1,u=0,f=0,d=.5;delete e.unknown;function h(){var g=t().length,m=o<r,p=m?o:r,b=m?r:o;l=(b-p)/Math.max(1,g-u+f*2),s&&(l=Math.floor(l)),p+=(b-p-l*(g-u))*d,a=l*(1-u),s&&(p=Math.round(p),a=Math.round(a));var v=cu(g).map(function(S){return p+l*S});return n(m?v.reverse():v)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([r,o]=g,r=+r,o=+o,h()):[r,o]},e.rangeRound=function(g){return[r,o]=g,r=+r,o=+o,s=!0,h()},e.bandwidth=function(){return a},e.step=function(){return l},e.round=function(g){return arguments.length?(s=!!g,h()):s},e.padding=function(g){return arguments.length?(u=Math.min(1,f=+g),h()):u},e.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),h()):u},e.paddingOuter=function(g){return arguments.length?(f=+g,h()):f},e.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},e.copy=function(){return at(t(),[r,o]).round(s).paddingInner(u).paddingOuter(f).align(d)},Vn.apply(h(),arguments)}function So(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return So(t())},e}function zo(){return So(at.apply(null,arguments).paddingInner(1))}function Xn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Eo(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function qt(){}var Nt=.7,sn=1/Nt,St="\\s*([+-]?\\d+)\\s*",Ot="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",qe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Su=/^#([0-9a-f]{3,8})$/,zu=new RegExp(`^rgb\\(${St},${St},${St}\\)$`),Eu=new RegExp(`^rgb\\(${qe},${qe},${qe}\\)$`),Cu=new RegExp(`^rgba\\(${St},${St},${St},${Ot}\\)$`),Tu=new RegExp(`^rgba\\(${qe},${qe},${qe},${Ot}\\)$`),Au=new RegExp(`^hsl\\(${Ot},${qe},${qe}\\)$`),Mu=new RegExp(`^hsla\\(${Ot},${qe},${qe},${Ot}\\)$`),Co={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xn(qt,Pt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:To,formatHex:To,formatHex8:ju,formatHsl:Du,formatRgb:Ao,toString:Ao});function To(){return this.rgb().formatHex()}function ju(){return this.rgb().formatHex8()}function Du(){return qo(this).formatHsl()}function Ao(){return this.rgb().formatRgb()}function Pt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Su.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Mo(t):n===3?new xe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?un(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?un(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zu.exec(e))?new xe(t[1],t[2],t[3],1):(t=Eu.exec(e))?new xe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Cu.exec(e))?un(t[1],t[2],t[3],t[4]):(t=Tu.exec(e))?un(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Au.exec(e))?$o(t[1],t[2]/100,t[3]/100,1):(t=Mu.exec(e))?$o(t[1],t[2]/100,t[3]/100,t[4]):Co.hasOwnProperty(e)?Mo(Co[e]):e==="transparent"?new xe(NaN,NaN,NaN,0):null}function Mo(e){return new xe(e>>16&255,e>>8&255,e&255,1)}function un(e,t,n,r){return r<=0&&(e=t=n=NaN),new xe(e,t,n,r)}function $u(e){return e instanceof qt||(e=Pt(e)),e?(e=e.rgb(),new xe(e.r,e.g,e.b,e.opacity)):new xe}function Yn(e,t,n,r){return arguments.length===1?$u(e):new xe(e,t,n,r??1)}function xe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Xn(xe,Yn,Eo(qt,{brighter(e){return e=e==null?sn:Math.pow(sn,e),new xe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nt:Math.pow(Nt,e),new xe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xe(st(this.r),st(this.g),st(this.b),fn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jo,formatHex:jo,formatHex8:qu,formatRgb:Do,toString:Do}));function jo(){return`#${ut(this.r)}${ut(this.g)}${ut(this.b)}`}function qu(){return`#${ut(this.r)}${ut(this.g)}${ut(this.b)}${ut((isNaN(this.opacity)?1:this.opacity)*255)}`}function Do(){const e=fn(this.opacity);return`${e===1?"rgb(":"rgba("}${st(this.r)}, ${st(this.g)}, ${st(this.b)}${e===1?")":`, ${e})`}`}function fn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function st(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ut(e){return e=st(e),(e<16?"0":"")+e.toString(16)}function $o(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new je(e,t,n,r)}function qo(e){if(e instanceof je)return new je(e.h,e.s,e.l,e.opacity);if(e instanceof qt||(e=Pt(e)),!e)return new je;if(e instanceof je)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),l=Math.max(t,n,r),a=NaN,s=l-o,u=(l+o)/2;return s?(t===l?a=(n-r)/s+(n<r)*6:n===l?a=(r-t)/s+2:a=(t-n)/s+4,s/=u<.5?l+o:2-l-o,a*=60):s=u>0&&u<1?0:a,new je(a,s,u,e.opacity)}function Nu(e,t,n,r){return arguments.length===1?qo(e):new je(e,t,n,r??1)}function je(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Xn(je,Nu,Eo(qt,{brighter(e){return e=e==null?sn:Math.pow(sn,e),new je(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nt:Math.pow(Nt,e),new je(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new xe(Qn(e>=240?e-240:e+120,o,r),Qn(e,o,r),Qn(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new je(No(this.h),cn(this.s),cn(this.l),fn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fn(this.opacity);return`${e===1?"hsl(":"hsla("}${No(this.h)}, ${cn(this.s)*100}%, ${cn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function No(e){return e=(e||0)%360,e<0?e+360:e}function cn(e){return Math.max(0,Math.min(1,e||0))}function Qn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Un=e=>()=>e;function Ou(e,t){return function(n){return e+n*t}}function Pu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Fu(e){return(e=+e)==1?Oo:function(t,n){return n-t?Pu(t,n,e):Un(isNaN(t)?n:t)}}function Oo(e,t){var n=t-e;return n?Ou(e,n):Un(isNaN(e)?t:e)}const Jn=function e(t){var n=Fu(t);function r(o,l){var a=n((o=Yn(o)).r,(l=Yn(l)).r),s=n(o.g,l.g),u=n(o.b,l.b),f=Oo(o.opacity,l.opacity);return function(d){return o.r=a(d),o.g=s(d),o.b=u(d),o.opacity=f(d),o+""}}return r.gamma=e,r}(1);function Iu(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(l){for(o=0;o<n;++o)r[o]=e[o]*(1-l)+t[o]*l;return r}}function Ru(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Bu(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),l=new Array(n),a;for(a=0;a<r;++a)o[a]=Ft(e[a],t[a]);for(;a<n;++a)l[a]=t[a];return function(s){for(a=0;a<r;++a)l[a]=o[a](s);return l}}function Lu(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function dn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Hu(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Ft(e[o],t[o]):r[o]=t[o];return function(l){for(o in n)r[o]=n[o](l);return r}}var Kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zn=new RegExp(Kn.source,"g");function Gu(e){return function(){return e}}function Wu(e){return function(t){return e(t)+""}}function Vu(e,t){var n=Kn.lastIndex=Zn.lastIndex=0,r,o,l,a=-1,s=[],u=[];for(e=e+"",t=t+"";(r=Kn.exec(e))&&(o=Zn.exec(t));)(l=o.index)>n&&(l=t.slice(n,l),s[a]?s[a]+=l:s[++a]=l),(r=r[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,u.push({i:a,x:dn(r,o)})),n=Zn.lastIndex;return n<t.length&&(l=t.slice(n),s[a]?s[a]+=l:s[++a]=l),s.length<2?u[0]?Wu(u[0].x):Gu(t):(t=u.length,function(f){for(var d=0,h;d<t;++d)s[(h=u[d]).i]=h.x(f);return s.join("")})}function Ft(e,t){var n=typeof t,r;return t==null||n==="boolean"?Un(t):(n==="number"?dn:n==="string"?(r=Pt(t))?(t=r,Jn):Vu:t instanceof Pt?Jn:t instanceof Date?Lu:Ru(t)?Iu:Array.isArray(t)?Bu:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Hu:dn)(e,t)}function Po(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Xu(e){return function(){return e}}function Yu(e){return+e}var Fo=[0,1];function Ue(e){return e}function er(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Xu(isNaN(t)?NaN:.5)}function Qu(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Uu(e,t,n){var r=e[0],o=e[1],l=t[0],a=t[1];return o<r?(r=er(o,r),l=n(a,l)):(r=er(r,o),l=n(l,a)),function(s){return l(r(s))}}function Ju(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),l=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=er(e[a],e[a+1]),l[a]=n(t[a],t[a+1]);return function(s){var u=fo(e,s,1,r)-1;return l[u](o[u](s))}}function Ku(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zu(){var e=Fo,t=Fo,n=Ft,r,o,l,a=Ue,s,u,f;function d(){var g=Math.min(e.length,t.length);return a!==Ue&&(a=Qu(e[0],e[g-1])),s=g>2?Ju:Uu,u=f=null,h}function h(g){return g==null||isNaN(g=+g)?l:(u||(u=s(e.map(r),t,n)))(r(a(g)))}return h.invert=function(g){return a(o((f||(f=s(t,e.map(r),dn)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,Yu),d()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),d()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),n=Po,d()},h.clamp=function(g){return arguments.length?(a=g?!0:Ue,d()):a!==Ue},h.interpolate=function(g){return arguments.length?(n=g,d()):n},h.unknown=function(g){return arguments.length?(l=g,h):l},function(g,m){return r=g,o=m,d()}}function ef(){return Zu()(Ue,Ue)}function tf(e,t,n,r){var o=lu(e,t,n),l;switch(r=ln(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=wu(o,a))&&(r.precision=l),ko(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=ku(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=yu(o))&&(r.precision=l-(r.type==="%")*2);break}}return He(r)}function Io(e){var t=e.domain;return e.ticks=function(n){var r=t();return po(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return tf(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,l=r.length-1,a=r[o],s=r[l],u,f,d=10;for(s<a&&(f=a,a=s,s=f,f=o,o=l,l=f);d-- >0;){if(f=kt(a,s,n),f===u)return r[o]=a,r[l]=s,t(r);if(f>0)a=Math.floor(a/f)*f,s=Math.ceil(s/f)*f;else if(f<0)a=Math.ceil(a*f)/f,s=Math.floor(s*f)/f;else break;u=f}return e},e}function Ne(){var e=ef();return e.copy=function(){return Ku(e,Ne())},Vn.apply(e,arguments),Io(e)}function nf(){var e=0,t=1,n,r,o,l,a=Ue,s=!1,u;function f(h){return h==null||isNaN(h=+h)?u:a(o===0?.5:(h=(l(h)-n)*o,s?Math.max(0,Math.min(1,h)):h))}f.domain=function(h){return arguments.length?([e,t]=h,n=l(e=+e),r=l(t=+t),o=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(h){return arguments.length?(s=!!h,f):s},f.interpolator=function(h){return arguments.length?(a=h,f):a};function d(h){return function(g){var m,p;return arguments.length?([m,p]=g,a=h(m,p),f):[a(0),a(1)]}}return f.range=d(Ft),f.rangeRound=d(Po),f.unknown=function(h){return arguments.length?(u=h,f):u},function(h){return l=h,n=h(e),r=h(t),o=n===r?0:1/(r-n),f}}function rf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ro(){var e=Io(nf()(Ue));return e.copy=function(){return rf(e,Ro())},xu.apply(e,arguments)}function Oe(e){return function(){return e}}const tr=Math.PI,nr=2*tr,ft=1e-6,of=nr-ft;function Bo(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function lf(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Bo;const n=10**t;return function(r){this._+=r[0];for(let o=1,l=r.length;o<l;++o)this._+=Math.round(arguments[o]*n)/n+r[o]}}class af{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Bo:lf(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,o){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+o}`}bezierCurveTo(t,n,r,o,l,a){this._append`C${+t},${+n},${+r},${+o},${this._x1=+l},${this._y1=+a}`}arcTo(t,n,r,o,l){if(t=+t,n=+n,r=+r,o=+o,l=+l,l<0)throw new Error(`negative radius: ${l}`);let a=this._x1,s=this._y1,u=r-t,f=o-n,d=a-t,h=s-n,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>ft)if(!(Math.abs(h*u-f*d)>ft)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-a,p=o-s,b=u*u+f*f,v=m*m+p*p,S=Math.sqrt(b),k=Math.sqrt(g),z=l*Math.tan((tr-Math.acos((b+g-v)/(2*S*k)))/2),C=z/k,E=z/S;Math.abs(C-1)>ft&&this._append`L${t+C*d},${n+C*h}`,this._append`A${l},${l},0,0,${+(h*m>d*p)},${this._x1=t+E*u},${this._y1=n+E*f}`}}arc(t,n,r,o,l,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(o),u=r*Math.sin(o),f=t+s,d=n+u,h=1^a,g=a?o-l:l-o;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>ft||Math.abs(this._y1-d)>ft)&&this._append`L${f},${d}`,r&&(g<0&&(g=g%nr+nr),g>of?this._append`A${r},${r},0,1,${h},${t-s},${n-u}A${r},${r},0,1,${h},${this._x1=f},${this._y1=d}`:g>ft&&this._append`A${r},${r},0,${+(g>=tr)},${h},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+o}h${-r}Z`}toString(){return this._}}function sf(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new af(t)}function Lo(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ho(e){this._context=e}Ho.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function uf(e){return new Ho(e)}function ff(e){return e[0]}function cf(e){return e[1]}function df(e,t){var n=Oe(!0),r=null,o=uf,l=null,a=sf(s);e=typeof e=="function"?e:e===void 0?ff:Oe(e),t=typeof t=="function"?t:t===void 0?cf:Oe(t);function s(u){var f,d=(u=Lo(u)).length,h,g=!1,m;for(r==null&&(l=o(m=a())),f=0;f<=d;++f)!(f<d&&n(h=u[f],f,u))===g&&((g=!g)?l.lineStart():l.lineEnd()),g&&l.point(+e(h,f,u),+t(h,f,u));if(m)return l=null,m+""||null}return s.x=function(u){return arguments.length?(e=typeof u=="function"?u:Oe(+u),s):e},s.y=function(u){return arguments.length?(t=typeof u=="function"?u:Oe(+u),s):t},s.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Oe(!!u),s):n},s.curve=function(u){return arguments.length?(o=u,r!=null&&(l=o(r)),s):o},s.context=function(u){return arguments.length?(u==null?r=l=null:l=o(r=u),s):r},s}function rr(e,t){if((a=e.length)>1)for(var n=1,r,o,l=e[t[0]],a,s=l.length;n<a;++n)for(o=l,l=e[t[n]],r=0;r<s;++r)l[r][1]+=l[r][0]=isNaN(o[r][1])?o[r][0]:o[r][1]}function or(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function hf(e,t){return e[t]}function pf(e){const t=[];return t.key=e,t}function gf(){var e=Oe([]),t=or,n=rr,r=hf;function o(l){var a=Array.from(e.apply(this,arguments),pf),s,u=a.length,f=-1,d;for(const h of l)for(s=0,++f;s<u;++s)(a[s][f]=[0,+r(h,a[s].key,f,l)]).data=h;for(s=0,d=Lo(t(a));s<u;++s)a[d[s]].index=s;return n(a,d),a}return o.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Oe(Array.from(l)),o):e},o.value=function(l){return arguments.length?(r=typeof l=="function"?l:Oe(+l),o):r},o.order=function(l){return arguments.length?(t=l==null?or:typeof l=="function"?l:Oe(Array.from(l)),o):t},o.offset=function(l){return arguments.length?(n=l??rr,o):n},o}const Kc="";function Go(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}function Wo(e,t,n){const r=e.slice();r[24]=t[n];const o=r[4][r[21].key];return r[25]=o,r}function Vo(e){let t,n,r,o,l,a,s,u,f,d,h,g,m,p,b=e[21].key+"",v,S,k=e[11](e[25]/e[2])+"",z,C,E,T,y,x;return{c(){t=O("rect"),f=O("line"),p=O("text"),v=R(b),S=O("tspan"),z=R(k),E=I(),c(t,"class",n="horizontal-bar-rect "+(e[5]===e[23]?"selected":"unselected")+" svelte-tg5p7i"),c(t,"y",r=e[8](e[24].data.xVal)),c(t,"x",o=e[7](e[24][0])),c(t,"stroke","var(--black)"),c(t,"width",l=e[7](e[24][1])-e[7](e[24][0])),c(t,"fill",a=e[10](e[21].key)),c(t,"opacity",s=e[5]==="all"||e[5]===e[23]?"1":"0.25"),c(t,"height",u=e[8].bandwidth()),c(f,"class","line svelte-tg5p7i"),c(f,"x1",d=e[7](e[24][0])),c(f,"x2",h=e[7](e[24][0])),c(f,"y1",g=e[8](e[24].data.xVal)-Je),c(f,"y2",m=e[8].bandwidth()+e[8](e[24].data.xVal)+Je),c(f,"stroke","black"),c(S,"x",C=(e[7](e[24][0])+e[7](e[24][1]))/2),c(S,"dy","16"),c(S,"text-anchor","middle"),c(p,"class","horizontal-bar-text svelte-tg5p7i"),c(p,"y",T=e[8].bandwidth()/2),c(p,"x",y=(e[7](e[24][0])+e[7](e[24][1]))/2),c(p,"opacity",x=e[5]==="all"||e[5]===e[23]?"1":"0.25"),c(p,"text-anchor","middle")},m(w,A){P(w,t,A),P(w,f,A),P(w,p,A),_(p,v),_(p,S),_(S,z),_(p,E)},p(w,A){A&32&&n!==(n="horizontal-bar-rect "+(w[5]===w[23]?"selected":"unselected")+" svelte-tg5p7i")&&c(t,"class",n),A&320&&r!==(r=w[8](w[24].data.xVal))&&c(t,"y",r),A&192&&o!==(o=w[7](w[24][0]))&&c(t,"x",o),A&192&&l!==(l=w[7](w[24][1])-w[7](w[24][0]))&&c(t,"width",l),A&64&&a!==(a=w[10](w[21].key))&&c(t,"fill",a),A&32&&s!==(s=w[5]==="all"||w[5]===w[23]?"1":"0.25")&&c(t,"opacity",s),A&256&&u!==(u=w[8].bandwidth())&&c(t,"height",u),A&192&&d!==(d=w[7](w[24][0]))&&c(f,"x1",d),A&192&&h!==(h=w[7](w[24][0]))&&c(f,"x2",h),A&320&&g!==(g=w[8](w[24].data.xVal)-Je)&&c(f,"y1",g),A&320&&m!==(m=w[8].bandwidth()+w[8](w[24].data.xVal)+Je)&&c(f,"y2",m),A&64&&b!==(b=w[21].key+"")&&X(v,b),A&84&&k!==(k=w[11](w[25]/w[2])+"")&&X(z,k),A&192&&C!==(C=(w[7](w[24][0])+w[7](w[24][1]))/2)&&c(S,"x",C),A&256&&T!==(T=w[8].bandwidth()/2)&&c(p,"y",T),A&192&&y!==(y=(w[7](w[24][0])+w[7](w[24][1]))/2)&&c(p,"x",y),A&32&&x!==(x=w[5]==="all"||w[5]===w[23]?"1":"0.25")&&c(p,"opacity",x)},d(w){w&&N(t),w&&N(f),w&&N(p)}}}function Xo(e){let t,n,r,o,l,a,s,u,f=e[21],d=[];for(let m=0;m<f.length;m+=1)d[m]=Vo(Wo(e,f,m));function h(){return e[17](e[23],e[21])}function g(){return e[18](e[23],e[21])}return{c(){t=O("g");for(let m=0;m<d.length;m+=1)d[m].c();n=O("line"),c(n,"class","line svelte-tg5p7i"),c(n,"x1",r=e[3]-e[9].right),c(n,"x2",o=e[3]-e[9].right),c(n,"y1",l=e[8]("A")-Je),c(n,"y2",a=e[8].bandwidth()+e[8]("A")+Je),c(n,"stroke","black"),c(t,"class","series svelte-tg5p7i"),c(t,"role","button"),c(t,"tabindex","0")},m(m,p){P(m,t,p);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(t,null);_(t,n),s||(u=[Q(t,"click",h),Q(t,"keypress",g)],s=!0)},p(m,p){if(e=m,p&3572){f=e[21];let b;for(b=0;b<f.length;b+=1){const v=Wo(e,f,b);d[b]?d[b].p(v,p):(d[b]=Vo(v),d[b].c(),d[b].m(t,n))}for(;b<d.length;b+=1)d[b].d(1);d.length=f.length}p&8&&r!==(r=e[3]-e[9].right)&&c(n,"x1",r),p&8&&o!==(o=e[3]-e[9].right)&&c(n,"x2",o),p&256&&l!==(l=e[8]("A")-Je)&&c(n,"y1",l),p&256&&a!==(a=e[8].bandwidth()+e[8]("A")+Je)&&c(n,"y2",a)},d(m){m&&N(t),te(d,m),s=!1,ve(u)}}}function mf(e){let t,n,r,o,l,a=e[6],s=[];for(let u=0;u<a.length;u+=1)s[u]=Xo(Go(e,a,u));return{c(){t=M("div"),t.innerHTML="<p>Feedback Distribution</p>",n=I(),r=M("div"),o=O("svg");for(let u=0;u<s.length;u+=1)s[u].c();c(o,"width",e[1]),c(o,"height",e[0]),c(r,"id","stackedrect-holder"),c(r,"class","svelte-tg5p7i"),_e(()=>e[19].call(r))},m(u,f){P(u,t,f),P(u,n,f),P(u,r,f),_(r,o);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(o,null);l=Re(r,e[19].bind(r))},p(u,[f]){if(f&8188){a=u[6];let d;for(d=0;d<a.length;d+=1){const h=Go(u,a,d);s[d]?s[d].p(h,f):(s[d]=Xo(h),s[d].c(),s[d].m(o,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=a.length}f&2&&c(o,"width",u[1]),f&1&&c(o,"height",u[0])},i:W,o:W,d(u){u&&N(t),u&&N(n),u&&N(r),te(s,u),l()}}}const Je=5;function vf(e,t,n){let r,o,l,a,s,u,f,d,h,g,m;ee(e,$e,x=>n(15,h=x)),ee(e,Ir,x=>n(4,g=x)),ee(e,Te,x=>n(16,m=x));let p=300,b=300;const v={up:2,down:1,"n/a":0,all:"all"},S={top:10,bottom:10,left:25,right:5},k=Qe().range(["var(--yellow)","var(--red)","var(--green)"]),z=He(".0%");function C(x,w){r===x?n(5,r="all"):n(5,r=x),Ye($e,h=r==="all"?"all":w,h)}const E=(x,w)=>C(x,w.key),T=(x,w)=>C(x,w.key);function y(){b=this.offsetWidth,p=this.offsetHeight,n(1,b),n(0,p)}return e.$$.update=()=>{e.$$.dirty&32768&&n(5,r=v[h]),e.$$.dirty&2&&n(3,o=b-S.left-S.right),e.$$.dirty&1&&n(14,l=p-S.top-S.bottom),e.$$.dirty&65552&&m.forEach(x=>{Ye(Ir,g[x.vote_status]++,g)}),e.$$.dirty&16&&n(2,a=g.up+g.down+g["n/a"]),e.$$.dirty&16384&&n(8,s=at().rangeRound([S.top,l-S.bottom]).padding(0).domain(["a"])),e.$$.dirty&12&&n(7,u=Ne().rangeRound([S.left,o-S.right]).domain([0,a])),e.$$.dirty&8208&&n(6,d=f([g]))},n(13,f=gf().keys(["n/a","down","up"]).order(or).offset(rr)),[p,b,a,o,g,r,d,u,s,S,k,z,C,f,l,h,m,E,T,y]}class bf extends ue{constructor(t){super(),se(this,t,vf,mf,ae,{})}}function _f(e,{delay:t=0,duration:n=400,easing:r=Pr,axis:o="y"}={}){const l=getComputedStyle(e),a=+l.opacity,s=o==="y"?"height":"width",u=parseFloat(l[s]),f=o==="y"?["top","bottom"]:["left","right"],d=f.map(S=>`${S[0].toUpperCase()}${S.slice(1)}`),h=parseFloat(l[`padding${d[0]}`]),g=parseFloat(l[`padding${d[1]}`]),m=parseFloat(l[`margin${d[0]}`]),p=parseFloat(l[`margin${d[1]}`]),b=parseFloat(l[`border${d[0]}Width`]),v=parseFloat(l[`border${d[1]}Width`]);return{delay:t,duration:n,easing:r,css:S=>`overflow: hidden;opacity: ${Math.min(S*20,1)*a};${s}: ${S*u}px;padding-${f[0]}: ${S*h}px;padding-${f[1]}: ${S*g}px;margin-${f[0]}: ${S*m}px;margin-${f[1]}: ${S*p}px;border-${f[0]}-width: ${S*b}px;border-${f[1]}-width: ${S*v}px;`}}const Zc="";function yf(e){let t,n,r,o,l,a,s,u,f,d,h,g=e[3][e[2]]+"",m,p;return{c(){t=M("div"),n=M("div"),r=R("Q: "),o=R(e[0]),l=I(),a=M("div"),s=R("A: "),u=R(e[1]),f=I(),d=M("div"),h=R("Rating: "),m=R(g),c(n,"class","question svelte-szi0e"),c(a,"class","answer svelte-szi0e"),c(d,"class",p="feedback "+e[2]+" svelte-szi0e"),c(t,"class","qa-card svelte-szi0e")},m(b,v){P(b,t,v),_(t,n),_(n,r),_(n,o),_(t,l),_(t,a),_(a,s),_(a,u),_(t,f),_(t,d),_(d,h),_(d,m)},p(b,[v]){v&1&&X(o,b[0]),v&2&&X(u,b[1]),v&4&&g!==(g=b[3][b[2]]+"")&&X(m,g),v&4&&p!==(p="feedback "+b[2]+" svelte-szi0e")&&c(d,"class",p)},i:W,o:W,d(b){b&&N(t)}}}function wf(e,t,n){let{question:r="What is gradient descent?"}=t,{answer:o="Gradient descent is an algorithm used to minimize a loss function by taking small steps in the direction of steepest descent."}=t,{feedback:l="Good: "}=t;const a={up:"Good ",down:"Bad ","n/a":"No Rating",all:"All"};return e.$$set=s=>{"question"in s&&n(0,r=s.question),"answer"in s&&n(1,o=s.answer),"feedback"in s&&n(2,l=s.feedback)},[r,o,l,a]}class kf extends ue{constructor(t){super(),se(this,t,wf,yf,ae,{question:0,answer:1,feedback:2})}}function xf(e){let t={who:0,what:0,how:0,why:0,where:0,does:0,can:0,"n/a":0};for(let r=0;r<e.length;r++){let o=e[r].question.split(" ")[0].toLowerCase();o in t?t[o]++:t["n/a"]++}return Object.keys(t).map(r=>({question:r,count:t[r]}))}function Yo(e){return e.map(t=>{const n=t.question.split(" ").length,r=t.answer.split(" ").length;return{index:t.index,question:+n,answer:+r,vote:t.vote}})}const ed="";function Qo(e,t,n){const r=e.slice();return r[5]=t[n].question,r[6]=t[n].answer,r[7]=t[n].vote_status,r}function Uo(e){let t,n,r,o,l;return n=new kf({props:{question:e[5],answer:e[6],feedback:e[7]}}),{c(){t=M("div"),me(n.$$.fragment),r=I()},m(a,s){P(a,t,s),he(n,t,null),_(t,r),l=!0},p(a,s){const u={};s&1&&(u.question=a[5]),s&1&&(u.answer=a[6]),s&1&&(u.feedback=a[7]),n.$set(u)},i(a){l||(Y(n.$$.fragment,a),a&&_e(()=>{l&&(o||(o=Or(t,e[1],{duration:300},!0)),o.run(1))}),l=!0)},o(a){Z(n.$$.fragment,a),a&&(o||(o=Or(t,e[1],{duration:300},!1)),o.run(0)),l=!1},d(a){a&&N(t),pe(n),a&&o&&o.end()}}}function Sf(e){let t,n,r=e[0],o=[];for(let a=0;a<r.length;a+=1)o[a]=Uo(Qo(e,r,a));const l=a=>Z(o[a],1,1,()=>{o[a]=null});return{c(){t=M("div");for(let a=0;a<o.length;a+=1)o[a].c();c(t,"class","qa-container svelte-1xv9cfi")},m(a,s){P(a,t,s);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(t,null);n=!0},p(a,[s]){if(s&1){r=a[0];let u;for(u=0;u<r.length;u+=1){const f=Qo(a,r,u);o[u]?(o[u].p(f,s),Y(o[u],1)):(o[u]=Uo(f),o[u].c(),Y(o[u],1),o[u].m(t,null))}for(nt(),u=r.length;u<o.length;u+=1)l(u);rt()}},i(a){if(!n){for(let s=0;s<r.length;s+=1)Y(o[s]);n=!0}},o(a){o=o.filter(Boolean);for(let s=0;s<o.length;s+=1)Z(o[s]);n=!1},d(a){a&&N(t),te(o,a)}}}function zf(e,t,n){let r,o,l,a;ee(e,Rn,u=>n(4,o=u)),ee(e,$e,u=>n(2,l=u)),ee(e,Te,u=>n(3,a=u));const s=(u,{delay:f=0,duration:d=1e3,easing:h=Pr})=>_f(u,{delay:f,duration:d,easing:h});return e.$$.update=()=>{e.$$.dirty&12&&n(0,r=l==="all"?a:a.filter(u=>u.vote_status===l)),e.$$.dirty&1&&Ye(Rn,o=xf(r),o)},[r,s,l,a]}class Ef extends ue{constructor(t){super(),se(this,t,zf,Sf,ae,{})}}const td="";function Jo(e,t,n){const r=e.slice();return r[13]=t[n],r}function Ko(e,t,n){const r=e.slice();return r[16]=t[n],r}function Zo(e,t,n){const r=e.slice();return r[16]=t[n],r}function ei(e){let t,n,r,o,l=e[16]+"",a,s;return{c(){t=O("g"),n=O("line"),o=O("text"),a=R(l),c(n,"class","axis-tick svelte-1oikip4"),c(n,"x1","0"),c(n,"x2","0"),c(n,"y1",0),c(n,"y2",r=-e[2]+e[10].bottom+e[10].top),c(n,"stroke","var(--squidink)"),c(n,"stroke-dasharray","4"),c(o,"class","axis-text svelte-1oikip4"),c(o,"y","15"),c(o,"text-anchor","middle"),c(t,"transform",s=`translate(${e[6](e[16])+e[6].bandwidth()/2} ${e[2]-e[10].bottom})`)},m(u,f){P(u,t,f),_(t,n),_(t,o),_(o,a)},p(u,f){f&4&&r!==(r=-u[2]+u[10].bottom+u[10].top)&&c(n,"y2",r),f&16&&l!==(l=u[16]+"")&&X(a,l),f&84&&s!==(s=`translate(${u[6](u[16])+u[6].bandwidth()/2} ${u[2]-u[10].bottom})`)&&c(t,"transform",s)},d(u){u&&N(t)}}}function ti(e){let t,n,r,o;return{c(){t=O("g"),n=O("line"),c(n,"class","axis-tick svelte-1oikip4"),c(n,"x1",0),c(n,"x2",r=e[3]-e[10].right-e[10].left),c(n,"y1","0"),c(n,"y2","0"),c(n,"stroke","black"),c(t,"transform",o=`translate(${e[10].left} ${e[5](e[16])+0})`)},m(l,a){P(l,t,a),_(t,n)},p(l,a){a&8&&r!==(r=l[3]-l[10].right-l[10].left)&&c(n,"x2",r),a&32&&o!==(o=`translate(${l[10].left} ${l[5](l[16])+0})`)&&c(t,"transform",o)},d(l){l&&N(t)}}}function ni(e){let t,n,r,o,l,a,s,u,f=Math.round(e[11](e[13].count))+"",d,h,g;return{c(){t=O("g"),n=O("rect"),u=O("text"),d=R(f),c(n,"x",r=e[6](e[13].question)),c(n,"y",o=e[5](e[13].count)),c(n,"height",l=e[2]-e[5](e[13].count)-e[10].bottom),c(n,"fill",a=e[9][e[7]]),c(n,"fill-opacity","0.95"),c(n,"width",s=e[6].bandwidth()),c(n,"class","svelte-1oikip4"),c(u,"class","axis-text svelte-1oikip4"),c(u,"x",h=e[6](e[13].question)+e[6].bandwidth()/2),c(u,"y",g=e[5](e[13].count)-5),c(u,"text-anchor","middle"),c(t,"class","series")},m(m,p){P(m,t,p),_(t,n),_(t,u),_(u,d)},p(m,p){p&80&&r!==(r=m[6](m[13].question))&&c(n,"x",r),p&48&&o!==(o=m[5](m[13].count))&&c(n,"y",o),p&52&&l!==(l=m[2]-m[5](m[13].count)-m[10].bottom)&&c(n,"height",l),p&128&&a!==(a=m[9][m[7]])&&c(n,"fill",a),p&64&&s!==(s=m[6].bandwidth())&&c(n,"width",s),p&16&&f!==(f=Math.round(m[11](m[13].count))+"")&&X(d,f),p&80&&h!==(h=m[6](m[13].question)+m[6].bandwidth()/2)&&c(u,"x",h),p&48&&g!==(g=m[5](m[13].count)-5)&&c(u,"y",g)},d(m){m&&N(t)}}}function Cf(e){let t,n,r,o,l,a,s=e[8][e[7]]+"",u,f,d,h,g,m,p,b,v,S=e[4].map(ri),k=[];for(let y=0;y<S.length;y+=1)k[y]=ei(Zo(e,S,y));let z=e[5].ticks(),C=[];for(let y=0;y<z.length;y+=1)C[y]=ti(Ko(e,z,y));let E=e[4],T=[];for(let y=0;y<E.length;y+=1)T[y]=ni(Jo(e,E,y));return{c(){t=M("div"),n=O("svg");for(let y=0;y<k.length;y+=1)k[y].c();r=we();for(let y=0;y<C.length;y+=1)C[y].c();o=we();for(let y=0;y<T.length;y+=1)T[y].c();l=O("text"),a=R("Question Type: "),u=R(s),d=O("line"),p=O("line"),c(l,"class","chart-title svelte-1oikip4"),c(l,"y",e[10].top/2+1),c(l,"x",f=(e[3]+e[10].left)/2),c(l,"text-anchor","middle"),c(d,"class","axis-line svelte-1oikip4"),c(d,"x1",e[10].left),c(d,"x2",h=e[3]-e[10].right),c(d,"y1",g=e[2]-e[10].bottom),c(d,"y2",m=e[2]-e[10].bottom),c(p,"class","axis-line svelte-1oikip4"),c(p,"x1",e[10].left),c(p,"x2",e[10].left),c(p,"y1",e[10].top),c(p,"y2",b=e[2]-e[10].bottom),c(p,"opacity","0"),c(n,"width",e[1]),c(n,"height",e[0]),c(t,"id","stackedrect-holder"),c(t,"class","svelte-1oikip4"),_e(()=>e[12].call(t))},m(y,x){P(y,t,x),_(t,n);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(n,null);_(n,r);for(let w=0;w<C.length;w+=1)C[w]&&C[w].m(n,null);_(n,o);for(let w=0;w<T.length;w+=1)T[w]&&T[w].m(n,null);_(n,l),_(l,a),_(l,u),_(n,d),_(n,p),v=Re(t,e[12].bind(t))},p(y,[x]){if(x&1108){S=y[4].map(ri);let w;for(w=0;w<S.length;w+=1){const A=Zo(y,S,w);k[w]?k[w].p(A,x):(k[w]=ei(A),k[w].c(),k[w].m(n,r))}for(;w<k.length;w+=1)k[w].d(1);k.length=S.length}if(x&1064){z=y[5].ticks();let w;for(w=0;w<z.length;w+=1){const A=Ko(y,z,w);C[w]?C[w].p(A,x):(C[w]=ti(A),C[w].c(),C[w].m(n,o))}for(;w<C.length;w+=1)C[w].d(1);C.length=z.length}if(x&3828){E=y[4];let w;for(w=0;w<E.length;w+=1){const A=Jo(y,E,w);T[w]?T[w].p(A,x):(T[w]=ni(A),T[w].c(),T[w].m(n,l))}for(;w<T.length;w+=1)T[w].d(1);T.length=E.length}x&128&&s!==(s=y[8][y[7]]+"")&&X(u,s),x&8&&f!==(f=(y[3]+y[10].left)/2)&&c(l,"x",f),x&8&&h!==(h=y[3]-y[10].right)&&c(d,"x2",h),x&4&&g!==(g=y[2]-y[10].bottom)&&c(d,"y1",g),x&4&&m!==(m=y[2]-y[10].bottom)&&c(d,"y2",m),x&4&&b!==(b=y[2]-y[10].bottom)&&c(p,"y2",b),x&2&&c(n,"width",y[1]),x&1&&c(n,"height",y[0])},i:W,o:W,d(y){y&&N(t),te(k,y),te(C,y),te(T,y),v()}}}const ri=e=>e.question;function Tf(e,t,n){let r,o,l,a,s,u;ee(e,Rn,v=>n(4,s=v)),ee(e,$e,v=>n(7,u=v));const f={up:"Good ",down:"Bad ","n/a":"No Rating",all:"All"},d={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let h=300,g=300,m={top:35,bottom:10,left:25,right:5};const p=He(".1f");function b(){g=this.offsetWidth,h=this.offsetHeight,n(1,g),n(0,h)}return e.$$.update=()=>{e.$$.dirty&2&&n(3,r=g-m.left-m.right),e.$$.dirty&1&&n(2,o=h-m.top-m.bottom),e.$$.dirty&24&&n(6,l=at().rangeRound([m.left,r-m.right]).padding(.05).domain(s.map(v=>v.question))),e.$$.dirty&20&&n(5,a=Ne().rangeRound([o-m.bottom,m.top]).domain([0,lt(s,v=>v.count)])),e.$$.dirty&16&&console.log(s)},[h,g,o,r,s,a,l,u,f,d,m,p,b]}class Af extends ue{constructor(t){super(),se(this,t,Tf,Cf,ae,{})}}const nd="";function oi(e,t,n){const r=e.slice();r[19]=t[n];const o=r[7](r[19].x1)-r[7](r[19].x0);return r[20]=o,r}function ii(e,t,n){const r=e.slice();return r[23]=t[n],r}function li(e){let t,n,r,o,l=e[23]+"",a,s;return{c(){t=O("g"),n=O("line"),o=O("text"),a=R(l),c(n,"class","axis-tick svelte-kz2qh6"),c(n,"x1","0"),c(n,"x2","0"),c(n,"y1",0),c(n,"y2",r=-e[2]+e[9].bottom+e[9].top),c(n,"stroke","var(--squidink)"),c(n,"stroke-dasharray","4"),c(o,"class","axis-text svelte-kz2qh6"),c(o,"y","15"),c(o,"text-anchor","middle"),c(t,"transform",s=`translate(${e[7](e[23])+(e[7](1)-e[7](0))/2} ${e[2]-e[9].bottom})`),c(t,"class","svelte-kz2qh6")},m(u,f){P(u,t,f),_(t,n),_(t,o),_(o,a)},p(u,f){f&4&&r!==(r=-u[2]+u[9].bottom+u[9].top)&&c(n,"y2",r),f&128&&l!==(l=u[23]+"")&&X(a,l),f&132&&s!==(s=`translate(${u[7](u[23])+(u[7](1)-u[7](0))/2} ${u[2]-u[9].bottom})`)&&c(t,"transform",s)},d(u){u&&N(t)}}}function ai(e){let t,n,r,o,l,a,s;return{c(){t=O("g"),n=O("rect"),c(n,"x",r=e[7](e[19].x0)+1),c(n,"width",o=e[20]),c(n,"y",l=e[6](e[19].length)),c(n,"height",a=e[6](0)-e[6](e[19].length)),c(n,"fill",s=e[8][e[5]]),c(n,"class","svelte-kz2qh6"),c(t,"class","histogram-bin svelte-kz2qh6")},m(u,f){P(u,t,f),_(t,n)},p(u,f){f&136&&r!==(r=u[7](u[19].x0)+1)&&c(n,"x",r),f&136&&o!==(o=u[20])&&c(n,"width",o),f&72&&l!==(l=u[6](u[19].length))&&c(n,"y",l),f&72&&a!==(a=u[6](0)-u[6](u[19].length))&&c(n,"height",a),f&32&&s!==(s=u[8][u[5]])&&c(n,"fill",s)},d(u){u&&N(t)}}}function Mf(e){let t,n,r,o,l,a,s,u,f,d,h,g=e[7].ticks(),m=[];for(let v=0;v<g.length;v+=1)m[v]=li(ii(e,g,v));let p=e[3],b=[];for(let v=0;v<p.length;v+=1)b[v]=ai(oi(e,p,v));return{c(){t=M("div"),n=O("svg");for(let v=0;v<m.length;v+=1)m[v].c();r=we();for(let v=0;v<b.length;v+=1)b[v].c();o=O("text"),l=R("Answer Length"),s=O("line"),c(o,"class","chart-title svelte-kz2qh6"),c(o,"y",e[9].top/2+5),c(o,"x",a=(e[4]+e[9].left)/2),c(o,"text-anchor","middle"),c(s,"class","axis-line svelte-kz2qh6"),c(s,"x1",e[9].left),c(s,"x2",u=e[4]-e[9].right),c(s,"y1",f=e[2]-e[9].bottom),c(s,"y2",d=e[2]-e[9].bottom),c(n,"width",e[1]),c(n,"height",e[0]),c(n,"class","svelte-kz2qh6"),c(t,"class","histogram-container svelte-kz2qh6"),_e(()=>e[14].call(t))},m(v,S){P(v,t,S),_(t,n);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(n,null);_(n,r);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(n,null);_(n,o),_(o,l),_(n,s),h=Re(t,e[14].bind(t))},p(v,[S]){if(S&644){g=v[7].ticks();let k;for(k=0;k<g.length;k+=1){const z=ii(v,g,k);m[k]?m[k].p(z,S):(m[k]=li(z),m[k].c(),m[k].m(n,r))}for(;k<m.length;k+=1)m[k].d(1);m.length=g.length}if(S&488){p=v[3];let k;for(k=0;k<p.length;k+=1){const z=oi(v,p,k);b[k]?b[k].p(z,S):(b[k]=ai(z),b[k].c(),b[k].m(n,o))}for(;k<b.length;k+=1)b[k].d(1);b.length=p.length}S&16&&a!==(a=(v[4]+v[9].left)/2)&&c(o,"x",a),S&16&&u!==(u=v[4]-v[9].right)&&c(s,"x2",u),S&4&&f!==(f=v[2]-v[9].bottom)&&c(s,"y1",f),S&4&&d!==(d=v[2]-v[9].bottom)&&c(s,"y2",d),S&2&&c(n,"width",v[1]),S&1&&c(n,"height",v[0])},i:W,o:W,d(v){v&&N(t),te(m,v),te(b,v),h()}}}let si=100;function jf(e,t,n){let r,o,l,a,s,u,f,d,h,g;ee(e,$e,z=>n(5,h=z)),ee(e,Te,z=>n(13,g=z));const m={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let p=300,b=300,v={top:15,bottom:10,left:25,right:5};He(".1f");let S=Array.from({length:si},(z,C)=>C);function k(){b=this.offsetWidth,p=this.offsetHeight,n(1,b),n(0,p)}return e.$$.update=()=>{e.$$.dirty&8224&&n(12,r=h==="all"?g:g.filter(z=>z.vote_status===h)),e.$$.dirty&4096&&n(11,o=Yo(r)),e.$$.dirty&2&&n(4,l=b-v.left-v.right),e.$$.dirty&1&&n(2,a=p-v.top-v.bottom),e.$$.dirty&2048&&n(3,s=go().thresholds(S).value(z=>z.answer)(o)),e.$$.dirty&16&&n(7,u=Ne().domain([3,si]).range([v.left,l-v.right])),e.$$.dirty&12&&n(6,f=Ne().domain([0,lt(s,z=>z.length)]).range([a-v.bottom,v.top])),e.$$.dirty&2048&&n(10,d=lt(o,z=>z.length)),e.$$.dirty&1056&&Ne().domain([0,d]).range(["white",m[h]]).interpolate(Ft)},[p,b,a,s,l,h,f,u,m,v,d,o,r,g,k]}class Df extends ue{constructor(t){super(),se(this,t,jf,Mf,ae,{})}}const rd="";function ui(e,t,n){const r=e.slice();r[18]=t[n];const o=r[7](r[18].x1)-r[7](r[18].x0);return r[19]=o,r}function fi(e,t,n){const r=e.slice();return r[22]=t[n],r}function ci(e){let t,n,r,o,l=e[22]+"",a,s;return{c(){t=O("g"),n=O("line"),o=O("text"),a=R(l),c(n,"class","axis-tick svelte-kz2qh6"),c(n,"x1","0"),c(n,"x2","0"),c(n,"y1",0),c(n,"y2",r=-e[2]+e[9].bottom+e[9].top),c(n,"stroke","var(--squidink)"),c(n,"stroke-dasharray","4"),c(o,"class","axis-text svelte-kz2qh6"),c(o,"y","15"),c(o,"text-anchor","middle"),c(t,"transform",s=`translate(${e[7](e[22])+(e[7](1)-e[7](0))/2} ${e[2]-e[9].bottom})`),c(t,"class","svelte-kz2qh6")},m(u,f){P(u,t,f),_(t,n),_(t,o),_(o,a)},p(u,f){f&4&&r!==(r=-u[2]+u[9].bottom+u[9].top)&&c(n,"y2",r),f&128&&l!==(l=u[22]+"")&&X(a,l),f&132&&s!==(s=`translate(${u[7](u[22])+(u[7](1)-u[7](0))/2} ${u[2]-u[9].bottom})`)&&c(t,"transform",s)},d(u){u&&N(t)}}}function di(e){let t,n,r,o,l,a,s;return{c(){t=O("g"),n=O("rect"),c(n,"x",r=e[7](e[18].x0)+1),c(n,"width",o=e[19]),c(n,"y",l=e[6](e[18].length)),c(n,"height",a=e[6](0)-e[6](e[18].length)),c(n,"fill",s=e[8][e[5]]),c(n,"class","svelte-kz2qh6"),c(t,"class","histogram-bin svelte-kz2qh6")},m(u,f){P(u,t,f),_(t,n)},p(u,f){f&136&&r!==(r=u[7](u[18].x0)+1)&&c(n,"x",r),f&136&&o!==(o=u[19])&&c(n,"width",o),f&72&&l!==(l=u[6](u[18].length))&&c(n,"y",l),f&72&&a!==(a=u[6](0)-u[6](u[18].length))&&c(n,"height",a),f&32&&s!==(s=u[8][u[5]])&&c(n,"fill",s)},d(u){u&&N(t)}}}function $f(e){let t,n,r,o,l,a,s,u,f,d,h,g=e[7].ticks(),m=[];for(let v=0;v<g.length;v+=1)m[v]=ci(fi(e,g,v));let p=e[3],b=[];for(let v=0;v<p.length;v+=1)b[v]=di(ui(e,p,v));return{c(){t=M("div"),n=O("svg");for(let v=0;v<m.length;v+=1)m[v].c();r=we();for(let v=0;v<b.length;v+=1)b[v].c();o=O("text"),l=R("Question Length"),s=O("line"),c(o,"class","chart-title svelte-kz2qh6"),c(o,"y",e[9].top/2+5),c(o,"x",a=(e[4]+e[9].left)/2),c(o,"text-anchor","middle"),c(s,"class","axis-line svelte-kz2qh6"),c(s,"x1",e[9].left),c(s,"x2",u=e[4]-e[9].right),c(s,"y1",f=e[2]-e[9].bottom),c(s,"y2",d=e[2]-e[9].bottom),c(n,"width",e[1]),c(n,"height",e[0]),c(n,"class","svelte-kz2qh6"),c(t,"class","histogram-container svelte-kz2qh6"),_e(()=>e[13].call(t))},m(v,S){P(v,t,S),_(t,n);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(n,null);_(n,r);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(n,null);_(n,o),_(o,l),_(n,s),h=Re(t,e[13].bind(t))},p(v,[S]){if(S&644){g=v[7].ticks();let k;for(k=0;k<g.length;k+=1){const z=fi(v,g,k);m[k]?m[k].p(z,S):(m[k]=ci(z),m[k].c(),m[k].m(n,r))}for(;k<m.length;k+=1)m[k].d(1);m.length=g.length}if(S&488){p=v[3];let k;for(k=0;k<p.length;k+=1){const z=ui(v,p,k);b[k]?b[k].p(z,S):(b[k]=di(z),b[k].c(),b[k].m(n,o))}for(;k<b.length;k+=1)b[k].d(1);b.length=p.length}S&16&&a!==(a=(v[4]+v[9].left)/2)&&c(o,"x",a),S&16&&u!==(u=v[4]-v[9].right)&&c(s,"x2",u),S&4&&f!==(f=v[2]-v[9].bottom)&&c(s,"y1",f),S&4&&d!==(d=v[2]-v[9].bottom)&&c(s,"y2",d),S&2&&c(n,"width",v[1]),S&1&&c(n,"height",v[0])},i:W,o:W,d(v){v&&N(t),te(m,v),te(b,v),h()}}}let hi=100;function qf(e,t,n){let r,o,l,a,s,u,f,d,h;ee(e,$e,k=>n(5,d=k)),ee(e,Te,k=>n(12,h=k));const g={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let m=300,p=300,b={top:15,bottom:10,left:25,right:5},v=Array.from({length:hi},(k,z)=>z);Qe().range(["var(--yellow)","var(--red)","var(--green)"]);function S(){p=this.offsetWidth,m=this.offsetHeight,n(1,p),n(0,m)}return e.$$.update=()=>{e.$$.dirty&4128&&n(11,r=d==="all"?h:h.filter(k=>k.vote_status===d)),e.$$.dirty&2048&&n(10,o=Yo(r)),e.$$.dirty&2&&n(4,l=p-b.left-b.right),e.$$.dirty&1&&n(2,a=m-b.top-b.bottom),e.$$.dirty&1024&&n(3,s=go().thresholds(v).value(k=>k.question)(o)),e.$$.dirty&16&&n(7,u=Ne().domain([3,hi]).range([b.left,l-b.right])),e.$$.dirty&12&&n(6,f=Ne().domain([0,lt(s,k=>k.length)]).range([a-b.bottom,b.top])),e.$$.dirty&1024&&lt(o,k=>k.length)},[m,p,a,s,l,d,f,u,g,b,o,r,h,S]}class Nf extends ue{constructor(t){super(),se(this,t,qf,$f,ae,{})}}const od="";function Of(e){let t,n,r,o,l,a,s,u,f,d,h,g,m,p=Math.round(e[5](e[3]))+"",b,v,S,k,z,C,E,T;return{c(){t=M("div"),n=M("div"),r=M("p"),r.textContent="Questions",o=I(),l=M("select"),a=M("option"),a.textContent="All",s=M("option"),s.textContent="Good",u=M("option"),u.textContent="Bad",f=M("option"),f.textContent="N/A",d=I(),h=M("div"),g=O("svg"),m=O("text"),b=R(p),z=I(),C=M("p"),C.textContent="number of responses",c(r,"class","card-text svelte-1pknxov"),a.__value="all",a.value=a.__value,c(a,"class","svelte-1pknxov"),s.__value="up",s.value=s.__value,c(s,"class","svelte-1pknxov"),u.__value="down",u.value=u.__value,c(u,"class","svelte-1pknxov"),f.__value="n/a",f.value=f.__value,c(f,"class","svelte-1pknxov"),c(l,"id","feedback-dropdown"),c(l,"name","feedback-dropdown"),de(l,"background",e[6][e[0]]),c(l,"class","svelte-1pknxov"),e[0]===void 0&&_e(()=>e[9].call(l)),c(n,"class","svelte-1pknxov"),c(m,"dominant-baseline","middle"),c(m,"x",v=e[2]/2),c(m,"y",S=e[1]/2),c(m,"text-anchor","middle"),c(m,"class","svelte-1pknxov"),c(g,"width",e[2]),c(g,"height",e[1]),c(g,"class","svelte-1pknxov"),c(h,"class","svelte-1pknxov"),_e(()=>e[10].call(h)),c(C,"class","small svelte-1pknxov"),c(t,"class","card-container svelte-1pknxov"),de(t,"background",e[6][e[0]])},m(y,x){P(y,t,x),_(t,n),_(n,r),_(n,o),_(n,l),_(l,a),_(l,s),_(l,u),_(l,f),Ut(l,e[0],!0),_(t,d),_(t,h),_(h,g),_(g,m),_(m,b),k=Re(h,e[10].bind(h)),_(t,z),_(t,C),E||(T=Q(l,"change",e[9]),E=!0)},p(y,[x]){x&1&&de(l,"background",y[6][y[0]]),x&1&&Ut(l,y[0]),x&8&&p!==(p=Math.round(y[5](y[3]))+"")&&X(b,p),x&4&&v!==(v=y[2]/2)&&c(m,"x",v),x&2&&S!==(S=y[1]/2)&&c(m,"y",S),x&4&&c(g,"width",y[2]),x&2&&c(g,"height",y[1]),x&1&&de(t,"background",y[6][y[0]])},i:W,o:W,d(y){y&&N(t),k(),E=!1,T()}}}function Pf(e,t){return t==="all"?e.length:e.filter(r=>r.vote_status===t).length}function Ff(e,t,n){let r,o,l,a;ee(e,$e,p=>n(0,o=p)),ee(e,Te,p=>n(8,l=p));let s,u,f=Pn(0);ee(e,f,p=>n(3,a=p));const d=He(".1f"),h={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"var(--white)"};function g(){o=Mr(this),$e.set(o)}function m(){u=this.clientWidth,s=this.clientHeight,n(2,u),n(1,s)}return e.$$.update=()=>{e.$$.dirty&257&&n(7,r=Pf(l,o)),e.$$.dirty&128&&console.log("fbc",r),e.$$.dirty&128&&f.set(r)},[o,s,u,a,f,d,h,r,l,g,m]}class If extends ue{constructor(t){super(),se(this,t,Ff,Of,ae,{})}}const id="";function Rf(e){let t,n,r,o,l,a,s,u,f,d,h,g,m,p=e[5](e[3])+"",b,v,S,k,z,C,E,T;return{c(){t=M("div"),n=M("div"),r=M("p"),r.textContent="Questions",o=I(),l=M("select"),a=M("option"),a.textContent="All",s=M("option"),s.textContent="Good",u=M("option"),u.textContent="Bad",f=M("option"),f.textContent="N/A",d=I(),h=M("div"),g=O("svg"),m=O("text"),b=R(p),z=I(),C=M("p"),C.textContent="percentage of responses",c(r,"class","card-text svelte-mchgj2"),a.__value="all",a.value=a.__value,s.__value="up",s.value=s.__value,u.__value="down",u.value=u.__value,f.__value="n/a",f.value=f.__value,c(l,"id","feedback-dropdown"),c(l,"name","feedback-dropdown"),de(l,"background",e[6][e[0]]),c(l,"class","svelte-mchgj2"),e[0]===void 0&&_e(()=>e[9].call(l)),c(m,"dominant-baseline","middle"),c(m,"x",v=e[2]/2),c(m,"y",S=e[1]/2),c(m,"text-anchor","middle"),c(m,"class","svelte-mchgj2"),c(g,"width",e[2]),c(g,"height",e[1]),c(g,"class","svelte-mchgj2"),_e(()=>e[10].call(h)),c(C,"class","small svelte-mchgj2"),c(t,"class","card-container svelte-mchgj2"),de(t,"background",e[6][e[0]])},m(y,x){P(y,t,x),_(t,n),_(n,r),_(n,o),_(n,l),_(l,a),_(l,s),_(l,u),_(l,f),Ut(l,e[0],!0),_(t,d),_(t,h),_(h,g),_(g,m),_(m,b),k=Re(h,e[10].bind(h)),_(t,z),_(t,C),E||(T=Q(l,"change",e[9]),E=!0)},p(y,[x]){x&1&&de(l,"background",y[6][y[0]]),x&1&&Ut(l,y[0]),x&8&&p!==(p=y[5](y[3])+"")&&X(b,p),x&4&&v!==(v=y[2]/2)&&c(m,"x",v),x&2&&S!==(S=y[1]/2)&&c(m,"y",S),x&4&&c(g,"width",y[2]),x&2&&c(g,"height",y[1]),x&1&&de(t,"background",y[6][y[0]])},i:W,o:W,d(y){y&&N(t),k(),E=!1,T()}}}function Bf(e,t){const n=e.length;return t==="all"?1:e.filter(o=>o.vote_status===t).length/n}function Lf(e,t,n){let r,o,l,a;ee(e,$e,p=>n(0,o=p)),ee(e,Te,p=>n(8,l=p));let s,u,f=Pn(0);ee(e,f,p=>n(3,a=p));const d=He(".1%"),h={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"var(--white)"};function g(){o=Mr(this),$e.set(o)}function m(){u=this.clientWidth,s=this.clientHeight,n(2,u),n(1,s)}return e.$$.update=()=>{e.$$.dirty&257&&n(7,r=Bf(l,o)),e.$$.dirty&128&&f.set(r)},[o,s,u,a,f,d,h,r,l,g,m]}class Hf extends ue{constructor(t){super(),se(this,t,Lf,Rf,ae,{})}}const ld="";function Gf(e){let t,n,r,o,l,a,s,u,f,d,h,g,m,p,b,v,S,k,z,C,E,T,y,x,w,A,j;return l=new If({}),u=new Hf({}),h=new bf({}),p=new Af({props:{feedback:"Bad"}}),S=new Nf({}),C=new Df({}),A=new Ef({}),{c(){t=M("div"),n=M("div"),r=M("div"),o=M("div"),me(l.$$.fragment),a=I(),s=M("div"),me(u.$$.fragment),f=I(),d=M("div"),me(h.$$.fragment),g=I(),m=M("div"),me(p.$$.fragment),b=I(),v=M("div"),me(S.$$.fragment),k=I(),z=M("div"),me(C.$$.fragment),E=I(),T=M("div"),y=M("div"),y.innerHTML=`<div class="right-chart-1 svelte-14znspc"></div> 
      <div class="right-chart-2 svelte-14znspc"></div>`,x=I(),w=M("div"),me(A.$$.fragment),c(o,"class","card-1 svelte-14znspc"),c(s,"class","card-2"),c(r,"class","left-text svelte-14znspc"),c(d,"class","left-confidence svelte-14znspc"),c(m,"class","left-question svelte-14znspc"),c(v,"class","left-filter svelte-14znspc"),c(z,"class","left-filter2"),c(n,"class","feedback-left svelte-14znspc"),c(y,"class","right-chart svelte-14znspc"),c(w,"class","right-table svelte-14znspc"),c(T,"class","feedback-right svelte-14znspc"),c(t,"class","feedback-container svelte-14znspc")},m(q,B){P(q,t,B),_(t,n),_(n,r),_(r,o),he(l,o,null),_(r,a),_(r,s),he(u,s,null),_(n,f),_(n,d),he(h,d,null),_(n,g),_(n,m),he(p,m,null),_(n,b),_(n,v),he(S,v,null),_(n,k),_(n,z),he(C,z,null),_(t,E),_(t,T),_(T,y),_(T,x),_(T,w),he(A,w,null),j=!0},p:W,i(q){j||(Y(l.$$.fragment,q),Y(u.$$.fragment,q),Y(h.$$.fragment,q),Y(p.$$.fragment,q),Y(S.$$.fragment,q),Y(C.$$.fragment,q),Y(A.$$.fragment,q),j=!0)},o(q){Z(l.$$.fragment,q),Z(u.$$.fragment,q),Z(h.$$.fragment,q),Z(p.$$.fragment,q),Z(S.$$.fragment,q),Z(C.$$.fragment,q),Z(A.$$.fragment,q),j=!1},d(q){q&&N(t),pe(l),pe(u),pe(h),pe(p),pe(S),pe(C),pe(A)}}}function Wf(e,t,n){let r;ee(e,Te,l=>n(0,r=l)),mt(()=>{o()});async function o(){const u=(await(await fetch("/chat/qa_table/retrieve")).json()).rows.map(f=>({id:f[0],question:f[1],answer:f[2],vote_status:f[3]}));Ye(Te,r=[...u],r)}return[]}class Vf extends ue{constructor(t){super(),se(this,t,Wf,Gf,ae,{})}}/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pi(Object(n),!0).forEach(function(r){Xf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hn=function(t){return typeof t}:hn=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(e)}function Xf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(){return Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}function Yf(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,l;for(l=0;l<r.length;l++)o=r[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Qf(e,t){if(e==null)return{};var n=Yf(e,t),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)r=l[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Uf="1.15.0";function We(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Ve=We(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),It=We(/Edge/i),gi=We(/firefox/i),Rt=We(/safari/i)&&!We(/chrome/i)&&!We(/android/i),mi=We(/iP(ad|od|hone)/i),vi=We(/chrome/i)&&We(/android/i),bi={capture:!1,passive:!1};function K(e,t,n){e.addEventListener(t,n,!Ve&&bi)}function U(e,t,n){e.removeEventListener(t,n,!Ve&&bi)}function pn(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Jf(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Fe(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&pn(e,t):pn(e,t))||r&&e===n)return e;if(e===n)break}while(e=Jf(e))}return null}var _i=/\s+/g;function ze(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(_i," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(_i," ")}}function H(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function zt(e,t){var n="";if(typeof e=="string")n=e;else do{var r=H(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function yi(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,l=r.length;if(n)for(;o<l;o++)n(r[o],o);return r}return[]}function Ie(){var e=document.scrollingElement;return e||document.documentElement}function ge(e,t,n,r,o){if(!(!e.getBoundingClientRect&&e!==window)){var l,a,s,u,f,d,h;if(e!==window&&e.parentNode&&e!==Ie()?(l=e.getBoundingClientRect(),a=l.top,s=l.left,u=l.bottom,f=l.right,d=l.height,h=l.width):(a=0,s=0,u=window.innerHeight,f=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!Ve))do if(o&&o.getBoundingClientRect&&(H(o,"transform")!=="none"||n&&H(o,"position")!=="static")){var g=o.getBoundingClientRect();a-=g.top+parseInt(H(o,"border-top-width")),s-=g.left+parseInt(H(o,"border-left-width")),u=a+l.height,f=s+l.width;break}while(o=o.parentNode);if(r&&e!==window){var m=zt(o||e),p=m&&m.a,b=m&&m.d;m&&(a/=b,s/=p,h/=p,d/=b,u=a+d,f=s+h)}return{top:a,left:s,bottom:u,right:f,width:h,height:d}}}function wi(e,t,n){for(var r=Ke(e,!0),o=ge(e)[t];r;){var l=ge(r)[n],a=void 0;if(n==="top"||n==="left"?a=o>=l:a=o<=l,!a)return r;if(r===Ie())break;r=Ke(r,!1)}return!1}function Et(e,t,n,r){for(var o=0,l=0,a=e.children;l<a.length;){if(a[l].style.display!=="none"&&a[l]!==L.ghost&&(r||a[l]!==L.dragged)&&Fe(a[l],n.draggable,e,!1)){if(o===t)return a[l];o++}l++}return null}function ir(e,t){for(var n=e.lastElementChild;n&&(n===L.ghost||H(n,"display")==="none"||t&&!pn(n,t));)n=n.previousElementSibling;return n||null}function Me(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==L.clone&&(!t||pn(e,t))&&n++;return n}function ki(e){var t=0,n=0,r=Ie();if(e)do{var o=zt(e),l=o.a,a=o.d;t+=e.scrollLeft*l,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function Kf(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function Ke(e,t){if(!e||!e.getBoundingClientRect)return Ie();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=H(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ie();if(r||t)return n;r=!0}}while(n=n.parentNode);return Ie()}function Zf(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function lr(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Bt;function xi(e,t){return function(){if(!Bt){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),Bt=setTimeout(function(){Bt=void 0},t)}}}function ec(){clearTimeout(Bt),Bt=void 0}function Si(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function zi(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Ee="Sortable"+new Date().getTime();function tc(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(o){if(!(H(o,"display")==="none"||o===L.ghost)){e.push({target:o,rect:ge(o)});var l=Pe({},e[e.length-1].rect);if(o.thisAnimationDuration){var a=zt(o,!0);a&&(l.top-=a.f,l.left-=a.e)}o.fromRect=l}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(Kf(e,{target:r}),1)},animateAll:function(r){var o=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var l=!1,a=0;e.forEach(function(s){var u=0,f=s.target,d=f.fromRect,h=ge(f),g=f.prevFromRect,m=f.prevToRect,p=s.rect,b=zt(f,!0);b&&(h.top-=b.f,h.left-=b.e),f.toRect=h,f.thisAnimationDuration&&lr(g,h)&&!lr(d,h)&&(p.top-h.top)/(p.left-h.left)===(d.top-h.top)/(d.left-h.left)&&(u=rc(p,g,m,o.options)),lr(h,d)||(f.prevFromRect=d,f.prevToRect=h,u||(u=o.options.animation),o.animate(f,p,h,u)),u&&(l=!0,a=Math.max(a,u),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},u),f.thisAnimationDuration=u)}),clearTimeout(t),l?t=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),e=[]},animate:function(r,o,l,a){if(a){H(r,"transition",""),H(r,"transform","");var s=zt(this.el),u=s&&s.a,f=s&&s.d,d=(o.left-l.left)/(u||1),h=(o.top-l.top)/(f||1);r.animatingX=!!d,r.animatingY=!!h,H(r,"transform","translate3d("+d+"px,"+h+"px,0)"),this.forRepaintDummy=nc(r),H(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),H(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){H(r,"transition",""),H(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function nc(e){return e.offsetWidth}function rc(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Ct=[],ar={initializeByDefault:!0},Lt={mount:function(t){for(var n in ar)ar.hasOwnProperty(n)&&!(n in t)&&(t[n]=ar[n]);Ct.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Ct.push(t)},pluginEvent:function(t,n,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var l=t+"Global";Ct.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][l]&&n[a.pluginName][l](Pe({sortable:n},r)),n.options[a.pluginName]&&n[a.pluginName][t]&&n[a.pluginName][t](Pe({sortable:n},r)))})},initializePlugins:function(t,n,r,o){Ct.forEach(function(s){var u=s.pluginName;if(!(!t.options[u]&&!s.initializeByDefault)){var f=new s(t,n,t.options);f.sortable=t,f.options=t.options,t[u]=f,Ge(r,f.defaults)}});for(var l in t.options)if(t.options.hasOwnProperty(l)){var a=this.modifyOption(t,l,t.options[l]);typeof a<"u"&&(t.options[l]=a)}},getEventProperties:function(t,n){var r={};return Ct.forEach(function(o){typeof o.eventProperties=="function"&&Ge(r,o.eventProperties.call(n[o.pluginName],t))}),r},modifyOption:function(t,n,r){var o;return Ct.forEach(function(l){t[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[n]=="function"&&(o=l.optionListeners[n].call(t[l.pluginName],r))}),o}};function oc(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,l=e.cloneEl,a=e.toEl,s=e.fromEl,u=e.oldIndex,f=e.newIndex,d=e.oldDraggableIndex,h=e.newDraggableIndex,g=e.originalEvent,m=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[Ee],!!t){var b,v=t.options,S="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Ve&&!It?b=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(r,!0,!0)),b.to=a||n,b.from=s||n,b.item=o||n,b.clone=l,b.oldIndex=u,b.newIndex=f,b.oldDraggableIndex=d,b.newDraggableIndex=h,b.originalEvent=g,b.pullMode=m?m.lastPutMode:void 0;var k=Pe(Pe({},p),Lt.getEventProperties(r,t));for(var z in k)b[z]=k[z];n&&n.dispatchEvent(b),v[S]&&v[S].call(t,b)}}var ic=["evt"],Se=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.evt,l=Qf(r,ic);Lt.pluginEvent.bind(L)(t,n,Pe({dragEl:$,parentEl:ie,ghostEl:V,rootEl:ne,nextEl:ct,lastDownEl:gn,cloneEl:oe,cloneHidden:Ze,dragStarted:Gt,putSortable:be,activeSortable:L.active,originalEvent:o,oldIndex:Tt,oldDraggableIndex:Ht,newIndex:Ce,newDraggableIndex:et,hideGhostForTarget:Di,unhideGhostForTarget:$i,cloneNowHidden:function(){Ze=!0},cloneNowShown:function(){Ze=!1},dispatchSortableEvent:function(s){ke({sortable:n,name:s,originalEvent:o})}},l))};function ke(e){oc(Pe({putSortable:be,cloneEl:oe,targetEl:$,rootEl:ne,oldIndex:Tt,oldDraggableIndex:Ht,newIndex:Ce,newDraggableIndex:et},e))}var $,ie,V,ne,ct,gn,oe,Ze,Tt,Ce,Ht,et,mn,be,At=!1,vn=!1,bn=[],dt,De,sr,ur,Ei,Ci,Gt,Mt,Wt,Vt=!1,_n=!1,yn,ye,fr=[],cr=!1,wn=[],kn=typeof document<"u",xn=mi,Ti=It||Ve?"cssFloat":"float",lc=kn&&!vi&&!mi&&"draggable"in document.createElement("div"),Ai=function(){if(kn){if(Ve)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Mi=function(t,n){var r=H(t),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),l=Et(t,0,n),a=Et(t,1,n),s=l&&H(l),u=a&&H(a),f=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+ge(l).width,d=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+ge(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&s.float&&s.float!=="none"){var h=s.float==="left"?"left":"right";return a&&(u.clear==="both"||u.clear===h)?"vertical":"horizontal"}return l&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||f>=o&&r[Ti]==="none"||a&&r[Ti]==="none"&&f+d>o)?"vertical":"horizontal"},ac=function(t,n,r){var o=r?t.left:t.top,l=r?t.right:t.bottom,a=r?t.width:t.height,s=r?n.left:n.top,u=r?n.right:n.bottom,f=r?n.width:n.height;return o===s||l===u||o+a/2===s+f/2},sc=function(t,n){var r;return bn.some(function(o){var l=o[Ee].options.emptyInsertThreshold;if(!(!l||ir(o))){var a=ge(o),s=t>=a.left-l&&t<=a.right+l,u=n>=a.top-l&&n<=a.bottom+l;if(s&&u)return r=o}}),r},ji=function(t){function n(l,a){return function(s,u,f,d){var h=s.options.group.name&&u.options.group.name&&s.options.group.name===u.options.group.name;if(l==null&&(a||h))return!0;if(l==null||l===!1)return!1;if(a&&l==="clone")return l;if(typeof l=="function")return n(l(s,u,f,d),a)(s,u,f,d);var g=(a?s:u).options.group.name;return l===!0||typeof l=="string"&&l===g||l.join&&l.indexOf(g)>-1}}var r={},o=t.group;(!o||hn(o)!="object")&&(o={name:o}),r.name=o.name,r.checkPull=n(o.pull,!0),r.checkPut=n(o.put),r.revertClone=o.revertClone,t.group=r},Di=function(){!Ai&&V&&H(V,"display","none")},$i=function(){!Ai&&V&&H(V,"display","")};kn&&!vi&&document.addEventListener("click",function(e){if(vn)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),vn=!1,!1},!0);var ht=function(t){if($){t=t.touches?t.touches[0]:t;var n=sc(t.clientX,t.clientY);if(n){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Ee]._onDragOver(r)}}},uc=function(t){$&&$.parentNode[Ee]._isOutsideThisEl(t.target)};function L(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Ge({},t),e[Ee]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Mi(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:L.supportPointer!==!1&&"PointerEvent"in window&&!Rt,emptyInsertThreshold:5};Lt.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);ji(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:lc,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?K(e,"pointerdown",this._onTapStart):(K(e,"mousedown",this._onTapStart),K(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(K(e,"dragover",this),K(e,"dragenter",this)),bn.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Ge(this,tc())}L.prototype={constructor:L,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Mt=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,$):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,o=this.options,l=o.preventOnFilter,a=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,u=(s||t).target,f=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||u,d=o.filter;if(vc(r),!$&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||o.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&Rt&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=Fe(u,o.draggable,r,!1),!(u&&u.animated)&&gn!==u)){if(Tt=Me(u),Ht=Me(u,o.draggable),typeof d=="function"){if(d.call(this,t,u,this)){ke({sortable:n,rootEl:f,name:"filter",targetEl:u,toEl:r,fromEl:r}),Se("filter",n,{evt:t}),l&&t.cancelable&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(h){if(h=Fe(f,h.trim(),r,!1),h)return ke({sortable:n,rootEl:h,name:"filter",targetEl:u,fromEl:r,toEl:r}),Se("filter",n,{evt:t}),!0}),d)){l&&t.cancelable&&t.preventDefault();return}o.handle&&!Fe(f,o.handle,r,!1)||this._prepareDragStart(t,s,u)}}},_prepareDragStart:function(t,n,r){var o=this,l=o.el,a=o.options,s=l.ownerDocument,u;if(r&&!$&&r.parentNode===l){var f=ge(r);if(ne=l,$=r,ie=$.parentNode,ct=$.nextSibling,gn=r,mn=a.group,L.dragged=$,dt={target:$,clientX:(n||t).clientX,clientY:(n||t).clientY},Ei=dt.clientX-f.left,Ci=dt.clientY-f.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,$.style["will-change"]="all",u=function(){if(Se("delayEnded",o,{evt:t}),L.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!gi&&o.nativeDraggable&&($.draggable=!0),o._triggerDragStart(t,n),ke({sortable:o,name:"choose",originalEvent:t}),ze($,a.chosenClass,!0)},a.ignore.split(",").forEach(function(d){yi($,d.trim(),dr)}),K(s,"dragover",ht),K(s,"mousemove",ht),K(s,"touchmove",ht),K(s,"mouseup",o._onDrop),K(s,"touchend",o._onDrop),K(s,"touchcancel",o._onDrop),gi&&this.nativeDraggable&&(this.options.touchStartThreshold=4,$.draggable=!0),Se("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(It||Ve))){if(L.eventCanceled){this._onDrop();return}K(s,"mouseup",o._disableDelayedDrag),K(s,"touchend",o._disableDelayedDrag),K(s,"touchcancel",o._disableDelayedDrag),K(s,"mousemove",o._delayedDragTouchMoveHandler),K(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&K(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(u,a.delay)}else u()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){$&&dr($),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;U(t,"mouseup",this._disableDelayedDrag),U(t,"touchend",this._disableDelayedDrag),U(t,"touchcancel",this._disableDelayedDrag),U(t,"mousemove",this._delayedDragTouchMoveHandler),U(t,"touchmove",this._delayedDragTouchMoveHandler),U(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?K(document,"pointermove",this._onTouchMove):n?K(document,"touchmove",this._onTouchMove):K(document,"mousemove",this._onTouchMove):(K($,"dragend",this),K(ne,"dragstart",this._onDragStart));try{document.selection?zn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(At=!1,ne&&$){Se("dragStarted",this,{evt:n}),this.nativeDraggable&&K(document,"dragover",uc);var r=this.options;!t&&ze($,r.dragClass,!1),ze($,r.ghostClass,!0),L.active=this,t&&this._appendGhost(),ke({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(De){this._lastX=De.clientX,this._lastY=De.clientY,Di();for(var t=document.elementFromPoint(De.clientX,De.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(De.clientX,De.clientY),t!==n);)n=t;if($.parentNode[Ee]._isOutsideThisEl(t),n)do{if(n[Ee]){var r=void 0;if(r=n[Ee]._onDragOver({clientX:De.clientX,clientY:De.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);$i()}},_onTouchMove:function(t){if(dt){var n=this.options,r=n.fallbackTolerance,o=n.fallbackOffset,l=t.touches?t.touches[0]:t,a=V&&zt(V,!0),s=V&&a&&a.a,u=V&&a&&a.d,f=xn&&ye&&ki(ye),d=(l.clientX-dt.clientX+o.x)/(s||1)+(f?f[0]-fr[0]:0)/(s||1),h=(l.clientY-dt.clientY+o.y)/(u||1)+(f?f[1]-fr[1]:0)/(u||1);if(!L.active&&!At){if(r&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(V){a?(a.e+=d-(sr||0),a.f+=h-(ur||0)):a={a:1,b:0,c:0,d:1,e:d,f:h};var g="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");H(V,"webkitTransform",g),H(V,"mozTransform",g),H(V,"msTransform",g),H(V,"transform",g),sr=d,ur=h,De=l}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!V){var t=this.options.fallbackOnBody?document.body:ne,n=ge($,!0,xn,!0,t),r=this.options;if(xn){for(ye=t;H(ye,"position")==="static"&&H(ye,"transform")==="none"&&ye!==document;)ye=ye.parentNode;ye!==document.body&&ye!==document.documentElement?(ye===document&&(ye=Ie()),n.top+=ye.scrollTop,n.left+=ye.scrollLeft):ye=Ie(),fr=ki(ye)}V=$.cloneNode(!0),ze(V,r.ghostClass,!1),ze(V,r.fallbackClass,!0),ze(V,r.dragClass,!0),H(V,"transition",""),H(V,"transform",""),H(V,"box-sizing","border-box"),H(V,"margin",0),H(V,"top",n.top),H(V,"left",n.left),H(V,"width",n.width),H(V,"height",n.height),H(V,"opacity","0.8"),H(V,"position",xn?"absolute":"fixed"),H(V,"zIndex","100000"),H(V,"pointerEvents","none"),L.ghost=V,t.appendChild(V),H(V,"transform-origin",Ei/parseInt(V.style.width)*100+"% "+Ci/parseInt(V.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,o=t.dataTransfer,l=r.options;if(Se("dragStart",this,{evt:t}),L.eventCanceled){this._onDrop();return}Se("setupClone",this),L.eventCanceled||(oe=zi($),oe.removeAttribute("id"),oe.draggable=!1,oe.style["will-change"]="",this._hideClone(),ze(oe,this.options.chosenClass,!1),L.clone=oe),r.cloneId=zn(function(){Se("clone",r),!L.eventCanceled&&(r.options.removeCloneOnHide||ne.insertBefore(oe,$),r._hideClone(),ke({sortable:r,name:"clone"}))}),!n&&ze($,l.dragClass,!0),n?(vn=!0,r._loopId=setInterval(r._emulateDragOver,50)):(U(document,"mouseup",r._onDrop),U(document,"touchend",r._onDrop),U(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",l.setData&&l.setData.call(r,o,$)),K(document,"drop",r),H($,"transform","translateZ(0)")),At=!0,r._dragStartId=zn(r._dragStarted.bind(r,n,t)),K(document,"selectstart",r),Gt=!0,Rt&&H(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,o,l,a,s=this.options,u=s.group,f=L.active,d=mn===u,h=s.sort,g=be||f,m,p=this,b=!1;if(cr)return;function v(G,F){Se(G,p,Pe({evt:t,isOwner:d,axis:m?"vertical":"horizontal",revert:a,dragRect:o,targetRect:l,canSort:h,fromSortable:g,target:r,completed:k,onMove:function(Xe,Gc){return Sn(ne,n,$,o,Xe,ge(Xe),t,Gc)},changed:z},F))}function S(){v("dragOverAnimationCapture"),p.captureAnimationState(),p!==g&&g.captureAnimationState()}function k(G){return v("dragOverCompleted",{insertion:G}),G&&(d?f._hideClone():f._showClone(p),p!==g&&(ze($,be?be.options.ghostClass:f.options.ghostClass,!1),ze($,s.ghostClass,!0)),be!==p&&p!==L.active?be=p:p===L.active&&be&&(be=null),g===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){v("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(r===$&&!$.animated||r===n&&!r.animated)&&(Mt=null),!s.dragoverBubble&&!t.rootEl&&r!==document&&($.parentNode[Ee]._isOutsideThisEl(t.target),!G&&ht(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),b=!0}function z(){Ce=Me($),et=Me($,s.draggable),ke({sortable:p,name:"change",toEl:n,newIndex:Ce,newDraggableIndex:et,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=Fe(r,s.draggable,n,!0),v("dragOver"),L.eventCanceled)return b;if($.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return k(!1);if(vn=!1,f&&!s.disabled&&(d?h||(a=ie!==ne):be===this||(this.lastPutMode=mn.checkPull(this,f,$,t))&&u.checkPut(this,f,$,t))){if(m=this._getDirection(t,r)==="vertical",o=ge($),v("dragOverValid"),L.eventCanceled)return b;if(a)return ie=ne,S(),this._hideClone(),v("revert"),L.eventCanceled||(ct?ne.insertBefore($,ct):ne.appendChild($)),k(!0);var C=ir(n,s.draggable);if(!C||hc(t,m,this)&&!C.animated){if(C===$)return k(!1);if(C&&n===t.target&&(r=C),r&&(l=ge(r)),Sn(ne,n,$,o,r,l,t,!!r)!==!1)return S(),C&&C.nextSibling?n.insertBefore($,C.nextSibling):n.appendChild($),ie=n,z(),k(!0)}else if(C&&dc(t,m,this)){var E=Et(n,0,s,!0);if(E===$)return k(!1);if(r=E,l=ge(r),Sn(ne,n,$,o,r,l,t,!1)!==!1)return S(),n.insertBefore($,E),ie=n,z(),k(!0)}else if(r.parentNode===n){l=ge(r);var T=0,y,x=$.parentNode!==n,w=!ac($.animated&&$.toRect||o,r.animated&&r.toRect||l,m),A=m?"top":"left",j=wi(r,"top","top")||wi($,"top","top"),q=j?j.scrollTop:void 0;Mt!==r&&(y=l[A],Vt=!1,_n=!w&&s.invertSwap||x),T=pc(t,r,l,m,w?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,_n,Mt===r);var B;if(T!==0){var J=Me($);do J-=T,B=ie.children[J];while(B&&(H(B,"display")==="none"||B===V))}if(T===0||B===r)return k(!1);Mt=r,Wt=T;var re=r.nextElementSibling,le=!1;le=T===1;var D=Sn(ne,n,$,o,r,l,t,le);if(D!==!1)return(D===1||D===-1)&&(le=D===1),cr=!0,setTimeout(cc,30),S(),le&&!re?n.appendChild($):r.parentNode.insertBefore($,le?re:r),j&&Si(j,0,q-j.scrollTop),ie=$.parentNode,y!==void 0&&!_n&&(yn=Math.abs(y-ge(r)[A])),z(),k(!0)}if(n.contains($))return k(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){U(document,"mousemove",this._onTouchMove),U(document,"touchmove",this._onTouchMove),U(document,"pointermove",this._onTouchMove),U(document,"dragover",ht),U(document,"mousemove",ht),U(document,"touchmove",ht)},_offUpEvents:function(){var t=this.el.ownerDocument;U(t,"mouseup",this._onDrop),U(t,"touchend",this._onDrop),U(t,"pointerup",this._onDrop),U(t,"touchcancel",this._onDrop),U(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(Ce=Me($),et=Me($,r.draggable),Se("drop",this,{evt:t}),ie=$&&$.parentNode,Ce=Me($),et=Me($,r.draggable),L.eventCanceled){this._nulling();return}At=!1,_n=!1,Vt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),hr(this.cloneId),hr(this._dragStartId),this.nativeDraggable&&(U(document,"drop",this),U(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Rt&&H(document.body,"user-select",""),H($,"transform",""),t&&(Gt&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),V&&V.parentNode&&V.parentNode.removeChild(V),(ne===ie||be&&be.lastPutMode!=="clone")&&oe&&oe.parentNode&&oe.parentNode.removeChild(oe),$&&(this.nativeDraggable&&U($,"dragend",this),dr($),$.style["will-change"]="",Gt&&!At&&ze($,be?be.options.ghostClass:this.options.ghostClass,!1),ze($,this.options.chosenClass,!1),ke({sortable:this,name:"unchoose",toEl:ie,newIndex:null,newDraggableIndex:null,originalEvent:t}),ne!==ie?(Ce>=0&&(ke({rootEl:ie,name:"add",toEl:ie,fromEl:ne,originalEvent:t}),ke({sortable:this,name:"remove",toEl:ie,originalEvent:t}),ke({rootEl:ie,name:"sort",toEl:ie,fromEl:ne,originalEvent:t}),ke({sortable:this,name:"sort",toEl:ie,originalEvent:t})),be&&be.save()):Ce!==Tt&&Ce>=0&&(ke({sortable:this,name:"update",toEl:ie,originalEvent:t}),ke({sortable:this,name:"sort",toEl:ie,originalEvent:t})),L.active&&((Ce==null||Ce===-1)&&(Ce=Tt,et=Ht),ke({sortable:this,name:"end",toEl:ie,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Se("nulling",this),ne=$=ie=V=ct=oe=gn=Ze=dt=De=Gt=Ce=et=Tt=Ht=Mt=Wt=be=mn=L.dragged=L.ghost=L.clone=L.active=null,wn.forEach(function(t){t.checked=!0}),wn.length=sr=ur=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":$&&(this._onDragOver(t),fc(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,o=0,l=r.length,a=this.options;o<l;o++)n=r[o],Fe(n,a.draggable,this.el,!1)&&t.push(n.getAttribute(a.dataIdAttr)||mc(n));return t},sort:function(t,n){var r={},o=this.el;this.toArray().forEach(function(l,a){var s=o.children[a];Fe(s,this.options.draggable,o,!1)&&(r[l]=s)},this),n&&this.captureAnimationState(),t.forEach(function(l){r[l]&&(o.removeChild(r[l]),o.appendChild(r[l]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Fe(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var o=Lt.modifyOption(this,t,n);typeof o<"u"?r[t]=o:r[t]=n,t==="group"&&ji(r)},destroy:function(){Se("destroy",this);var t=this.el;t[Ee]=null,U(t,"mousedown",this._onTapStart),U(t,"touchstart",this._onTapStart),U(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(U(t,"dragover",this),U(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),bn.splice(bn.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Ze){if(Se("hideClone",this),L.eventCanceled)return;H(oe,"display","none"),this.options.removeCloneOnHide&&oe.parentNode&&oe.parentNode.removeChild(oe),Ze=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Ze){if(Se("showClone",this),L.eventCanceled)return;$.parentNode==ne&&!this.options.group.revertClone?ne.insertBefore(oe,$):ct?ne.insertBefore(oe,ct):ne.appendChild(oe),this.options.group.revertClone&&this.animate($,oe),H(oe,"display",""),Ze=!1}}};function fc(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Sn(e,t,n,r,o,l,a,s){var u,f=e[Ee],d=f.options.onMove,h;return window.CustomEvent&&!Ve&&!It?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=t,u.from=e,u.dragged=n,u.draggedRect=r,u.related=o||t,u.relatedRect=l||ge(t),u.willInsertAfter=s,u.originalEvent=a,e.dispatchEvent(u),d&&(h=d.call(f,u,a)),h}function dr(e){e.draggable=!1}function cc(){cr=!1}function dc(e,t,n){var r=ge(Et(n.el,0,n.options,!0)),o=10;return t?e.clientX<r.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-o||e.clientY<r.bottom&&e.clientX<r.left}function hc(e,t,n){var r=ge(ir(n.el,n.options.draggable)),o=10;return t?e.clientX>r.right+o||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+o}function pc(e,t,n,r,o,l,a,s){var u=r?e.clientY:e.clientX,f=r?n.height:n.width,d=r?n.top:n.left,h=r?n.bottom:n.right,g=!1;if(!a){if(s&&yn<f*o){if(!Vt&&(Wt===1?u>d+f*l/2:u<h-f*l/2)&&(Vt=!0),Vt)g=!0;else if(Wt===1?u<d+yn:u>h-yn)return-Wt}else if(u>d+f*(1-o)/2&&u<h-f*(1-o)/2)return gc(t)}return g=g||a,g&&(u<d+f*l/2||u>h-f*l/2)?u>d+f/2?1:-1:0}function gc(e){return Me($)<Me(e)?1:-1}function mc(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function vc(e){wn.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&wn.push(r)}}function zn(e){return setTimeout(e,0)}function hr(e){return clearTimeout(e)}kn&&K(document,"touchmove",function(e){(L.active||At)&&e.cancelable&&e.preventDefault()}),L.utils={on:K,off:U,css:H,find:yi,is:function(t,n){return!!Fe(t,n,t,!1)},extend:Zf,throttle:xi,closest:Fe,toggleClass:ze,clone:zi,index:Me,nextTick:zn,cancelNextTick:hr,detectDirection:Mi,getChild:Et},L.get=function(e){return e[Ee]},L.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(L.utils=Pe(Pe({},L.utils),r.utils)),Lt.mount(r)})},L.create=function(e,t){return new L(e,t)},L.version=Uf;var fe=[],Xt,pr,gr=!1,mr,vr,En,Yt;function bc(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?K(document,"dragover",this._handleAutoScroll):this.options.supportPointer?K(document,"pointermove",this._handleFallbackAutoScroll):r.touches?K(document,"touchmove",this._handleFallbackAutoScroll):K(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?U(document,"dragover",this._handleAutoScroll):(U(document,"pointermove",this._handleFallbackAutoScroll),U(document,"touchmove",this._handleFallbackAutoScroll),U(document,"mousemove",this._handleFallbackAutoScroll)),qi(),Cn(),ec()},nulling:function(){En=pr=Xt=gr=Yt=mr=vr=null,fe.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var o=this,l=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(l,a);if(En=n,r||this.options.forceAutoScrollFallback||It||Ve||Rt){br(n,this.options,s,r);var u=Ke(s,!0);gr&&(!Yt||l!==mr||a!==vr)&&(Yt&&qi(),Yt=setInterval(function(){var f=Ke(document.elementFromPoint(l,a),!0);f!==u&&(u=f,Cn()),br(n,o.options,f,r)},10),mr=l,vr=a)}else{if(!this.options.bubbleScroll||Ke(s,!0)===Ie()){Cn();return}br(n,this.options,Ke(s,!1),!1)}}},Ge(e,{pluginName:"scroll",initializeByDefault:!0})}function Cn(){fe.forEach(function(e){clearInterval(e.pid)}),fe=[]}function qi(){clearInterval(Yt)}var br=xi(function(e,t,n,r){if(t.scroll){var o=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,s=t.scrollSpeed,u=Ie(),f=!1,d;pr!==n&&(pr=n,Cn(),Xt=t.scroll,d=t.scrollFn,Xt===!0&&(Xt=Ke(n,!0)));var h=0,g=Xt;do{var m=g,p=ge(m),b=p.top,v=p.bottom,S=p.left,k=p.right,z=p.width,C=p.height,E=void 0,T=void 0,y=m.scrollWidth,x=m.scrollHeight,w=H(m),A=m.scrollLeft,j=m.scrollTop;m===u?(E=z<y&&(w.overflowX==="auto"||w.overflowX==="scroll"||w.overflowX==="visible"),T=C<x&&(w.overflowY==="auto"||w.overflowY==="scroll"||w.overflowY==="visible")):(E=z<y&&(w.overflowX==="auto"||w.overflowX==="scroll"),T=C<x&&(w.overflowY==="auto"||w.overflowY==="scroll"));var q=E&&(Math.abs(k-o)<=a&&A+z<y)-(Math.abs(S-o)<=a&&!!A),B=T&&(Math.abs(v-l)<=a&&j+C<x)-(Math.abs(b-l)<=a&&!!j);if(!fe[h])for(var J=0;J<=h;J++)fe[J]||(fe[J]={});(fe[h].vx!=q||fe[h].vy!=B||fe[h].el!==m)&&(fe[h].el=m,fe[h].vx=q,fe[h].vy=B,clearInterval(fe[h].pid),(q!=0||B!=0)&&(f=!0,fe[h].pid=setInterval((function(){r&&this.layer===0&&L.active._onTouchMove(En);var re=fe[this.layer].vy?fe[this.layer].vy*s:0,le=fe[this.layer].vx?fe[this.layer].vx*s:0;typeof d=="function"&&d.call(L.dragged.parentNode[Ee],le,re,e,En,fe[this.layer].el)!=="continue"||Si(fe[this.layer].el,le,re)}).bind({layer:h}),24))),h++}while(t.bubbleScroll&&g!==u&&(g=Ke(g,!1)));gr=f}},30),Ni=function(t){var n=t.originalEvent,r=t.putSortable,o=t.dragEl,l=t.activeSortable,a=t.dispatchSortableEvent,s=t.hideGhostForTarget,u=t.unhideGhostForTarget;if(n){var f=r||l;s();var d=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,h=document.elementFromPoint(d.clientX,d.clientY);u(),f&&!f.el.contains(h)&&(a("spill"),this.onSpill({dragEl:o,putSortable:r}))}};function _r(){}_r.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=Et(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:Ni},Ge(_r,{pluginName:"revertOnSpill"});function yr(){}yr.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,o=r||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:Ni},Ge(yr,{pluginName:"removeOnSpill"}),L.mount(new bc),L.mount(yr,_r);const ad="";function Oi(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Pi(e,t,n){const r=e.slice();return r[22]=t[n],r[24]=n,r}function Fi(e,t,n){const r=e.slice();return r[25]=t[n],r[24]=n,r}function Ii(e){let t,n=e[24]+1+"",r;return{c(){t=M("option"),r=R(n),t.__value=e[24]+1,t.value=t.__value,c(t,"class","svelte-1nj8mt0")},m(o,l){P(o,t,l),_(t,r)},p:W,d(o){o&&N(t)}}}function Ri(e,t){let n,r,o=t[1][t[24]]+"",l,a,s,u,f=t[19][t[1][t[24]]]+"",d,h,g,m,p,b,v,S,k,z=Array(t[0]).fill(),C=[];for(let y=0;y<z.length;y+=1)C[y]=Ii(Fi(t,z,y));function E(...y){return t[13](t[19],t[24],...y)}function T(...y){return t[14](t[19],...y)}return{key:e,first:null,c(){n=M("div"),r=M("h5"),l=R(o),a=R(":"),s=I(),u=M("p"),d=R(f),h=I(),g=M("div"),m=R(`Rank:
                        `),p=M("select");for(let y=0;y<C.length;y+=1)C[y].c();b=I(),c(r,"class","bold underline svelte-1nj8mt0"),c(u,"class","svelte-1nj8mt0"),c(p,"class","answer-rank"),c(n,"class","answer svelte-1nj8mt0"),c(n,"id",v=`answer-${t[24]}-${t[19].qid}`),this.first=n},m(y,x){P(y,n,x),_(n,r),_(r,l),_(r,a),_(n,s),_(n,u),_(u,d),_(n,h),_(n,g),_(g,m),_(g,p);for(let w=0;w<C.length;w+=1)C[w]&&C[w].m(p,null);_(n,b),S||(k=[Q(p,"change",E),Q(n,"dragend",T)],S=!0)},p(y,x){if(t=y,x&3&&o!==(o=t[1][t[24]]+"")&&X(l,o),x&131&&f!==(f=t[19][t[1][t[24]]]+"")&&X(d,f),x&1){z=Array(t[0]).fill();let w;for(w=0;w<z.length;w+=1){const A=Fi(t,z,w);C[w]?C[w].p(A,x):(C[w]=Ii(A),C[w].c(),C[w].m(p,null))}for(;w<C.length;w+=1)C[w].d(1);C.length=z.length}x&129&&v!==(v=`answer-${t[24]}-${t[19].qid}`)&&c(n,"id",v)},d(y){y&&N(n),te(C,y),S=!1,ve(k)}}}function Bi(e,t){let n,r,o,l,a,s,u=t[19].qid+"",f,d,h,g=t[19].question+"",m,p,b,v=[],S=new Map,k,z,C,E,T=Array(t[0]).fill();const y=x=>x[24];for(let x=0;x<T.length;x+=1){let w=Pi(t,T,x),A=y(w);S.set(A,v[x]=Ri(A,w))}return{key:e,first:null,c(){n=M("div"),r=M("div"),o=M("div"),l=M("div"),a=M("h5"),s=R("Question: "),f=R(u),d=I(),h=M("p"),m=R(g),p=I(),b=M("div");for(let x=0;x<v.length;x+=1)v[x].c();k=I(),c(a,"class","bold svelte-1nj8mt0"),c(h,"class","svelte-1nj8mt0"),c(l,"class","question svelte-1nj8mt0"),c(b,"class","answers"),de(b,"display","grid"),de(b,"grid-template-columns",t[6]),de(b,"gap",".25%"),de(b,"width","100%"),de(b,"margin","auto"),c(o,"class","message-content svelte-1nj8mt0"),c(r,"class","chat-message-center svelte-1nj8mt0"),c(n,"class","chat-message svelte-1nj8mt0"),this.first=n},m(x,w){P(x,n,w),_(n,r),_(r,o),_(o,l),_(l,a),_(a,s),_(a,f),_(l,d),_(l,h),_(h,m),_(o,p),_(o,b);for(let A=0;A<v.length;A+=1)v[A]&&v[A].m(b,null);t[15](b),_(n,k),C||(E=Mn(z=yc.call(null,n,t[21]===t[7].length-1)),C=!0)},p(x,w){t=x,w&128&&u!==(u=t[19].qid+"")&&X(f,u),w&128&&g!==(g=t[19].question+"")&&X(m,g),w&1667&&(T=Array(t[0]).fill(),v=it(v,w,y,1,t,T,S,b,ot,Ri,null,Pi)),w&64&&de(b,"grid-template-columns",t[6]),z&&tt(z.update)&&w&128&&z.update.call(null,t[21]===t[7].length-1)},d(x){x&&N(n);for(let w=0;w<v.length;w+=1)v[w].d();t[15](null),C=!1,E()}}}function _c(e){let t,n,r,o,l,a,s=[],u=new Map,f,d,h,g,m,p,b=(e[4]?e[5]:"Send")+"",v,S,k,z,C=e[7];const E=T=>T[21];for(let T=0;T<C.length;T+=1){let y=Oi(e,C,T),x=E(y);u.set(x,s[T]=Bi(x,y))}return{c(){t=M("div"),n=M("div"),n.innerHTML=`<h5 class="underline bold svelte-1nj8mt0">Q &amp; A Comparison Instructions</h5> 
    <br/> 
    <p class="svelte-1nj8mt0">Ask a question and rank the answers across the models. Drag each answer to
      rank it, in ascending order, from left-to-right. Optionally, select the
      rank for each via the corresponding dropdown.</p> 
    <br/> 
    <button class="svelte-1nj8mt0">Download Data</button>`,r=I(),o=M("div"),l=M("section"),a=M("div");for(let T=0;T<s.length;T+=1)s[T].c();f=I(),d=M("div"),h=M("form"),g=M("input"),m=I(),p=M("button"),v=R(b),c(n,"class","instructions svelte-1nj8mt0"),c(a,"class","chat-log svelte-1nj8mt0"),c(l,"class","chatbox svelte-1nj8mt0"),c(g,"class","chat-input-textarea svelte-1nj8mt0"),c(g,"placeholder","Type Message Here"),c(p,"class",S="btnyousend "+(e[3]===""?"":"active")+" svelte-1nj8mt0"),c(p,"type","submit"),c(h,"class","chat-input-form svelte-1nj8mt0"),c(d,"class","chat-input-holder svelte-1nj8mt0"),c(o,"class","ranked-chat svelte-1nj8mt0"),c(t,"class","ranked-feedback-container svelte-1nj8mt0")},m(T,y){P(T,t,y),_(t,n),_(t,r),_(t,o),_(o,l),_(l,a);for(let x=0;x<s.length;x+=1)s[x]&&s[x].m(a,null);_(o,f),_(o,d),_(d,h),_(h,g),gt(g,e[3]),_(h,m),_(h,p),_(p,v),k||(z=[Q(g,"input",e[16]),Q(h,"submit",e[8])],k=!0)},p(T,[y]){y&1735&&(C=T[7],s=it(s,y,E,1,T,C,u,a,ot,Bi,null,Oi)),y&8&&g.value!==T[3]&&gt(g,T[3]),y&48&&b!==(b=(T[4]?T[5]:"Send")+"")&&X(v,b),y&8&&S!==(S="btnyousend "+(T[3]===""?"":"active")+" svelte-1nj8mt0")&&c(p,"class",S)},i:W,o:W,d(T){T&&N(t);for(let y=0;y<s.length;y+=1)s[y].d();k=!1,ve(z)}}}function yc(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function Li(e){console.log("run update",e);const n=await fetch("/chat/comparator/db/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e})});if(n.ok)console.log("ok",n);else{const r=await n.text();alert(r)}}function wc(e,t,n){let r,o,l;ee(e,In,E=>n(7,l=E));let{numModels:a=1}=t,{models:s=[0]}=t,u="",f="",d=!1;mt(async()=>{if(await new Promise(E=>setTimeout(E,200)),m){const E=new L(m,{animation:150,onUpdate(T){E.toArray()}});E.toArray()}});const h=async E=>{E.preventDefault(),u=f,n(3,f=""),n(4,d=!0);let T={question:u};for(let x of s)T[x]="Loading...";Ye(In,l=[...l,T],l);const y=await fetch(`/chat/comparator/${u}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:u})});if(y.ok){const x=await y.json();n(1,s=Object.keys(x.answer)),n(0,a=s.length);for(let w of s)T[w]=x.answer[w];T.qid=x.qid,In.update(w=>(w[w.length-1]=T,w))}else{const x=await y.text();alert(x)}n(4,d=!1)};let g=0;setInterval(()=>{n(11,g=(g+1)%4)},200);let m,p;function b(E,T){const y=T,w=wt(E.currentTarget.parentNode).selectAll("div.answer").nodes().map(B=>B.id);w.forEach((B,J)=>{wt(`#${B}`).select(".answer-rank").property("value",J+1)});let A=[];for(let[B,J]of w.entries()){const re=parseInt(J.split("-")[1]),le=s[re],D={rank:B,model:le};A.push(D)}let j=l.filter(B=>B.qid===y),q=[];for(let B of A){const J={model:B.model,qid:parseInt(y),rank:parseInt(B.rank)+1,answer:j[0][B.model]};q.push(J)}Li(q)}function v(E,T,y){const x=T,w=parseInt(E.target.value),A=s[y],j={qid:x,rank:parseInt(w),model:A};let q=[],J=l.filter(le=>le.qid===j.qid)[0][j.model];const re={model:j.model,qid:parseInt(j.qid),rank:parseInt(j.rank),answer:J};q.push(re),Li(q)}const S=(E,T,y)=>v(y,E.qid,T),k=(E,T)=>b(T,E.qid);function z(E){Dn[E?"unshift":"push"](()=>{m=E,n(2,m)})}function C(){f=this.value,n(3,f)}return e.$$set=E=>{"numModels"in E&&n(0,a=E.numModels),"models"in E&&n(1,s=E.models)},e.$$.update=()=>{e.$$.dirty&1&&n(6,r="1fr ".repeat(a).trim()),e.$$.dirty&2048&&n(5,o=".".repeat(g).padEnd(3)),e.$$.dirty&4100&&m&&(n(12,p=new L(m,{animation:150,dataIdAttr:"id",onUpdate(E){p.toArray()}})),p.toArray())},[a,s,m,f,d,o,r,l,h,b,v,g,p,S,k,z,C]}class kc extends ue{constructor(t){super(),se(this,t,wc,_c,ae,{numModels:0,models:1})}}const Qt=Le([{model:"llama",qid:1,rank:1,answer:"Llama's first unique answer."},{model:"gpt3.5",qid:1,rank:2,answer:"GPT-3.5's first unique answer."},{model:"gpt4",qid:1,rank:3,answer:"GPT-4's first unique answer."},{model:"claude",qid:1,rank:4,answer:"Claude's first unique answer."},{model:"llama",qid:2,rank:4,answer:"Llama's second unique answer."},{model:"gpt3.5",qid:2,rank:2,answer:"GPT-3.5's second unique answer."},{model:"gpt4",qid:2,rank:4,answer:"GPT-4's second unique answer."},{model:"claude",qid:2,rank:3,answer:"'s second unique answer."},{model:"llama",qid:3,rank:1,answer:"Llama's third unique answer."},{model:"gpt3.5",qid:3,rank:4,answer:"GPT-3.5's third unique answer."},{model:"gpt4",qid:3,rank:4,answer:"GPT-4's third unique answer."},{model:"claude",qid:3,rank:2,answer:"'s third unique answer."},{model:"llama",qid:4,rank:1,answer:"Llama's fourth unique answer."},{model:"gpt3.5",qid:4,rank:3,answer:"GPT-3.5's  unique answer."},{model:"gpt4",qid:4,rank:2,answer:"GPT-4's  unique answer."},{model:"claude",qid:4,rank:4,answer:"'s  unique answer."},{model:"llama",qid:5,rank:1,answer:"Llama's  unique answer."},{model:"gpt3.5",qid:5,rank:2,answer:"GPT-3.5's nique answer."},{model:"gpt4",qid:5,rank:3,answer:"GPT-4's fifth unique answer."},{model:"claude",qid:5,rank:4,answer:"'s fifthnswer."},{model:"llama",qid:6,rank:1,answer:"Llama's sixth unique answer."},{model:"gpt3.5",qid:6,rank:2,answer:"GPT-3.5's sixth unique answer."},{model:"gpt4",qid:6,rank:3,answer:"GPT-4's sixth unique answer."},{model:"claude",qid:6,rank:4,answer:"'s sixth uniq."}]),sd="";function Hi(e,t,n){const r=e.slice();return r[21]=t[n],r}function Gi(e,t,n){const r=e.slice();return r[21]=t[n],r[25]=n,r}function Wi(e,t,n){const r=e.slice();return r[26]=t[n],r}function Vi(e,t,n){const r=e.slice();return r[26]=t[n],r}function Xi(e){let t,n,r,o,l=`Q.${e[26]}`,a,s;return{c(){t=O("g"),n=O("line"),o=O("text"),a=R(l),c(n,"class","axis-tick svelte-1nna9rx"),c(n,"x1","0"),c(n,"x2","0"),c(n,"y1",0),c(n,"y2",r=-e[6]+e[12].bottom+e[12].top),c(n,"stroke","black"),c(n,"stroke-dasharray","4"),c(o,"class","axis-text svelte-1nna9rx"),c(o,"y","15"),c(o,"text-anchor","middle"),c(t,"transform",s=`translate(${e[3](e[26])+0} ${e[6]-e[12].bottom})`),c(t,"class","svelte-1nna9rx")},m(u,f){P(u,t,f),_(t,n),_(t,o),_(o,a)},p(u,f){f&64&&r!==(r=-u[6]+u[12].bottom+u[12].top)&&c(n,"y2",r),f&512&&l!==(l=`Q.${u[26]}`)&&X(a,l),f&584&&s!==(s=`translate(${u[3](u[26])+0} ${u[6]-u[12].bottom})`)&&c(t,"transform",s)},d(u){u&&N(t)}}}function Yi(e){let t=Number.isInteger(e[26]),n,r=t&&Xi(e);return{c(){r&&r.c(),n=we()},m(o,l){r&&r.m(o,l),P(o,n,l)},p(o,l){l&512&&(t=Number.isInteger(o[26])),t?r?r.p(o,l):(r=Xi(o),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(o){r&&r.d(o),o&&N(n)}}}function Qi(e){let t,n;return{c(){t=O("g"),c(t,"transform",n=`translate(${e[12].left} ${e[5](e[26])+0})`),c(t,"class","svelte-1nna9rx")},m(r,o){P(r,t,o)},p(r,o){o&32&&n!==(n=`translate(${r[12].left} ${r[5](r[26])+0})`)&&c(t,"transform",n)},d(r){r&&N(t)}}}function Ui(e,t){let n,r,o,l,a,s,u,f,d;function h(){return t[15](t[25])}function g(){return t[16](t[25])}return{key:e,first:null,c(){n=O("path"),l=O("path"),c(n,"class","model-path-outer svelte-1nna9rx"),c(n,"d",r=t[10](t[21])),c(n,"stroke","white"),c(n,"data-model",o=t[2][t[25]]),c(l,"class","model-path svelte-1nna9rx"),c(l,"d",a=t[10](t[21])),c(l,"role","img"),c(l,"stroke",s=t[11](t[2][t[25]])),c(l,"data-model",u=t[2][t[25]]),this.first=n},m(m,p){P(m,n,p),P(m,l,p),f||(d=[Q(l,"mouseover",h),Q(l,"focus",g),Q(l,"mouseout",Tn),Q(l,"blur",Tn)],f=!0)},p(m,p){t=m,p&1040&&r!==(r=t[10](t[21]))&&c(n,"d",r),p&20&&o!==(o=t[2][t[25]])&&c(n,"data-model",o),p&1040&&a!==(a=t[10](t[21]))&&c(l,"d",a),p&2068&&s!==(s=t[11](t[2][t[25]]))&&c(l,"stroke",s),p&20&&u!==(u=t[2][t[25]])&&c(l,"data-model",u)},d(m){m&&N(n),m&&N(l),f=!1,ve(d)}}}function Ji(e,t){let n,r,o,l,a,s,u=t[21].rank+"",f,d,h,g;return{key:e,first:null,c(){n=O("g"),r=O("circle"),s=O("text"),f=R(u),c(r,"r",o=t[21].answer.length/2*0+12),c(r,"fill",l=t[11](t[21].model)),c(r,"stroke","white"),c(r,"class","model-circle svelte-1nna9rx"),c(r,"role","img"),c(r,"data-model",a=t[21].model),c(s,"class","bump-text svelte-1nna9rx"),c(s,"text-anchor","middle"),c(s,"alignment-baseline","middle"),c(s,"color","white"),c(s,"fill","white"),c(n,"transform",d=`translate(${t[3](t[21].qid)}, ${t[5](t[21].rank)})`),c(n,"class","svelte-1nna9rx"),this.first=n},m(m,p){P(m,n,p),_(n,r),_(n,s),_(s,f),h||(g=[Q(r,"mouseover",t[17]),Q(r,"focus",t[18]),Q(r,"mouseout",Tn),Q(r,"blur",Tn)],h=!0)},p(m,p){t=m,p&256&&o!==(o=t[21].answer.length/2*0+12)&&c(r,"r",o),p&2304&&l!==(l=t[11](t[21].model))&&c(r,"fill",l),p&256&&a!==(a=t[21].model)&&c(r,"data-model",a),p&256&&u!==(u=t[21].rank+"")&&X(f,u),p&296&&d!==(d=`translate(${t[3](t[21].qid)}, ${t[5](t[21].rank)})`)&&c(n,"transform",d)},d(m){m&&N(n),h=!1,ve(g)}}}function xc(e){let t,n,r,o,l,a,s,u,f,d,h,g,m,p,b=[],v=new Map,S,k=[],z=new Map,C,E,T,y,x,w=e[9],A=[];for(let D=0;D<w.length;D+=1)A[D]=Yi(Vi(e,w,D));let j=e[5].domain(),q=[];for(let D=0;D<j.length;D+=1)q[D]=Qi(Wi(e,j,D));let B=e[4];const J=D=>D[25];for(let D=0;D<B.length;D+=1){let G=Gi(e,B,D),F=J(G);v.set(F,b[D]=Ui(F,G))}let re=e[8];const le=D=>D[21].model+D[21].qid;for(let D=0;D<re.length;D+=1){let G=Hi(e,re,D),F=le(G);z.set(F,k[D]=Ji(F,G))}return{c(){t=M("div"),n=O("svg"),r=O("line");for(let D=0;D<A.length;D+=1)A[D].c();s=we();for(let D=0;D<q.length;D+=1)q[D].c();u=O("text"),d=O("text"),m=O("text");for(let D=0;D<b.length;D+=1)b[D].c();S=we();for(let D=0;D<k.length;D+=1)k[D].c();C=O("text"),E=R("Per-Question Ranks"),T=O("text"),y=R("Answer ranks over time, by model."),c(r,"class","axis-line svelte-1nna9rx"),c(r,"x1",e[12].left),c(r,"x2",o=e[7]-e[12].right),c(r,"y1",l=e[6]-e[12].bottom),c(r,"y2",a=e[6]-e[12].bottom),c(u,"class","chart-title svelte-1nna9rx"),c(u,"y",e[12].top/2),c(u,"x",f=(e[7]+e[12].left)/2),c(u,"text-anchor","middle"),c(d,"class","axis-label svelte-1nna9rx"),c(d,"y",h=e[6]+e[12].bottom+10),c(d,"x",g=(e[7]+e[12].left)/2),c(d,"text-anchor","middle"),c(m,"class","axis-label svelte-1nna9rx"),c(m,"y",e[12].left/2),c(m,"x",p=-(e[6]/2)),c(m,"text-anchor","middle"),c(m,"transform","rotate(-90)"),c(C,"class","chart-title svelte-1nna9rx"),c(C,"y",e[12].top/2),c(C,"x",e[12].left),c(C,"text-anchor","start"),c(T,"class","chart-subtitle svelte-1nna9rx"),c(T,"y",e[12].top/2+15),c(T,"x",e[12].left),c(T,"opacity",".6"),c(T,"text-anchor","start"),c(n,"width",e[1]),c(n,"height",e[0]),c(n,"class","svelte-1nna9rx"),c(t,"id","chart-holder"),c(t,"class","svelte-1nna9rx"),_e(()=>e[19].call(t))},m(D,G){P(D,t,G),_(t,n),_(n,r);for(let F=0;F<A.length;F+=1)A[F]&&A[F].m(n,null);_(n,s);for(let F=0;F<q.length;F+=1)q[F]&&q[F].m(n,null);_(n,u),_(n,d),_(n,m);for(let F=0;F<b.length;F+=1)b[F]&&b[F].m(n,null);_(n,S);for(let F=0;F<k.length;F+=1)k[F]&&k[F].m(n,null);_(n,C),_(C,E),_(n,T),_(T,y),x=Re(t,e[19].bind(t))},p(D,[G]){if(G&128&&o!==(o=D[7]-D[12].right)&&c(r,"x2",o),G&64&&l!==(l=D[6]-D[12].bottom)&&c(r,"y1",l),G&64&&a!==(a=D[6]-D[12].bottom)&&c(r,"y2",a),G&4680){w=D[9];let F;for(F=0;F<w.length;F+=1){const ce=Vi(D,w,F);A[F]?A[F].p(ce,G):(A[F]=Yi(ce),A[F].c(),A[F].m(n,s))}for(;F<A.length;F+=1)A[F].d(1);A.length=w.length}if(G&4128){j=D[5].domain();let F;for(F=0;F<j.length;F+=1){const ce=Wi(D,j,F);q[F]?q[F].p(ce,G):(q[F]=Qi(ce),q[F].c(),q[F].m(n,u))}for(;F<q.length;F+=1)q[F].d(1);q.length=j.length}G&128&&f!==(f=(D[7]+D[12].left)/2)&&c(u,"x",f),G&64&&h!==(h=D[6]+D[12].bottom+10)&&c(d,"y",h),G&128&&g!==(g=(D[7]+D[12].left)/2)&&c(d,"x",g),G&64&&p!==(p=-(D[6]/2))&&c(m,"x",p),G&11284&&(B=D[4],b=it(b,G,J,1,D,B,v,n,ot,Ui,S,Gi)),G&33564968&&(re=D[8],k=it(k,G,le,1,D,re,z,n,ot,Ji,C,Hi)),G&2&&c(n,"width",D[1]),G&1&&c(n,"height",D[0])},i:W,o:W,d(D){D&&N(t),te(A,D),te(q,D);for(let G=0;G<b.length;G+=1)b[G].d();for(let G=0;G<k.length;G+=1)k[G].d();x()}}}function Tn(){document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(e=>{e.style.opacity=1})}function Sc(e,t,n){let r,o,l,a,s,u,f,d,h,g,m;ee(e,Qt,y=>n(8,m=y));let p,b,v={top:35,bottom:15,left:10,right:0};function S(y){document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(x=>{x.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${r[y]}"], .model-circle[data-model="${r[y]}"]`).forEach(x=>{x.style.opacity=1})}const k=y=>S(y),z=y=>S(y),C=()=>S(i),E=()=>S(i);function T(){b=this.offsetWidth,p=this.offsetHeight,n(1,b),n(0,p)}return e.$$.update=()=>{e.$$.dirty&256&&m.filter(y=>y.qid===3).map(y=>({model:y.model,rank:y.rank})),e.$$.dirty&256&&console.log("firstData",m),e.$$.dirty&256&&n(2,r=Array.from(new Set(m.map(y=>y.model)))),e.$$.dirty&4&&console.log("models",r),e.$$.dirty&2&&n(7,o=b-v.left-v.right),e.$$.dirty&1&&n(6,l=p-v.top-v.bottom),e.$$.dirty&384&&n(3,a=zo().domain(m.map(y=>y.qid)).padding(.3).range([v.left,o-v.right])),e.$$.dirty&256&&n(14,s=m.map(y=>y.rank).sort((y,x)=>y-x)),e.$$.dirty&16448&&n(5,u=zo().domain(s).padding(1).range([v.top,l-v.bottom])),e.$$.dirty&256&&n(11,f=Qe().domain(m.map(y=>y.model)).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F","red"])),e.$$.dirty&40&&n(10,d=df().x(y=>a(y.qid)).y(y=>u(y.rank))),e.$$.dirty&260&&n(4,h=r.map(y=>m.filter(x=>x.model===y))),e.$$.dirty&16&&console.log("md",h),e.$$.dirty&256&&console.log("ranks",m.map(y=>y.rank)),e.$$.dirty&8&&n(9,g=a.domain().length>10?a.domain().filter((y,x)=>x%2===0):a.domain())},[p,b,r,a,h,u,l,o,m,g,d,f,v,S,s,k,z,C,E,T]}class zc extends ue{constructor(t){super(),se(this,t,Sc,xc,ae,{})}}const ud="";function Ki(e,t,n){const r=e.slice();return r[13]=t[n],r[15]=n,r}function Zi(e,t,n){const r=e.slice();return r[16]=t[n],r}function el(e,t,n){const r=e.slice();return r[16]=t[n],r}function tl(e){let t,n,r=e[16]+"",o,l;return{c(){t=O("g"),n=O("text"),o=R(r),c(n,"class","axis-text svelte-1y9gffu"),c(n,"x","-5"),c(n,"y","0"),c(n,"text-anchor","end"),c(t,"transform",l=`translate(${e[9].left} ${e[8](e[16])+e[8].bandwidth()/2})`)},m(a,s){P(a,t,s),_(t,n),_(n,o)},p(a,s){s&4&&r!==(r=a[16]+"")&&X(o,r),s&260&&l!==(l=`translate(${a[9].left} ${a[8](a[16])+a[8].bandwidth()/2})`)&&c(t,"transform",l)},d(a){a&&N(t)}}}function nl(e){let t,n,r=e[16]+"",o,l;return{c(){t=O("g"),n=O("text"),o=R(r),c(n,"class","axis-text svelte-1y9gffu"),c(n,"y","15"),c(n,"text-anchor","middle"),c(t,"transform",l=`translate(${e[7](e[16])}, ${e[4]-e[9].bottom})`)},m(a,s){P(a,t,s),_(t,n),_(n,o)},p(a,s){s&128&&r!==(r=a[16]+"")&&X(o,r),s&144&&l!==(l=`translate(${a[7](a[16])}, ${a[4]-a[9].bottom})`)&&c(t,"transform",l)},d(a){a&&N(t)}}}function rl(e){let t,n=e[16]%2==0&&nl(e);return{c(){n&&n.c(),t=we()},m(r,o){n&&n.m(r,o),P(r,t,o)},p(r,o){r[16]%2==0?n?n.p(r,o):(n=nl(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&N(t)}}}function ol(e){let t,n,r,o,l,a,s,u=e[13].avgRank.toFixed(2)+"",f,d,h;return{c(){t=O("rect"),s=O("text"),f=R(u),c(t,"y",n=e[8](e[13].model)),c(t,"x",e[9].left),c(t,"width",r=e[7](e[13].avgRank)-e[9].left),c(t,"height",o=e[8].bandwidth()),c(t,"fill",l=e[6](e[13].model)),c(t,"class","model-path"),c(t,"data-model",a=e[5][e[15]]),c(s,"class","label-text svelte-1y9gffu"),c(s,"y",d=e[8](e[13].model)+e[8].bandwidth()/2),c(s,"x",h=e[7](e[13].avgRank)+5),c(s,"text-anchor","start"),c(s,"dominant-baseline","middle")},m(g,m){P(g,t,m),P(g,s,m),_(s,f)},p(g,m){m&260&&n!==(n=g[8](g[13].model))&&c(t,"y",n),m&132&&r!==(r=g[7](g[13].avgRank)-g[9].left)&&c(t,"width",r),m&256&&o!==(o=g[8].bandwidth())&&c(t,"height",o),m&68&&l!==(l=g[6](g[13].model))&&c(t,"fill",l),m&32&&a!==(a=g[5][g[15]])&&c(t,"data-model",a),m&4&&u!==(u=g[13].avgRank.toFixed(2)+"")&&X(f,u),m&260&&d!==(d=g[8](g[13].model)+g[8].bandwidth()/2)&&c(s,"y",d),m&132&&h!==(h=g[7](g[13].avgRank)+5)&&c(s,"x",h)},d(g){g&&N(t),g&&N(s)}}}function Ec(e){let t,n,r,o,l,a,s,u,f,d,h,g,m=e[2].map(il),p=[];for(let z=0;z<m.length;z+=1)p[z]=tl(el(e,m,z));let b=e[7].ticks(),v=[];for(let z=0;z<b.length;z+=1)v[z]=rl(Zi(e,b,z));let S=e[2],k=[];for(let z=0;z<S.length;z+=1)k[z]=ol(Ki(e,S,z));return{c(){t=M("div"),n=O("svg");for(let z=0;z<p.length;z+=1)p[z].c();r=we();for(let z=0;z<v.length;z+=1)v[z].c();o=we();for(let z=0;z<k.length;z+=1)k[z].c();l=O("line"),f=O("text"),d=R("Average Rank"),h=O("text"),c(l,"class","axis-line svelte-1y9gffu"),c(l,"x1",e[9].left),c(l,"x2",a=e[3]-e[9].right),c(l,"y1",s=e[4]-e[9].bottom),c(l,"y2",u=e[4]-e[9].bottom),c(f,"class","chart-title"),c(f,"y",e[9].top/2),c(f,"x",e[9].left),c(f,"text-anchor","start"),c(h,"class","chart-subtitle"),c(h,"y",e[9].top/2+15),c(h,"x",e[9].left),c(h,"opacity",".6"),c(h,"text-anchor","start"),c(n,"width",e[1]),c(n,"height",e[0]),c(t,"id","bar-chart-holder"),c(t,"class","svelte-1y9gffu"),_e(()=>e[12].call(t))},m(z,C){P(z,t,C),_(t,n);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(n,null);_(n,r);for(let E=0;E<v.length;E+=1)v[E]&&v[E].m(n,null);_(n,o);for(let E=0;E<k.length;E+=1)k[E]&&k[E].m(n,null);_(n,l),_(n,f),_(f,d),_(n,h),g=Re(t,e[12].bind(t))},p(z,[C]){if(C&772){m=z[2].map(il);let E;for(E=0;E<m.length;E+=1){const T=el(z,m,E);p[E]?p[E].p(T,C):(p[E]=tl(T),p[E].c(),p[E].m(n,r))}for(;E<p.length;E+=1)p[E].d(1);p.length=m.length}if(C&656){b=z[7].ticks();let E;for(E=0;E<b.length;E+=1){const T=Zi(z,b,E);v[E]?v[E].p(T,C):(v[E]=rl(T),v[E].c(),v[E].m(n,o))}for(;E<v.length;E+=1)v[E].d(1);v.length=b.length}if(C&996){S=z[2];let E;for(E=0;E<S.length;E+=1){const T=Ki(z,S,E);k[E]?k[E].p(T,C):(k[E]=ol(T),k[E].c(),k[E].m(n,l))}for(;E<k.length;E+=1)k[E].d(1);k.length=S.length}C&8&&a!==(a=z[3]-z[9].right)&&c(l,"x2",a),C&16&&s!==(s=z[4]-z[9].bottom)&&c(l,"y1",s),C&16&&u!==(u=z[4]-z[9].bottom)&&c(l,"y2",u),C&2&&c(n,"width",z[1]),C&1&&c(n,"height",z[0])},i:W,o:W,d(z){z&&N(t),te(p,z),te(v,z),te(k,z),g()}}}const il=e=>e.model;function Cc(e,t,n){let r,o,l,a,s,u,f,d,h;ee(e,Qt,v=>n(11,h=v));let g=300,m=500,p={top:50,bottom:0,left:100,right:0};function b(){m=this.offsetWidth,g=this.offsetHeight,n(1,m),n(0,g)}return e.$$.update=()=>{e.$$.dirty&2048&&n(10,r=h.reduce((v,S)=>(v[S.model]?(v[S.model].sum+=S.rank,v[S.model].count++):v[S.model]={sum:S.rank,count:1},v),{})),e.$$.dirty&1024&&n(2,o=Object.keys(r).map(v=>({model:v,avgRank:r[v].sum/r[v].count}))),e.$$.dirty&2&&n(3,l=m-p.left-p.right),e.$$.dirty&1&&n(4,a=g-p.top-p.bottom),e.$$.dirty&20&&n(8,s=at().rangeRound([p.top,a-p.bottom]).padding(.05).domain(o.map(v=>v.model))),e.$$.dirty&12&&n(7,u=Ne().rangeRound([p.left,l-p.right]).domain([0,lt(o,v=>v.avgRank)])),e.$$.dirty&4&&n(6,f=Qe().domain(o.map(v=>v.model)).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F"])),e.$$.dirty&2048&&n(5,d=Array.from(new Set(h.map(v=>v.model))))},[g,m,o,l,a,d,f,u,s,p,r,h,b]}class Tc extends ue{constructor(t){super(),se(this,t,Cc,Ec,ae,{})}}const fd="",cd="";function ll(e,t,n){const r=e.slice();return r[20]=t[n],r[22]=n,r}function al(e,t,n){const r=e.slice();return r[23]=t[n],r[25]=n,r}function sl(e,t,n){const r=e.slice();return r[23]=t[n],r}function ul(e){let t,n=e[23].key+"",r,o,l;function a(){return e[10](e[23])}return{c(){t=M("th"),r=R(n),c(t,"class","svelte-owgjbp")},m(s,u){P(s,t,u),_(t,r),o||(l=Q(t,"click",a),o=!0)},p(s,u){e=s,u&64&&n!==(n=e[23].key+"")&&X(r,n)},d(s){s&&N(t),o=!1,l()}}}function fl(e,t){let n,r=(t[20][t[23].key].length>dl&&t[4]!==`${t[22]}-${t[25]}`?`${t[20][t[23].key].substring(0,40)}...`:t[20][t[23].key])+"",o,l,a,s;function u(){return t[11](t[22],t[25])}return{key:e,first:null,c(){n=M("td"),o=R(r),c(n,"class",l="cell-type-"+t[23].type+" svelte-owgjbp"),de(n,"background",t[23].key==="change"?t[7](t[20][t[23].key]):"none"),jr(n,"active",t[4]===`${t[22]}-${t[25]}`),this.first=n},m(f,d){P(f,n,d),_(n,o),a||(s=Q(n,"click",u),a=!0)},p(f,d){t=f,d&112&&r!==(r=(t[20][t[23].key].length>dl&&t[4]!==`${t[22]}-${t[25]}`?`${t[20][t[23].key].substring(0,40)}...`:t[20][t[23].key])+"")&&X(o,r),d&64&&l!==(l="cell-type-"+t[23].type+" svelte-owgjbp")&&c(n,"class",l),d&96&&de(n,"background",t[23].key==="change"?t[7](t[20][t[23].key]):"none"),d&80&&jr(n,"active",t[4]===`${t[22]}-${t[25]}`)},d(f){f&&N(n),a=!1,s()}}}function cl(e){let t,n=[],r=new Map,o,l=e[6];const a=s=>s[23].key;for(let s=0;s<l.length;s+=1){let u=al(e,l,s),f=a(u);r.set(f,n[s]=fl(f,u))}return{c(){t=M("tr");for(let s=0;s<n.length;s+=1)n[s].c();o=I(),c(t,"class","svelte-owgjbp")},m(s,u){P(s,t,u);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null);_(t,o)},p(s,u){u&240&&(l=s[6],n=it(n,u,a,1,s,l,r,t,ot,fl,o,al))},d(s){s&&N(t);for(let u=0;u<n.length;u+=1)n[u].d()}}}function Ac(e){let t,n,r,o,l,a,s,u,f,d=e[6],h=[];for(let p=0;p<d.length;p+=1)h[p]=ul(sl(e,d,p));let g=e[5],m=[];for(let p=0;p<g.length;p+=1)m[p]=cl(ll(e,g,p));return{c(){t=M("div"),n=M("div"),r=M("table"),o=M("thead");for(let p=0;p<h.length;p+=1)h[p].c();l=I(),a=M("tbody");for(let p=0;p<m.length;p+=1)m[p].c();u=I(),f=M("br"),c(o,"class","svelte-owgjbp"),c(a,"class","svelte-owgjbp"),c(r,"class",s="pretty-table "+e[0].style+" svelte-owgjbp"),c(n,"class","svelte-owgjbp"),c(f,"class","svelte-owgjbp"),c(t,"class","table svelte-owgjbp")},m(p,b){P(p,t,b),_(t,n),_(n,r),_(r,o);for(let v=0;v<h.length;v+=1)h[v]&&h[v].m(o,null);_(r,l),_(r,a);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(a,null);_(t,u),_(t,f)},p(p,[b]){if(b&78){d=p[6];let v;for(v=0;v<d.length;v+=1){const S=sl(p,d,v);h[v]?h[v].p(S,b):(h[v]=ul(S),h[v].c(),h[v].m(o,null))}for(;v<h.length;v+=1)h[v].d(1);h.length=d.length}if(b&240){g=p[5];let v;for(v=0;v<g.length;v+=1){const S=ll(p,g,v);m[v]?m[v].p(S,b):(m[v]=cl(S),m[v].c(),m[v].m(a,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=g.length}b&1&&s!==(s="pretty-table "+p[0].style+" svelte-owgjbp")&&c(r,"class",s)},i:W,o:W,d(p){p&&N(t),te(h,p),te(m,p)}}}let dl=25,Mc=0;function jc(e,t,n){let r,o,l,a;ee(e,Qt,C=>n(9,a=C));let s={};const u=He(".2f");function f(C){let E=C.reduce((y,x)=>(y[x.model]||(y[x.model]=[]),y[x.model].push(x.rank),y),{});return Object.entries(E).map(([y,x])=>{let w=x.reduce((j,q)=>(j[q]=(j[q]||0)+1,j),{}),A=Object.entries(w).reduce((j,q)=>q[1]>j[1]?q:j)[0];return{model:y,overall_rank:Number(A),average_rank:u(fu(x)),standard_deviation_rank:u(Us(x))}})}s={...{columns:{},style:"normal",paged:25},...s};const h=Ne().domain([-1,0,1]).range(["#FF5470","#f8f8f8","#00ebc7"]);let{sortable:g,index:m,paged:p}=s,b,v=!0;if(g&&m)throw new Error("A table can either be ranked or sortable, but not both");m=1,g=1;let S=null;const k=C=>{g&&(b===C.key&&n(2,v=!v),n(1,b=C.key))},z=(C,E)=>{n(4,S=S===`${C}-${E}`?null:`${C}-${E}`)};return e.$$.update=()=>{if(e.$$.dirty&512,e.$$.dirty&512&&n(8,r=f(a)),e.$$.dirty&774){b&&n(8,r=r.slice().sort((E,T)=>{let y=E[b],x=T[b];if(y==x)return JSON.stringify(E).localeCompare(JSON.stringify(T));let w=y>x?1:y<x?-1:0;return v&&(w=-w),w}));let C=Mc*p;n(5,l=r.slice(C,C+(p||r.length))),p&&Math.ceil(a.length/p)}e.$$.dirty&257&&n(6,o=Object.keys(r[0]).map(C=>{const E=s.columns[C]||{};return{key:C,type:E.type||typeof r[0][C],options:E}}))},n(5,l=[]),[s,b,v,g,S,l,o,h,r,a,k,z]}class Dc extends ue{constructor(t){super(),se(this,t,jc,Ac,ae,{})}}const dd="";function hl(e,t,n){const r=e.slice();return r[19]=t[n],r}function pl(e,t,n){const r=e.slice();return r[22]=t[n],r}function gl(e,t,n){const r=e.slice();return r[25]=t[n],r[27]=n,r}function ml(e){let t,n=e[25]+"",r,o,l,a=e[25]+"",s,u;return{c(){t=O("text"),r=R(n),l=O("text"),s=R(a),c(t,"class","axis-text svelte-t6wv8i"),c(t,"x",o=e[7].left+e[5](e[25])+e[5].bandwidth()/2),c(t,"y",e[7].top-10),c(t,"text-anchor","middle"),c(l,"class","axis-text svelte-t6wv8i"),c(l,"x",e[7].left-10),c(l,"y",u=e[7].top+e[4](e[25])+e[4].bandwidth()/2),c(l,"text-anchor","end"),c(l,"dominant-baseline","middle")},m(f,d){P(f,t,d),_(t,r),P(f,l,d),_(l,s)},p(f,d){d&8&&n!==(n=f[25]+"")&&X(r,n),d&40&&o!==(o=f[7].left+f[5](f[25])+f[5].bandwidth()/2)&&c(t,"x",o),d&8&&a!==(a=f[25]+"")&&X(s,a),d&24&&u!==(u=f[7].top+f[4](f[25])+f[4].bandwidth()/2)&&c(l,"y",u)},d(f){f&&N(t),f&&N(l)}}}function vl(e){let t,n,r,o,l,a,s,u,f=e[6](e[2][e[19]][e[22]])+"",d,h,g,m;return{c(){t=O("rect"),u=O("text"),d=R(f),c(t,"x",n=e[7].left+e[5](e[22])),c(t,"y",r=e[7].top+e[4](e[19])),c(t,"width",o=e[5].bandwidth()),c(t,"height",l=e[4].bandwidth()),c(t,"fill",a=e[8](e[19],e[22])),c(t,"rx","4"),c(t,"ry","4"),c(t,"class","model-path"),c(t,"data-model",s=e[19]),c(u,"x",h=e[7].left+e[5](e[22])+e[5].bandwidth()/2),c(u,"y",g=e[7].top+e[4](e[19])+e[4].bandwidth()/2),c(u,"text-anchor","middle"),c(u,"dominant-baseline","middle"),c(u,"class","model-path"),c(u,"data-model",m=e[19])},m(p,b){P(p,t,b),P(p,u,b),_(u,d)},p(p,b){b&40&&n!==(n=p[7].left+p[5](p[22]))&&c(t,"x",n),b&24&&r!==(r=p[7].top+p[4](p[19]))&&c(t,"y",r),b&32&&o!==(o=p[5].bandwidth())&&c(t,"width",o),b&16&&l!==(l=p[4].bandwidth())&&c(t,"height",l),b&8&&a!==(a=p[8](p[19],p[22]))&&c(t,"fill",a),b&8&&s!==(s=p[19])&&c(t,"data-model",s),b&12&&f!==(f=p[6](p[2][p[19]][p[22]])+"")&&X(d,f),b&40&&h!==(h=p[7].left+p[5](p[22])+p[5].bandwidth()/2)&&c(u,"x",h),b&24&&g!==(g=p[7].top+p[4](p[19])+p[4].bandwidth()/2)&&c(u,"y",g),b&8&&m!==(m=p[19])&&c(u,"data-model",m)},d(p){p&&N(t),p&&N(u)}}}function bl(e){let t,n=e[3],r=[];for(let o=0;o<n.length;o+=1)r[o]=vl(pl(e,n,o));return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=we()},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);P(o,t,l)},p(o,l){if(l&508){n=o[3];let a;for(a=0;a<n.length;a+=1){const s=pl(o,n,a);r[a]?r[a].p(s,l):(r[a]=vl(s),r[a].c(),r[a].m(t.parentNode,t))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(o){te(r,o),o&&N(t)}}}function $c(e){let t,n,r,o,l,a,s,u=e[3],f=[];for(let g=0;g<u.length;g+=1)f[g]=ml(gl(e,u,g));let d=e[3],h=[];for(let g=0;g<d.length;g+=1)h[g]=bl(hl(e,d,g));return{c(){t=M("div"),n=O("svg");for(let g=0;g<f.length;g+=1)f[g].c();r=we();for(let g=0;g<h.length;g+=1)h[g].c();o=O("text"),l=R("Relative Performance"),a=O("text"),c(o,"class","chart-title"),c(o,"y",e[7].top/2),c(o,"x",e[7].left),c(o,"text-anchor","start"),c(a,"class","chart-subtitle svelte-t6wv8i"),c(a,"y",e[7].top/2+15),c(a,"x",e[7].left),c(a,"opacity",".6"),c(a,"text-anchor","start"),c(n,"width",e[1]),c(n,"height",e[0]),c(t,"id","heatmap-holder"),c(t,"class","svelte-t6wv8i"),_e(()=>e[16].call(t))},m(g,m){P(g,t,m),_(t,n);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(n,null);_(n,r);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(n,null);_(n,o),_(o,l),_(n,a),s=Re(t,e[16].bind(t))},p(g,[m]){if(m&184){u=g[3];let p;for(p=0;p<u.length;p+=1){const b=gl(g,u,p);f[p]?f[p].p(b,m):(f[p]=ml(b),f[p].c(),f[p].m(n,r))}for(;p<f.length;p+=1)f[p].d(1);f.length=u.length}if(m&508){d=g[3];let p;for(p=0;p<d.length;p+=1){const b=hl(g,d,p);h[p]?h[p].p(b,m):(h[p]=bl(b),h[p].c(),h[p].m(n,o))}for(;p<h.length;p+=1)h[p].d(1);h.length=d.length}m&2&&c(n,"width",g[1]),m&1&&c(n,"height",g[0])},i:W,o:W,d(g){g&&N(t),te(f,g),te(h,g),s()}}}function qc(e,t,n){let r,o,l,a,s,u,f,d,h,g,m;ee(e,Qt,E=>n(15,m=E));const p=He(".1f");function b(E){let T=E.reduce((w,A)=>(w[A.qid]||(w[A.qid]=[]),w[A.qid].push(A),w),{}),y=Array.from(new Set(E.map(w=>w.model))),x=y.reduce((w,A)=>(w[A]=y.reduce((j,q)=>(j[q]={sum:0,count:0},j),{}),w),{});for(let w in T){let A=T[w];for(let j of y)for(let q of y){let B=A.find(re=>re.model===j),J=A.find(re=>re.model===q);B&&J&&(x[j][q].sum+=J.rank-B.rank,x[j][q].count++)}}for(let w in x)for(let A in x[w])x[w][A].count>0?x[w][A]=x[w][A].sum/x[w][A].count:x[w][A]=0;return x}let v=500,S=500,k={top:50,bottom:0,left:65,right:25};function z(E,T){let y=r[E][T];return y===0?"white":y>=0?g(E):g(T)}function C(){S=this.offsetWidth,v=this.offsetHeight,n(1,S),n(0,v)}return e.$$.update=()=>{e.$$.dirty&32768&&n(2,r=b(m)),e.$$.dirty&32768&&n(3,o=Array.from(new Set(m.map(E=>E.model)))),e.$$.dirty&2&&n(14,l=S-k.left-k.right),e.$$.dirty&1&&n(13,a=v-k.top-k.bottom),e.$$.dirty&16392&&n(5,s=at().range([0,l]).domain(o).padding(.05)),e.$$.dirty&8200&&n(4,u=at().range([0,a]).domain(o).padding(.05)),e.$$.dirty&4&&n(12,f=Object.values(r).flatMap(E=>Object.values(E))),e.$$.dirty&4096&&n(11,d=uu(f)),e.$$.dirty&4096&&n(10,h=lt(f)),e.$$.dirty&8&&n(9,g=Qe().domain(o).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F"])),e.$$.dirty&3592&&o.reduce((E,T)=>(E[T]=Ro().domain([d,h]).interpolator(Jn("white",g(T))),E),{})},[v,S,r,o,u,s,p,k,z,g,h,d,f,a,l,m,C]}class Nc extends ue{constructor(t){super(),se(this,t,qc,$c,ae,{})}}const hd="";function _l(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function Oc(e){let t;return{c(){t=M("div"),t.innerHTML="<h5>To view the comparison dashboard, you must first rank some comparisons!</h5>",c(t,"class","holder svelte-1gze3r0")},m(n,r){P(n,t,r)},p:W,i:W,o:W,d(n){n&&N(t)}}}function Pc(e){let t,n,r,o,l,a,s,u,f,d,h,g,m,p,b,v,S,k,z,C,E,T=e[1],y=[];for(let x=0;x<T.length;x+=1)y[x]=yl(_l(e,T,x));return u=new zc({}),h=new Dc({}),S=new Tc({}),C=new Nc({}),{c(){t=M("div"),n=M("div"),r=M("div"),o=M("h4"),o.textContent="Model Comparisons",l=I();for(let x=0;x<y.length;x+=1)y[x].c();a=I(),s=M("div"),me(u.$$.fragment),f=I(),d=M("div"),me(h.$$.fragment),g=I(),m=M("div"),p=M("div"),b=I(),v=M("div"),me(S.$$.fragment),k=I(),z=M("div"),me(C.$$.fragment),c(o,"class","svelte-1gze3r0"),c(r,"class","chart-captions svelte-1gze3r0"),c(s,"class","eval-main"),c(d,"class","eval-table svelte-1gze3r0"),c(n,"class","left-charts svelte-1gze3r0"),c(p,"class","right-chart-1 svelte-1gze3r0"),c(v,"class","right-chart-2 svelte-1gze3r0"),c(z,"class","right-chart-3 svelte-1gze3r0"),c(m,"class","right-charts svelte-1gze3r0"),c(t,"class","eval-container svelte-1gze3r0")},m(x,w){P(x,t,w),_(t,n),_(n,r),_(r,o),_(r,l);for(let A=0;A<y.length;A+=1)y[A]&&y[A].m(r,null);_(n,a),_(n,s),he(u,s,null),_(n,f),_(n,d),he(h,d,null),_(t,g),_(t,m),_(m,p),_(m,b),_(m,v),he(S,v,null),_(m,k),_(m,z),he(C,z,null),E=!0},p(x,w){if(w&14){T=x[1];let A;for(A=0;A<T.length;A+=1){const j=_l(x,T,A);y[A]?y[A].p(j,w):(y[A]=yl(j),y[A].c(),y[A].m(r,null))}for(;A<y.length;A+=1)y[A].d(1);y.length=T.length}},i(x){E||(Y(u.$$.fragment,x),Y(h.$$.fragment,x),Y(S.$$.fragment,x),Y(C.$$.fragment,x),E=!0)},o(x){Z(u.$$.fragment,x),Z(h.$$.fragment,x),Z(S.$$.fragment,x),Z(C.$$.fragment,x),E=!1},d(x){x&&N(t),te(y,x),pe(u),pe(h),pe(S),pe(C)}}}function yl(e){let t,n=e[8]+"",r,o,l,a;function s(){return e[4](e[10])}function u(){return e[5](e[10])}return{c(){t=M("button"),r=R(n),c(t,"data-model",o=e[8]),c(t,"class","model-path svelte-1gze3r0"),de(t,"color","white"),de(t,"background",e[2](e[8]))},m(f,d){P(f,t,d),_(t,r),l||(a=[Q(t,"mouseover",s),Q(t,"focus",u),Q(t,"mouseout",wl),Q(t,"blur",wl)],l=!0)},p(f,d){e=f,d&2&&n!==(n=e[8]+"")&&X(r,n),d&2&&o!==(o=e[8])&&c(t,"data-model",o),d&6&&de(t,"background",e[2](e[8]))},d(f){f&&N(t),l=!1,ve(a)}}}function Fc(e){let t,n,r,o,l,a;const s=[Pc,Oc],u=[];function f(d,h){return d[0].length>0?0:1}return o=f(e),l=u[o]=s[o](e),{c(){t=M("div"),n=M("div"),n.innerHTML=`<h5 class="underline bold svelte-1gze3r0">Comparisons</h5> 
    <p class="svelte-1gze3r0">This panes represents the training performance of your model.</p> 
    <button class="svelte-1gze3r0">Download Data</button>`,r=I(),l.c(),c(n,"class","instructions svelte-1gze3r0"),c(t,"class","main-container svelte-1gze3r0")},m(d,h){P(d,t,h),_(t,n),_(t,r),u[o].m(t,null),a=!0},p(d,[h]){let g=o;o=f(d),o===g?u[o].p(d,h):(nt(),Z(u[g],1,1,()=>{u[g]=null}),rt(),l=u[o],l?l.p(d,h):(l=u[o]=s[o](d),l.c()),Y(l,1),l.m(t,null))},i(d){a||(Y(l),a=!0)},o(d){Z(l),a=!1},d(d){d&&N(t),u[o].d()}}}function wl(){document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(e=>{e.style.opacity=1})}function Ic(e,t,n){let r,o,l;ee(e,Qt,f=>n(0,l=f)),mt(()=>{});function a(f){document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(d=>{d.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${r[f]}"], .model-circle[data-model="${r[f]}"]`).forEach(d=>{d.style.opacity=1})}const s=f=>a(f),u=f=>a(f);return e.$$.update=()=>{e.$$.dirty&1&&n(1,r=Array.from(new Set(l.map(f=>f.model)))),e.$$.dirty&1&&n(2,o=Qe().domain(l.map(f=>f.model)).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F","red"]))},[l,r,o,a,s,u]}class Rc extends ue{constructor(t){super(),se(this,t,Ic,Fc,ae,{})}}const pd="";function kl(e,t,n){const r=e.slice();return r[7]=t[n],r}function xl(e){let t,n=e[0],r=[];for(let o=0;o<n.length;o+=1)r[o]=Sl(kl(e,n,o));return{c(){for(let o=0;o<r.length;o+=1)r[o].c();t=we()},m(o,l){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,l);P(o,t,l)},p(o,l){if(l&33){n=o[0];let a;for(a=0;a<n.length;a+=1){const s=kl(o,n,a);r[a]?r[a].p(s,l):(r[a]=Sl(s),r[a].c(),r[a].m(t.parentNode,t))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(o){te(r,o),o&&N(t)}}}function Sl(e){let t,n=e[7].svelte_component+"",r,o,l,a;function s(){return e[6](e[7])}return{c(){t=M("button"),r=R(n),c(t,"aria-label",o=`Load ${e[7].svelte_component} component`)},m(u,f){P(u,t,f),_(t,r),l||(a=Q(t,"click",s),l=!0)},p(u,f){e=u,f&1&&n!==(n=e[7].svelte_component+"")&&X(r,n),f&1&&o!==(o=`Load ${e[7].svelte_component} component`)&&c(t,"aria-label",o)},d(u){u&&N(t),l=!1,a()}}}function zl(e){let t,n,r;const o=[e[1].props];var l=e[4][e[1].svelte_component];function a(s){let u={};for(let f=0;f<o.length;f+=1)u=An(u,o[f]);return{props:u}}return l&&(t=Dr(l,a())),{c(){t&&me(t.$$.fragment),n=we()},m(s,u){t&&he(t,s,u),P(s,n,u),r=!0},p(s,u){const f=u&2?Gl(o,[Wl(s[1].props)]):{};if(u&2&&l!==(l=s[4][s[1].svelte_component])){if(t){nt();const d=t;Z(d.$$.fragment,1,0,()=>{pe(d,1)}),rt()}l?(t=Dr(l,a()),me(t.$$.fragment),Y(t.$$.fragment,1),he(t,n.parentNode,n)):t=null}else l&&t.$set(f)},i(s){r||(t&&Y(t.$$.fragment,s),r=!0)},o(s){t&&Z(t.$$.fragment,s),r=!1},d(s){s&&N(n),t&&pe(t,s)}}}function Bc(e){let t,n,r,o,l=e[0].length>1&&xl(e),a=e[1]&&zl(e);return r=new Rc({}),{c(){l&&l.c(),t=I(),a&&a.c(),n=I(),me(r.$$.fragment)},m(s,u){l&&l.m(s,u),P(s,t,u),a&&a.m(s,u),P(s,n,u),he(r,s,u),o=!0},p(s,[u]){s[0].length>1?l?l.p(s,u):(l=xl(s),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),s[1]?a?(a.p(s,u),u&2&&Y(a,1)):(a=zl(s),a.c(),Y(a,1),a.m(n.parentNode,n)):a&&(nt(),Z(a,1,1,()=>{a=null}),rt())},i(s){o||(Y(a),Y(r.$$.fragment,s),o=!0)},o(s){Z(a),Z(r.$$.fragment,s),o=!1},d(s){l&&l.d(s),s&&N(t),a&&a.d(s),s&&N(n),pe(r,s)}}}function Lc(e,t,n){let r,o;const l=Le([]);ee(e,l,d=>n(0,r=d));const a=Le(null);ee(e,a,d=>n(1,o=d));const s={Chatbot:Rs,Dropdown:Hs,Feedback:Vf,Compare:kc},u=d=>{a.set(d)};return fetch("/components").then(d=>{if(!d.ok)throw new Error(`HTTP error! status: ${d.status}`);return d.json()}).then(d=>{l.set(d),a.set(d[0])}).catch(d=>{console.log("Fetch request failed",d)}),[r,o,l,a,s,u,d=>u(d)]}class Hc extends ue{constructor(t){super(),se(this,t,Lc,Bc,ae,{})}}new Hc({target:document.getElementById("app")})})();
