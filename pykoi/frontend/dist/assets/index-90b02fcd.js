(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function V(){}const Bi=e=>e;function Xn(e,t){for(const n in t)e[n]=t[n];return e}function fi(e){return e()}function Yn(){return Object.create(null)}function Se(e){e.forEach(fi)}function nn(e){return typeof e=="function"}function xe(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Xi(e){return Object.keys(e).length===0}function Yi(e,...t){if(e==null)return V;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Le(e,t,n){e.$$.on_destroy.push(Yi(t,n))}function ui(e,t,n){return e.set(n),t}function Wi(e){return e&&nn(e.destroy)?e.destroy:V}const ci=typeof window<"u";let Gi=ci?()=>window.performance.now():()=>Date.now(),di=ci?e=>requestAnimationFrame(e):V;const tt=new Set;function hi(e){tt.forEach(t=>{t.c(e)||(tt.delete(t),t.f())}),tt.size!==0&&di(hi)}function Qi(e){let t;return tt.size===0&&di(hi),{promise:new Promise(n=>{tt.add(t={c:e,f:n})}),abort(){tt.delete(t)}}}function S(e,t){e.appendChild(t)}function H(e,t,n){e.insertBefore(t,n||null)}function j(e){e.parentNode&&e.parentNode.removeChild(e)}function he(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function P(e){return document.createElement(e)}function z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e){return document.createTextNode(e)}function Z(){return Y(" ")}function ke(){return Y("")}function ie(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ui(e){return Array.from(e.childNodes)}function oe(e,t){t=""+t,e.data!==t&&(e.data=t)}function Wn(e,t){e.value=t??""}function Me(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}let Nt;function Vi(){if(Nt===void 0){Nt=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Nt=!0}}return Nt}function In(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=P("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=Vi();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=ie(window,"message",l=>{l.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{o=ie(r.contentWindow,"resize",t),t()}),S(e,r),()=>{(i||o&&r.contentWindow)&&o(),j(r)}}function Gn(e,t,n){e.classList[n?"add":"remove"](t)}let vt;function dt(e){vt=e}function Zi(){if(!vt)throw new Error("Function called outside component initialization");return vt}function pi(e){Zi().$$.on_mount.push(e)}const Ze=[],yn=[];let nt=[];const Qn=[],Ji=Promise.resolve();let wn=!1;function Ki(){wn||(wn=!0,Ji.then(mi))}function ot(e){nt.push(e)}const an=new Set;let We=0;function mi(){if(We!==0)return;const e=vt;do{try{for(;We<Ze.length;){const t=Ze[We];We++,dt(t),eo(t.$$)}}catch(t){throw Ze.length=0,We=0,t}for(dt(null),Ze.length=0,We=0;yn.length;)yn.pop()();for(let t=0;t<nt.length;t+=1){const n=nt[t];an.has(n)||(an.add(n),n())}nt.length=0}while(Ze.length);for(;Qn.length;)Qn.pop()();wn=!1,an.clear(),dt(e)}function eo(e){if(e.fragment!==null){e.update(),Se(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ot)}}function to(e){const t=[],n=[];nt.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),nt=t}const Ft=new Set;let qe;function no(){qe={r:0,c:[],p:qe}}function ro(){qe.r||Se(qe.c),qe=qe.p}function _e(e,t){e&&e.i&&(Ft.delete(e),e.i(t))}function Ae(e,t,n,r){if(e&&e.o){if(Ft.has(e))return;Ft.add(e),qe.c.push(()=>{Ft.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function bt(e,t){e.d(1),t.delete(e.key)}function yt(e,t,n,r,i,o,l,a,s,f,p,u){let h=e.length,m=o.length,c=h;const v={};for(;c--;)v[e[c].key]=c;const g=[],T=new Map,M=new Map,k=[];for(c=m;c--;){const E=u(i,o,c),D=n(E);let $=l.get(D);$?r&&k.push(()=>$.p(E,t)):($=f(D,E),$.c()),T.set(D,g[c]=$),D in v&&M.set(D,Math.abs(c-v[D]))}const y=new Set,_=new Set;function w(E){_e(E,1),E.m(a,p),l.set(E.key,E),p=E.first,m--}for(;h&&m;){const E=g[m-1],D=e[h-1],$=E.key,O=D.key;E===D?(p=E.first,h--,m--):T.has(O)?!l.has($)||y.has($)?w(E):_.has(O)?h--:M.get($)>M.get(O)?(_.add($),w(E)):(y.add(O),h--):(s(D,l),h--)}for(;h--;){const E=e[h];T.has(E.key)||s(E,l)}for(;m;)w(g[m-1]);return Se(k),g}function Ke(e){e&&e.c()}function Fe(e,t,n,r){const{fragment:i,after_update:o}=e.$$;i&&i.m(t,n),r||ot(()=>{const l=e.$$.on_mount.map(fi).filter(nn);e.$$.on_destroy?e.$$.on_destroy.push(...l):Se(l),e.$$.on_mount=[]}),o.forEach(ot)}function je(e,t){const n=e.$$;n.fragment!==null&&(to(n.after_update),Se(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function io(e,t){e.$$.dirty[0]===-1&&(Ze.push(e),Ki(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Be(e,t,n,r,i,o,l,a=[-1]){const s=vt;dt(e);const f=e.$$={fragment:null,ctx:[],props:o,update:V,not_equal:i,bound:Yn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:Yn(),dirty:a,skip_bound:!1,root:t.target||s.$$.root};l&&l(f.root);let p=!1;if(f.ctx=n?n(e,t.props||{},(u,h,...m)=>{const c=m.length?m[0]:h;return f.ctx&&i(f.ctx[u],f.ctx[u]=c)&&(!f.skip_bound&&f.bound[u]&&f.bound[u](c),p&&io(e,u)),h}):[],f.update(),p=!0,Se(f.before_update),f.fragment=r?r(f.ctx):!1,t.target){if(t.hydrate){const u=Ui(t.target);f.fragment&&f.fragment.l(u),u.forEach(j)}else f.fragment&&f.fragment.c();t.intro&&_e(e.$$.fragment),Fe(e,t.target,t.anchor,t.customElement),mi()}dt(s)}class Xe{$destroy(){je(this,1),this.$destroy=V}$on(t,n){if(!nn(n))return V;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Xi(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ge=[];function wt(e,t=V){let n;const r=new Set;function i(a){if(xe(e,a)&&(e=a,n)){const s=!Ge.length;for(const f of r)f[1](),Ge.push(f,e);if(s){for(let f=0;f<Ge.length;f+=2)Ge[f][0](Ge[f+1]);Ge.length=0}}}function o(a){i(a(e))}function l(a,s=V){const f=[a,s];return r.add(f),r.size===1&&(n=t(i)||V),a(e),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:l}}function Un(e){return Object.prototype.toString.call(e)==="[object Date]"}function kn(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((i,o)=>kn(e[o],i));return i=>r.map(o=>o(i))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Un(e)&&Un(t)){e=e.getTime(),t=t.getTime();const o=t-e;return l=>new Date(e+l*o)}const r=Object.keys(t),i={};return r.forEach(o=>{i[o]=kn(e[o],t[o])}),o=>{const l={};return r.forEach(a=>{l[a]=i[a](o)}),l}}if(n==="number"){const r=t-e;return i=>e+i*r}throw new Error(`Cannot interpolate ${n} values`)}function oo(e,t={}){const n=wt(e);let r,i=e;function o(l,a){if(e==null)return n.set(e=l),Promise.resolve();i=l;let s=r,f=!1,{delay:p=0,duration:u=400,easing:h=Bi,interpolate:m=kn}=Xn(Xn({},t),a);if(u===0)return s&&(s.abort(),s=null),n.set(e=i),Promise.resolve();const c=Gi()+p;let v;return r=Qi(g=>{if(g<c)return!0;f||(v=m(e,l),typeof u=="function"&&(u=u(e,l)),f=!0),s&&(s.abort(),s=null);const T=g-c;return T>u?(n.set(e=l),!1):(n.set(e=v(h(T/u))),!0)}),r.promise}return{set:o,update:(l,a)=>o(l(i,e),a),subscribe:n.subscribe}}const sn=wt([]),lo=["Who","What","How","Why","Where","Does","Can","N/A"];oo(lo.map(e=>({question:e,count:0})));/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vn(Object(n),!0).forEach(function(r){ao(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jt=function(t){return typeof t}:jt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}function ao(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(){return Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function so(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function fo(e,t){if(e==null)return{};var n=so(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var uo="1.15.0";function we(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var De=we(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Mt=we(/Edge/i),Zn=we(/firefox/i),ht=we(/safari/i)&&!we(/chrome/i)&&!we(/android/i),gi=we(/iP(ad|od|hone)/i),_i=we(/chrome/i)&&we(/android/i),vi={capture:!1,passive:!1};function X(e,t,n){e.addEventListener(t,n,!De&&vi)}function L(e,t,n){e.removeEventListener(t,n,!De&&vi)}function Yt(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function co(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ge(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Yt(e,t):Yt(e,t))||r&&e===n)return e;if(e===n)break}while(e=co(e))}return null}var Jn=/\s+/g;function fe(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Jn," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Jn," ")}}function R(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function rt(e,t){var n="";if(typeof e=="string")n=e;else do{var r=R(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function bi(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function ve(){var e=document.scrollingElement;return e||document.documentElement}function K(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var o,l,a,s,f,p,u;if(e!==window&&e.parentNode&&e!==ve()?(o=e.getBoundingClientRect(),l=o.top,a=o.left,s=o.bottom,f=o.right,p=o.height,u=o.width):(l=0,a=0,s=window.innerHeight,f=window.innerWidth,p=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!De))do if(i&&i.getBoundingClientRect&&(R(i,"transform")!=="none"||n&&R(i,"position")!=="static")){var h=i.getBoundingClientRect();l-=h.top+parseInt(R(i,"border-top-width")),a-=h.left+parseInt(R(i,"border-left-width")),s=l+o.height,f=a+o.width;break}while(i=i.parentNode);if(r&&e!==window){var m=rt(i||e),c=m&&m.a,v=m&&m.d;m&&(l/=v,a/=c,u/=c,p/=v,s=l+p,f=a+u)}return{top:l,left:a,bottom:s,right:f,width:u,height:p}}}function Kn(e,t,n){for(var r=Ne(e,!0),i=K(e)[t];r;){var o=K(r)[n],l=void 0;if(n==="top"||n==="left"?l=i>=o:l=i<=o,!l)return r;if(r===ve())break;r=Ne(r,!1)}return!1}function lt(e,t,n,r){for(var i=0,o=0,l=e.children;o<l.length;){if(l[o].style.display!=="none"&&l[o]!==I.ghost&&(r||l[o]!==I.dragged)&&ge(l[o],n.draggable,e,!1)){if(i===t)return l[o];i++}o++}return null}function Pn(e,t){for(var n=e.lastElementChild;n&&(n===I.ghost||R(n,"display")==="none"||t&&!Yt(n,t));)n=n.previousElementSibling;return n||null}function de(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==I.clone&&(!t||Yt(e,t))&&n++;return n}function er(e){var t=0,n=0,r=ve();if(e)do{var i=rt(e),o=i.a,l=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*l}while(e!==r&&(e=e.parentNode));return[t,n]}function ho(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function Ne(e,t){if(!e||!e.getBoundingClientRect)return ve();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=R(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ve();if(r||t)return n;r=!0}}while(n=n.parentNode);return ve()}function po(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function fn(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var pt;function yi(e,t){return function(){if(!pt){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),pt=setTimeout(function(){pt=void 0},t)}}}function mo(){clearTimeout(pt),pt=void 0}function wi(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ki(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var ce="Sortable"+new Date().getTime();function go(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(R(i,"display")==="none"||i===I.ghost)){e.push({target:i,rect:K(i)});var o=ye({},e[e.length-1].rect);if(i.thisAnimationDuration){var l=rt(i,!0);l&&(o.top-=l.f,o.left-=l.e)}i.fromRect=o}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(ho(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var o=!1,l=0;e.forEach(function(a){var s=0,f=a.target,p=f.fromRect,u=K(f),h=f.prevFromRect,m=f.prevToRect,c=a.rect,v=rt(f,!0);v&&(u.top-=v.f,u.left-=v.e),f.toRect=u,f.thisAnimationDuration&&fn(h,u)&&!fn(p,u)&&(c.top-u.top)/(c.left-u.left)===(p.top-u.top)/(p.left-u.left)&&(s=vo(c,h,m,i.options)),fn(u,p)||(f.prevFromRect=p,f.prevToRect=u,s||(s=i.options.animation),i.animate(f,c,u,s)),s&&(o=!0,l=Math.max(l,s),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},s),f.thisAnimationDuration=s)}),clearTimeout(t),o?t=setTimeout(function(){typeof r=="function"&&r()},l):typeof r=="function"&&r(),e=[]},animate:function(r,i,o,l){if(l){R(r,"transition",""),R(r,"transform","");var a=rt(this.el),s=a&&a.a,f=a&&a.d,p=(i.left-o.left)/(s||1),u=(i.top-o.top)/(f||1);r.animatingX=!!p,r.animatingY=!!u,R(r,"transform","translate3d("+p+"px,"+u+"px,0)"),this.forRepaintDummy=_o(r),R(r,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),R(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){R(r,"transition",""),R(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},l)}}}}function _o(e){return e.offsetWidth}function vo(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Qe=[],un={initializeByDefault:!0},$t={mount:function(t){for(var n in un)un.hasOwnProperty(n)&&!(n in t)&&(t[n]=un[n]);Qe.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Qe.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=t+"Global";Qe.forEach(function(l){n[l.pluginName]&&(n[l.pluginName][o]&&n[l.pluginName][o](ye({sortable:n},r)),n.options[l.pluginName]&&n[l.pluginName][t]&&n[l.pluginName][t](ye({sortable:n},r)))})},initializePlugins:function(t,n,r,i){Qe.forEach(function(a){var s=a.pluginName;if(!(!t.options[s]&&!a.initializeByDefault)){var f=new a(t,n,t.options);f.sortable=t,f.options=t.options,t[s]=f,Ee(r,f.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var l=this.modifyOption(t,o,t.options[o]);typeof l<"u"&&(t.options[o]=l)}},getEventProperties:function(t,n){var r={};return Qe.forEach(function(i){typeof i.eventProperties=="function"&&Ee(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return Qe.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(t[o.pluginName],r))}),i}};function bo(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,l=e.toEl,a=e.fromEl,s=e.oldIndex,f=e.newIndex,p=e.oldDraggableIndex,u=e.newDraggableIndex,h=e.originalEvent,m=e.putSortable,c=e.extraEventProperties;if(t=t||n&&n[ce],!!t){var v,g=t.options,T="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!De&&!Mt?v=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(r,!0,!0)),v.to=l||n,v.from=a||n,v.item=i||n,v.clone=o,v.oldIndex=s,v.newIndex=f,v.oldDraggableIndex=p,v.newDraggableIndex=u,v.originalEvent=h,v.pullMode=m?m.lastPutMode:void 0;var M=ye(ye({},c),$t.getEventProperties(r,t));for(var k in M)v[k]=M[k];n&&n.dispatchEvent(v),g[T]&&g[T].call(t,v)}}var yo=["evt"],ae=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=fo(r,yo);$t.pluginEvent.bind(I)(t,n,ye({dragEl:A,parentEl:U,ghostEl:F,rootEl:W,nextEl:Pe,lastDownEl:zt,cloneEl:G,cloneHidden:Te,dragStarted:ft,putSortable:te,activeSortable:I.active,originalEvent:i,oldIndex:et,oldDraggableIndex:mt,newIndex:ue,newDraggableIndex:$e,hideGhostForTarget:Mi,unhideGhostForTarget:$i,cloneNowHidden:function(){Te=!0},cloneNowShown:function(){Te=!1},dispatchSortableEvent:function(a){le({sortable:n,name:a,originalEvent:i})}},o))};function le(e){bo(ye({putSortable:te,cloneEl:G,targetEl:A,rootEl:W,oldIndex:et,oldDraggableIndex:mt,newIndex:ue,newDraggableIndex:$e},e))}var A,U,F,W,Pe,zt,G,Te,et,ue,mt,$e,Ct,te,Je=!1,Wt=!1,Gt=[],Oe,pe,cn,dn,tr,nr,ft,Ue,gt,_t=!1,xt=!1,Ht,re,hn=[],En=!1,Qt=[],rn=typeof document<"u",Ot=gi,rr=Mt||De?"cssFloat":"float",wo=rn&&!_i&&!gi&&"draggable"in document.createElement("div"),Ei=function(){if(rn){if(De)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Si=function(t,n){var r=R(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=lt(t,0,n),l=lt(t,1,n),a=o&&R(o),s=l&&R(l),f=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+K(o).width,p=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+K(l).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var u=a.float==="left"?"left":"right";return l&&(s.clear==="both"||s.clear===u)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||f>=i&&r[rr]==="none"||l&&r[rr]==="none"&&f+p>i)?"vertical":"horizontal"},ko=function(t,n,r){var i=r?t.left:t.top,o=r?t.right:t.bottom,l=r?t.width:t.height,a=r?n.left:n.top,s=r?n.right:n.bottom,f=r?n.width:n.height;return i===a||o===s||i+l/2===a+f/2},Eo=function(t,n){var r;return Gt.some(function(i){var o=i[ce].options.emptyInsertThreshold;if(!(!o||Pn(i))){var l=K(i),a=t>=l.left-o&&t<=l.right+o,s=n>=l.top-o&&n<=l.bottom+o;if(a&&s)return r=i}}),r},Di=function(t){function n(o,l){return function(a,s,f,p){var u=a.options.group.name&&s.options.group.name&&a.options.group.name===s.options.group.name;if(o==null&&(l||u))return!0;if(o==null||o===!1)return!1;if(l&&o==="clone")return o;if(typeof o=="function")return n(o(a,s,f,p),l)(a,s,f,p);var h=(l?a:s).options.group.name;return o===!0||typeof o=="string"&&o===h||o.join&&o.indexOf(h)>-1}}var r={},i=t.group;(!i||jt(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},Mi=function(){!Ei&&F&&R(F,"display","none")},$i=function(){!Ei&&F&&R(F,"display","")};rn&&!_i&&document.addEventListener("click",function(e){if(Wt)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Wt=!1,!1},!0);var Ie=function(t){if(A){t=t.touches?t.touches[0]:t;var n=Eo(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[ce]._onDragOver(r)}}},So=function(t){A&&A.parentNode[ce]._isOutsideThisEl(t.target)};function I(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Ee({},t),e[ce]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Si(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,a){l.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:I.supportPointer!==!1&&"PointerEvent"in window&&!ht,emptyInsertThreshold:5};$t.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);Di(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:wo,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?X(e,"pointerdown",this._onTapStart):(X(e,"mousedown",this._onTapStart),X(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(X(e,"dragover",this),X(e,"dragenter",this)),Gt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Ee(this,go())}I.prototype={constructor:I,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Ue=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,A):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,i=this.options,o=i.preventOnFilter,l=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,s=(a||t).target,f=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,p=i.filter;if(xo(r),!A&&!(/mousedown|pointerdown/.test(l)&&t.button!==0||i.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&ht&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=ge(s,i.draggable,r,!1),!(s&&s.animated)&&zt!==s)){if(et=de(s),mt=de(s,i.draggable),typeof p=="function"){if(p.call(this,t,s,this)){le({sortable:n,rootEl:f,name:"filter",targetEl:s,toEl:r,fromEl:r}),ae("filter",n,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(p&&(p=p.split(",").some(function(u){if(u=ge(f,u.trim(),r,!1),u)return le({sortable:n,rootEl:u,name:"filter",targetEl:s,fromEl:r,toEl:r}),ae("filter",n,{evt:t}),!0}),p)){o&&t.cancelable&&t.preventDefault();return}i.handle&&!ge(f,i.handle,r,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,n,r){var i=this,o=i.el,l=i.options,a=o.ownerDocument,s;if(r&&!A&&r.parentNode===o){var f=K(r);if(W=o,A=r,U=A.parentNode,Pe=A.nextSibling,zt=r,Ct=l.group,I.dragged=A,Oe={target:A,clientX:(n||t).clientX,clientY:(n||t).clientY},tr=Oe.clientX-f.left,nr=Oe.clientY-f.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,A.style["will-change"]="all",s=function(){if(ae("delayEnded",i,{evt:t}),I.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Zn&&i.nativeDraggable&&(A.draggable=!0),i._triggerDragStart(t,n),le({sortable:i,name:"choose",originalEvent:t}),fe(A,l.chosenClass,!0)},l.ignore.split(",").forEach(function(p){bi(A,p.trim(),pn)}),X(a,"dragover",Ie),X(a,"mousemove",Ie),X(a,"touchmove",Ie),X(a,"mouseup",i._onDrop),X(a,"touchend",i._onDrop),X(a,"touchcancel",i._onDrop),Zn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,A.draggable=!0),ae("delayStart",this,{evt:t}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Mt||De))){if(I.eventCanceled){this._onDrop();return}X(a,"mouseup",i._disableDelayedDrag),X(a,"touchend",i._disableDelayedDrag),X(a,"touchcancel",i._disableDelayedDrag),X(a,"mousemove",i._delayedDragTouchMoveHandler),X(a,"touchmove",i._delayedDragTouchMoveHandler),l.supportPointer&&X(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(s,l.delay)}else s()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){A&&pn(A),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;L(t,"mouseup",this._disableDelayedDrag),L(t,"touchend",this._disableDelayedDrag),L(t,"touchcancel",this._disableDelayedDrag),L(t,"mousemove",this._delayedDragTouchMoveHandler),L(t,"touchmove",this._delayedDragTouchMoveHandler),L(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?X(document,"pointermove",this._onTouchMove):n?X(document,"touchmove",this._onTouchMove):X(document,"mousemove",this._onTouchMove):(X(A,"dragend",this),X(W,"dragstart",this._onDragStart));try{document.selection?Lt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Je=!1,W&&A){ae("dragStarted",this,{evt:n}),this.nativeDraggable&&X(document,"dragover",So);var r=this.options;!t&&fe(A,r.dragClass,!1),fe(A,r.ghostClass,!0),I.active=this,t&&this._appendGhost(),le({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(pe){this._lastX=pe.clientX,this._lastY=pe.clientY,Mi();for(var t=document.elementFromPoint(pe.clientX,pe.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(pe.clientX,pe.clientY),t!==n);)n=t;if(A.parentNode[ce]._isOutsideThisEl(t),n)do{if(n[ce]){var r=void 0;if(r=n[ce]._onDragOver({clientX:pe.clientX,clientY:pe.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);$i()}},_onTouchMove:function(t){if(Oe){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=t.touches?t.touches[0]:t,l=F&&rt(F,!0),a=F&&l&&l.a,s=F&&l&&l.d,f=Ot&&re&&er(re),p=(o.clientX-Oe.clientX+i.x)/(a||1)+(f?f[0]-hn[0]:0)/(a||1),u=(o.clientY-Oe.clientY+i.y)/(s||1)+(f?f[1]-hn[1]:0)/(s||1);if(!I.active&&!Je){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(F){l?(l.e+=p-(cn||0),l.f+=u-(dn||0)):l={a:1,b:0,c:0,d:1,e:p,f:u};var h="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");R(F,"webkitTransform",h),R(F,"mozTransform",h),R(F,"msTransform",h),R(F,"transform",h),cn=p,dn=u,pe=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!F){var t=this.options.fallbackOnBody?document.body:W,n=K(A,!0,Ot,!0,t),r=this.options;if(Ot){for(re=t;R(re,"position")==="static"&&R(re,"transform")==="none"&&re!==document;)re=re.parentNode;re!==document.body&&re!==document.documentElement?(re===document&&(re=ve()),n.top+=re.scrollTop,n.left+=re.scrollLeft):re=ve(),hn=er(re)}F=A.cloneNode(!0),fe(F,r.ghostClass,!1),fe(F,r.fallbackClass,!0),fe(F,r.dragClass,!0),R(F,"transition",""),R(F,"transform",""),R(F,"box-sizing","border-box"),R(F,"margin",0),R(F,"top",n.top),R(F,"left",n.left),R(F,"width",n.width),R(F,"height",n.height),R(F,"opacity","0.8"),R(F,"position",Ot?"absolute":"fixed"),R(F,"zIndex","100000"),R(F,"pointerEvents","none"),I.ghost=F,t.appendChild(F),R(F,"transform-origin",tr/parseInt(F.style.width)*100+"% "+nr/parseInt(F.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,o=r.options;if(ae("dragStart",this,{evt:t}),I.eventCanceled){this._onDrop();return}ae("setupClone",this),I.eventCanceled||(G=ki(A),G.removeAttribute("id"),G.draggable=!1,G.style["will-change"]="",this._hideClone(),fe(G,this.options.chosenClass,!1),I.clone=G),r.cloneId=Lt(function(){ae("clone",r),!I.eventCanceled&&(r.options.removeCloneOnHide||W.insertBefore(G,A),r._hideClone(),le({sortable:r,name:"clone"}))}),!n&&fe(A,o.dragClass,!0),n?(Wt=!0,r._loopId=setInterval(r._emulateDragOver,50)):(L(document,"mouseup",r._onDrop),L(document,"touchend",r._onDrop),L(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,A)),X(document,"drop",r),R(A,"transform","translateZ(0)")),Je=!0,r._dragStartId=Lt(r._dragStarted.bind(r,n,t)),X(document,"selectstart",r),ft=!0,ht&&R(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,o,l,a=this.options,s=a.group,f=I.active,p=Ct===s,u=a.sort,h=te||f,m,c=this,v=!1;if(En)return;function g(q,x){ae(q,c,ye({evt:t,isOwner:p,axis:m?"vertical":"horizontal",revert:l,dragRect:i,targetRect:o,canSort:u,fromSortable:h,target:r,completed:M,onMove:function(Bn,Li){return It(W,n,A,i,Bn,K(Bn),t,Li)},changed:k},x))}function T(){g("dragOverAnimationCapture"),c.captureAnimationState(),c!==h&&h.captureAnimationState()}function M(q){return g("dragOverCompleted",{insertion:q}),q&&(p?f._hideClone():f._showClone(c),c!==h&&(fe(A,te?te.options.ghostClass:f.options.ghostClass,!1),fe(A,a.ghostClass,!0)),te!==c&&c!==I.active?te=c:c===I.active&&te&&(te=null),h===c&&(c._ignoreWhileAnimating=r),c.animateAll(function(){g("dragOverAnimationComplete"),c._ignoreWhileAnimating=null}),c!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(r===A&&!A.animated||r===n&&!r.animated)&&(Ue=null),!a.dragoverBubble&&!t.rootEl&&r!==document&&(A.parentNode[ce]._isOutsideThisEl(t.target),!q&&Ie(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function k(){ue=de(A),$e=de(A,a.draggable),le({sortable:c,name:"change",toEl:n,newIndex:ue,newDraggableIndex:$e,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=ge(r,a.draggable,n,!0),g("dragOver"),I.eventCanceled)return v;if(A.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||c._ignoreWhileAnimating===r)return M(!1);if(Wt=!1,f&&!a.disabled&&(p?u||(l=U!==W):te===this||(this.lastPutMode=Ct.checkPull(this,f,A,t))&&s.checkPut(this,f,A,t))){if(m=this._getDirection(t,r)==="vertical",i=K(A),g("dragOverValid"),I.eventCanceled)return v;if(l)return U=W,T(),this._hideClone(),g("revert"),I.eventCanceled||(Pe?W.insertBefore(A,Pe):W.appendChild(A)),M(!0);var y=Pn(n,a.draggable);if(!y||To(t,m,this)&&!y.animated){if(y===A)return M(!1);if(y&&n===t.target&&(r=y),r&&(o=K(r)),It(W,n,A,i,r,o,t,!!r)!==!1)return T(),y&&y.nextSibling?n.insertBefore(A,y.nextSibling):n.appendChild(A),U=n,k(),M(!0)}else if(y&&$o(t,m,this)){var _=lt(n,0,a,!0);if(_===A)return M(!1);if(r=_,o=K(r),It(W,n,A,i,r,o,t,!1)!==!1)return T(),n.insertBefore(A,_),U=n,k(),M(!0)}else if(r.parentNode===n){o=K(r);var w=0,E,D=A.parentNode!==n,$=!ko(A.animated&&A.toRect||i,r.animated&&r.toRect||o,m),O=m?"top":"left",b=Kn(r,"top","top")||Kn(A,"top","top"),C=b?b.scrollTop:void 0;Ue!==r&&(E=o[O],_t=!1,xt=!$&&a.invertSwap||D),w=Ao(t,r,o,m,$?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,xt,Ue===r);var B;if(w!==0){var Q=de(A);do Q-=w,B=U.children[Q];while(B&&(R(B,"display")==="none"||B===F))}if(w===0||B===r)return M(!1);Ue=r,gt=w;var ee=r.nextElementSibling,ne=!1;ne=w===1;var N=It(W,n,A,i,r,o,t,ne);if(N!==!1)return(N===1||N===-1)&&(ne=N===1),En=!0,setTimeout(Mo,30),T(),ne&&!ee?n.appendChild(A):r.parentNode.insertBefore(A,ne?ee:r),b&&wi(b,0,C-b.scrollTop),U=A.parentNode,E!==void 0&&!xt&&(Ht=Math.abs(E-K(r)[O])),k(),M(!0)}if(n.contains(A))return M(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){L(document,"mousemove",this._onTouchMove),L(document,"touchmove",this._onTouchMove),L(document,"pointermove",this._onTouchMove),L(document,"dragover",Ie),L(document,"mousemove",Ie),L(document,"touchmove",Ie)},_offUpEvents:function(){var t=this.el.ownerDocument;L(t,"mouseup",this._onDrop),L(t,"touchend",this._onDrop),L(t,"pointerup",this._onDrop),L(t,"touchcancel",this._onDrop),L(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(ue=de(A),$e=de(A,r.draggable),ae("drop",this,{evt:t}),U=A&&A.parentNode,ue=de(A),$e=de(A,r.draggable),I.eventCanceled){this._nulling();return}Je=!1,xt=!1,_t=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Sn(this.cloneId),Sn(this._dragStartId),this.nativeDraggable&&(L(document,"drop",this),L(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ht&&R(document.body,"user-select",""),R(A,"transform",""),t&&(ft&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),F&&F.parentNode&&F.parentNode.removeChild(F),(W===U||te&&te.lastPutMode!=="clone")&&G&&G.parentNode&&G.parentNode.removeChild(G),A&&(this.nativeDraggable&&L(A,"dragend",this),pn(A),A.style["will-change"]="",ft&&!Je&&fe(A,te?te.options.ghostClass:this.options.ghostClass,!1),fe(A,this.options.chosenClass,!1),le({sortable:this,name:"unchoose",toEl:U,newIndex:null,newDraggableIndex:null,originalEvent:t}),W!==U?(ue>=0&&(le({rootEl:U,name:"add",toEl:U,fromEl:W,originalEvent:t}),le({sortable:this,name:"remove",toEl:U,originalEvent:t}),le({rootEl:U,name:"sort",toEl:U,fromEl:W,originalEvent:t}),le({sortable:this,name:"sort",toEl:U,originalEvent:t})),te&&te.save()):ue!==et&&ue>=0&&(le({sortable:this,name:"update",toEl:U,originalEvent:t}),le({sortable:this,name:"sort",toEl:U,originalEvent:t})),I.active&&((ue==null||ue===-1)&&(ue=et,$e=mt),le({sortable:this,name:"end",toEl:U,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){ae("nulling",this),W=A=U=F=Pe=G=zt=Te=Oe=pe=ft=ue=$e=et=mt=Ue=gt=te=Ct=I.dragged=I.ghost=I.clone=I.active=null,Qt.forEach(function(t){t.checked=!0}),Qt.length=cn=dn=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":A&&(this._onDragOver(t),Do(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,o=r.length,l=this.options;i<o;i++)n=r[i],ge(n,l.draggable,this.el,!1)&&t.push(n.getAttribute(l.dataIdAttr)||Co(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(o,l){var a=i.children[l];ge(a,this.options.draggable,i,!1)&&(r[o]=a)},this),n&&this.captureAnimationState(),t.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return ge(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=$t.modifyOption(this,t,n);typeof i<"u"?r[t]=i:r[t]=n,t==="group"&&Di(r)},destroy:function(){ae("destroy",this);var t=this.el;t[ce]=null,L(t,"mousedown",this._onTapStart),L(t,"touchstart",this._onTapStart),L(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(L(t,"dragover",this),L(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Gt.splice(Gt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Te){if(ae("hideClone",this),I.eventCanceled)return;R(G,"display","none"),this.options.removeCloneOnHide&&G.parentNode&&G.parentNode.removeChild(G),Te=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Te){if(ae("showClone",this),I.eventCanceled)return;A.parentNode==W&&!this.options.group.revertClone?W.insertBefore(G,A):Pe?W.insertBefore(G,Pe):W.appendChild(G),this.options.group.revertClone&&this.animate(A,G),R(G,"display",""),Te=!1}}};function Do(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function It(e,t,n,r,i,o,l,a){var s,f=e[ce],p=f.options.onMove,u;return window.CustomEvent&&!De&&!Mt?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=t,s.from=e,s.dragged=n,s.draggedRect=r,s.related=i||t,s.relatedRect=o||K(t),s.willInsertAfter=a,s.originalEvent=l,e.dispatchEvent(s),p&&(u=p.call(f,s,l)),u}function pn(e){e.draggable=!1}function Mo(){En=!1}function $o(e,t,n){var r=K(lt(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function To(e,t,n){var r=K(Pn(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function Ao(e,t,n,r,i,o,l,a){var s=r?e.clientY:e.clientX,f=r?n.height:n.width,p=r?n.top:n.left,u=r?n.bottom:n.right,h=!1;if(!l){if(a&&Ht<f*i){if(!_t&&(gt===1?s>p+f*o/2:s<u-f*o/2)&&(_t=!0),_t)h=!0;else if(gt===1?s<p+Ht:s>u-Ht)return-gt}else if(s>p+f*(1-i)/2&&s<u-f*(1-i)/2)return No(t)}return h=h||l,h&&(s<p+f*o/2||s>u-f*o/2)?s>p+f/2?1:-1:0}function No(e){return de(A)<de(e)?1:-1}function Co(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function xo(e){Qt.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&Qt.push(r)}}function Lt(e){return setTimeout(e,0)}function Sn(e){return clearTimeout(e)}rn&&X(document,"touchmove",function(e){(I.active||Je)&&e.cancelable&&e.preventDefault()});I.utils={on:X,off:L,css:R,find:bi,is:function(t,n){return!!ge(t,n,t,!1)},extend:po,throttle:yi,closest:ge,toggleClass:fe,clone:ki,index:de,nextTick:Lt,cancelNextTick:Sn,detectDirection:Si,getChild:lt};I.get=function(e){return e[ce]};I.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(I.utils=ye(ye({},I.utils),r.utils)),$t.mount(r)})};I.create=function(e,t){return new I(e,t)};I.version=uo;var J=[],ut,Dn,Mn=!1,mn,gn,Ut,ct;function Oo(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?X(document,"dragover",this._handleAutoScroll):this.options.supportPointer?X(document,"pointermove",this._handleFallbackAutoScroll):r.touches?X(document,"touchmove",this._handleFallbackAutoScroll):X(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?L(document,"dragover",this._handleAutoScroll):(L(document,"pointermove",this._handleFallbackAutoScroll),L(document,"touchmove",this._handleFallbackAutoScroll),L(document,"mousemove",this._handleFallbackAutoScroll)),ir(),Bt(),mo()},nulling:function(){Ut=Dn=ut=Mn=ct=mn=gn=null,J.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,o=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(o,l);if(Ut=n,r||this.options.forceAutoScrollFallback||Mt||De||ht){_n(n,this.options,a,r);var s=Ne(a,!0);Mn&&(!ct||o!==mn||l!==gn)&&(ct&&ir(),ct=setInterval(function(){var f=Ne(document.elementFromPoint(o,l),!0);f!==s&&(s=f,Bt()),_n(n,i.options,f,r)},10),mn=o,gn=l)}else{if(!this.options.bubbleScroll||Ne(a,!0)===ve()){Bt();return}_n(n,this.options,Ne(a,!1),!1)}}},Ee(e,{pluginName:"scroll",initializeByDefault:!0})}function Bt(){J.forEach(function(e){clearInterval(e.pid)}),J=[]}function ir(){clearInterval(ct)}var _n=yi(function(e,t,n,r){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,a=t.scrollSpeed,s=ve(),f=!1,p;Dn!==n&&(Dn=n,Bt(),ut=t.scroll,p=t.scrollFn,ut===!0&&(ut=Ne(n,!0)));var u=0,h=ut;do{var m=h,c=K(m),v=c.top,g=c.bottom,T=c.left,M=c.right,k=c.width,y=c.height,_=void 0,w=void 0,E=m.scrollWidth,D=m.scrollHeight,$=R(m),O=m.scrollLeft,b=m.scrollTop;m===s?(_=k<E&&($.overflowX==="auto"||$.overflowX==="scroll"||$.overflowX==="visible"),w=y<D&&($.overflowY==="auto"||$.overflowY==="scroll"||$.overflowY==="visible")):(_=k<E&&($.overflowX==="auto"||$.overflowX==="scroll"),w=y<D&&($.overflowY==="auto"||$.overflowY==="scroll"));var C=_&&(Math.abs(M-i)<=l&&O+k<E)-(Math.abs(T-i)<=l&&!!O),B=w&&(Math.abs(g-o)<=l&&b+y<D)-(Math.abs(v-o)<=l&&!!b);if(!J[u])for(var Q=0;Q<=u;Q++)J[Q]||(J[Q]={});(J[u].vx!=C||J[u].vy!=B||J[u].el!==m)&&(J[u].el=m,J[u].vx=C,J[u].vy=B,clearInterval(J[u].pid),(C!=0||B!=0)&&(f=!0,J[u].pid=setInterval((function(){r&&this.layer===0&&I.active._onTouchMove(Ut);var ee=J[this.layer].vy?J[this.layer].vy*a:0,ne=J[this.layer].vx?J[this.layer].vx*a:0;typeof p=="function"&&p.call(I.dragged.parentNode[ce],ne,ee,e,Ut,J[this.layer].el)!=="continue"||wi(J[this.layer].el,ne,ee)}).bind({layer:u}),24))),u++}while(t.bubbleScroll&&h!==s&&(h=Ne(h,!1)));Mn=f}},30),Ti=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,o=t.activeSortable,l=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(n){var f=r||o;a();var p=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,u=document.elementFromPoint(p.clientX,p.clientY);s(),f&&!f.el.contains(u)&&(l("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function Rn(){}Rn.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=lt(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:Ti};Ee(Rn,{pluginName:"revertOnSpill"});function qn(){}qn.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:Ti};Ee(qn,{pluginName:"removeOnSpill"});I.mount(new Oo);I.mount(qn,Rn);function Xt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Io(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ai(e){let t,n,r;e.length!==2?(t=Xt,n=(a,s)=>Xt(e(a),s),r=(a,s)=>e(a)-s):(t=e===Xt||e===Io?e:Po,n=e,r=e);function i(a,s,f=0,p=a.length){if(f<p){if(t(s,s)!==0)return p;do{const u=f+p>>>1;n(a[u],s)<0?f=u+1:p=u}while(f<p)}return f}function o(a,s,f=0,p=a.length){if(f<p){if(t(s,s)!==0)return p;do{const u=f+p>>>1;n(a[u],s)<=0?f=u+1:p=u}while(f<p)}return f}function l(a,s,f=0,p=a.length){const u=i(a,s,f,p-1);return u>f&&r(a[u-1],s)>-r(a[u],s)?u-1:u}return{left:i,center:l,right:o}}function Po(){return 0}function Ro(e){return e===null?NaN:+e}const qo=Ai(Xt),Fo=qo.right;Ai(Ro).center;const jo=Fo;function zo(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let l of e)l!=null&&(l=+l)>=l&&(r=l-i,i+=r/++n,o+=r*(l-i));else{let l=-1;for(let a of e)(a=t(a,++l,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function Ho(e,t){const n=zo(e,t);return n&&Math.sqrt(n)}class or extends Map{constructor(t,n=Xo){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(lr(this,t))}has(t){return super.has(lr(this,t))}set(t,n){return super.set(Lo(this,t),n)}delete(t){return super.delete(Bo(this,t))}}function lr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Lo({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Bo({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Xo(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Yo=Math.sqrt(50),Wo=Math.sqrt(10),Go=Math.sqrt(2);function Vt(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=Yo?10:o>=Wo?5:o>=Go?2:1;let a,s,f;return i<0?(f=Math.pow(10,-i)/l,a=Math.round(e*f),s=Math.round(t*f),a/f<e&&++a,s/f>t&&--s,f=-f):(f=Math.pow(10,i)*l,a=Math.round(e/f),s=Math.round(t/f),a*f<e&&++a,s*f>t&&--s),s<a&&.5<=n&&n<2?Vt(e,t,n*2):[a,s,f]}function Qo(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,l]=r?Vt(t,e,n):Vt(e,t,n);if(!(o>=i))return[];const a=o-i+1,s=new Array(a);if(r)if(l<0)for(let f=0;f<a;++f)s[f]=(o-f)/-l;else for(let f=0;f<a;++f)s[f]=(o-f)*l;else if(l<0)for(let f=0;f<a;++f)s[f]=(i+f)/-l;else for(let f=0;f<a;++f)s[f]=(i+f)*l;return s}function $n(e,t,n){return t=+t,e=+e,n=+n,Vt(e,t,n)[2]}function Uo(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?$n(t,e,n):$n(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Ni(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Vo(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Zo(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Jo(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Ko(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function at(e){return e=Zt(Math.abs(e)),e?e[1]:NaN}function el(e,t){return function(n,r){for(var i=n.length,o=[],l=0,a=e[0],s=0;i>0&&a>0&&(s+a+1>r&&(a=Math.max(1,r-s)),o.push(n.substring(i-=a,i+a)),!((s+=a+1)>r));)a=e[l=(l+1)%e.length];return o.reverse().join(t)}}function tl(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var nl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jt(e){if(!(t=nl.exec(e)))throw new Error("invalid format: "+e);var t;return new Fn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Jt.prototype=Fn.prototype;function Fn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Fn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rl(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Ci;function il(e,t){var n=Zt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Ci=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Zt(e,Math.max(0,t+o-1))[0]}function ar(e,t){var n=Zt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ko,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ar(e*100,t),r:ar,s:il,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fr(e){return e}var ur=Array.prototype.map,cr=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ol(e){var t=e.grouping===void 0||e.thousands===void 0?fr:el(ur.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?fr:tl(ur.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function f(u){u=Jt(u);var h=u.fill,m=u.align,c=u.sign,v=u.symbol,g=u.zero,T=u.width,M=u.comma,k=u.precision,y=u.trim,_=u.type;_==="n"?(M=!0,_="g"):sr[_]||(k===void 0&&(k=12),y=!0,_="g"),(g||h==="0"&&m==="=")&&(g=!0,h="0",m="=");var w=v==="$"?n:v==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E=v==="$"?r:/[%p]/.test(_)?l:"",D=sr[_],$=/[defgprs%]/.test(_);k=k===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function O(b){var C=w,B=E,Q,ee,ne;if(_==="c")B=D(b)+B,b="";else{b=+b;var N=b<0||1/b<0;if(b=isNaN(b)?s:D(Math.abs(b),k),y&&(b=rl(b)),N&&+b==0&&c!=="+"&&(N=!1),C=(N?c==="("?c:a:c==="-"||c==="("?"":c)+C,B=(_==="s"?cr[8+Ci/3]:"")+B+(N&&c==="("?")":""),$){for(Q=-1,ee=b.length;++Q<ee;)if(ne=b.charCodeAt(Q),48>ne||ne>57){B=(ne===46?i+b.slice(Q+1):b.slice(Q))+B,b=b.slice(0,Q);break}}}M&&!g&&(b=t(b,1/0));var q=C.length+b.length+B.length,x=q<T?new Array(T-q+1).join(h):"";switch(M&&g&&(b=t(x+b,x.length?T-B.length:1/0),x=""),m){case"<":b=C+b+B+x;break;case"=":b=C+x+b+B;break;case"^":b=x.slice(0,q=x.length>>1)+C+b+B+x.slice(q);break;default:b=x+C+b+B;break}return o(b)}return O.toString=function(){return u+""},O}function p(u,h){var m=f((u=Jt(u),u.type="f",u)),c=Math.max(-8,Math.min(8,Math.floor(at(h)/3)))*3,v=Math.pow(10,-c),g=cr[8+c/3];return function(T){return m(v*T)+g}}return{format:f,formatPrefix:p}}var Pt,on,xi;ll({thousands:",",grouping:[3],currency:["$",""]});function ll(e){return Pt=ol(e),on=Pt.format,xi=Pt.formatPrefix,Pt}function al(e){return Math.max(0,-at(Math.abs(e)))}function sl(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(at(t)/3)))*3-at(Math.abs(e)))}function fl(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,at(t)-at(e))+1}function jn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ul(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const dr=Symbol("implicit");function Tt(){var e=new or,t=[],n=[],r=dr;function i(o){let l=e.get(o);if(l===void 0){if(r!==dr)return r;e.set(o,l=t.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new or;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Tt(t,n).unknown(r)},jn.apply(i,arguments),i}function kt(){var e=Tt().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,l,a=!1,s=0,f=0,p=.5;delete e.unknown;function u(){var h=t().length,m=i<r,c=m?i:r,v=m?r:i;o=(v-c)/Math.max(1,h-s+f*2),a&&(o=Math.floor(o)),c+=(v-c-o*(h-s))*p,l=o*(1-s),a&&(c=Math.round(c),l=Math.round(l));var g=Jo(h).map(function(T){return c+o*T});return n(m?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),u()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,u()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,u()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(h){return arguments.length?(a=!!h,u()):a},e.padding=function(h){return arguments.length?(s=Math.min(1,f=+h),u()):s},e.paddingInner=function(h){return arguments.length?(s=Math.min(1,h),u()):s},e.paddingOuter=function(h){return arguments.length?(f=+h,u()):f},e.align=function(h){return arguments.length?(p=Math.max(0,Math.min(1,h)),u()):p},e.copy=function(){return kt(t(),[r,i]).round(a).paddingInner(s).paddingOuter(f).align(p)},jn.apply(u(),arguments)}function Oi(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Oi(t())},e}function hr(){return Oi(kt.apply(null,arguments).paddingInner(1))}function zn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ii(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function At(){}var Et=.7,Kt=1/Et,it="\\s*([+-]?\\d+)\\s*",St="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",be="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cl=/^#([0-9a-f]{3,8})$/,dl=new RegExp(`^rgb\\(${it},${it},${it}\\)$`),hl=new RegExp(`^rgb\\(${be},${be},${be}\\)$`),pl=new RegExp(`^rgba\\(${it},${it},${it},${St}\\)$`),ml=new RegExp(`^rgba\\(${be},${be},${be},${St}\\)$`),gl=new RegExp(`^hsl\\(${St},${be},${be}\\)$`),_l=new RegExp(`^hsla\\(${St},${be},${be},${St}\\)$`),pr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zn(At,Dt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mr,formatHex:mr,formatHex8:vl,formatHsl:bl,formatRgb:gr,toString:gr});function mr(){return this.rgb().formatHex()}function vl(){return this.rgb().formatHex8()}function bl(){return Pi(this).formatHsl()}function gr(){return this.rgb().formatRgb()}function Dt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?_r(t):n===3?new se(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Rt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Rt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=dl.exec(e))?new se(t[1],t[2],t[3],1):(t=hl.exec(e))?new se(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pl.exec(e))?Rt(t[1],t[2],t[3],t[4]):(t=ml.exec(e))?Rt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=gl.exec(e))?yr(t[1],t[2]/100,t[3]/100,1):(t=_l.exec(e))?yr(t[1],t[2]/100,t[3]/100,t[4]):pr.hasOwnProperty(e)?_r(pr[e]):e==="transparent"?new se(NaN,NaN,NaN,0):null}function _r(e){return new se(e>>16&255,e>>8&255,e&255,1)}function Rt(e,t,n,r){return r<=0&&(e=t=n=NaN),new se(e,t,n,r)}function yl(e){return e instanceof At||(e=Dt(e)),e?(e=e.rgb(),new se(e.r,e.g,e.b,e.opacity)):new se}function Tn(e,t,n,r){return arguments.length===1?yl(e):new se(e,t,n,r??1)}function se(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}zn(se,Tn,Ii(At,{brighter(e){return e=e==null?Kt:Math.pow(Kt,e),new se(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Et:Math.pow(Et,e),new se(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new se(He(this.r),He(this.g),He(this.b),en(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vr,formatHex:vr,formatHex8:wl,formatRgb:br,toString:br}));function vr(){return`#${ze(this.r)}${ze(this.g)}${ze(this.b)}`}function wl(){return`#${ze(this.r)}${ze(this.g)}${ze(this.b)}${ze((isNaN(this.opacity)?1:this.opacity)*255)}`}function br(){const e=en(this.opacity);return`${e===1?"rgb(":"rgba("}${He(this.r)}, ${He(this.g)}, ${He(this.b)}${e===1?")":`, ${e})`}`}function en(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function He(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ze(e){return e=He(e),(e<16?"0":"")+e.toString(16)}function yr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new me(e,t,n,r)}function Pi(e){if(e instanceof me)return new me(e.h,e.s,e.l,e.opacity);if(e instanceof At||(e=Dt(e)),!e)return new me;if(e instanceof me)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,a=o-i,s=(o+i)/2;return a?(t===o?l=(n-r)/a+(n<r)*6:n===o?l=(r-t)/a+2:l=(t-n)/a+4,a/=s<.5?o+i:2-o-i,l*=60):a=s>0&&s<1?0:l,new me(l,a,s,e.opacity)}function kl(e,t,n,r){return arguments.length===1?Pi(e):new me(e,t,n,r??1)}function me(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}zn(me,kl,Ii(At,{brighter(e){return e=e==null?Kt:Math.pow(Kt,e),new me(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Et:Math.pow(Et,e),new me(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new se(vn(e>=240?e-240:e+120,i,r),vn(e,i,r),vn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new me(wr(this.h),qt(this.s),qt(this.l),en(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=en(this.opacity);return`${e===1?"hsl(":"hsla("}${wr(this.h)}, ${qt(this.s)*100}%, ${qt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wr(e){return e=(e||0)%360,e<0?e+360:e}function qt(e){return Math.max(0,Math.min(1,e||0))}function vn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Hn=e=>()=>e;function El(e,t){return function(n){return e+n*t}}function Sl(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Dl(e){return(e=+e)==1?Ri:function(t,n){return n-t?Sl(t,n,e):Hn(isNaN(t)?n:t)}}function Ri(e,t){var n=t-e;return n?El(e,n):Hn(isNaN(e)?t:e)}const An=function e(t){var n=Dl(t);function r(i,o){var l=n((i=Tn(i)).r,(o=Tn(o)).r),a=n(i.g,o.g),s=n(i.b,o.b),f=Ri(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=a(p),i.b=s(p),i.opacity=f(p),i+""}}return r.gamma=e,r}(1);function Ml(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function $l(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Tl(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=ln(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(a){for(l=0;l<r;++l)o[l]=i[l](a);return o}}function Al(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function tn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Nl(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ln(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Nn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bn=new RegExp(Nn.source,"g");function Cl(e){return function(){return e}}function xl(e){return function(t){return e(t)+""}}function Ol(e,t){var n=Nn.lastIndex=bn.lastIndex=0,r,i,o,l=-1,a=[],s=[];for(e=e+"",t=t+"";(r=Nn.exec(e))&&(i=bn.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[l]?a[l]+=o:a[++l]=o),(r=r[0])===(i=i[0])?a[l]?a[l]+=i:a[++l]=i:(a[++l]=null,s.push({i:l,x:tn(r,i)})),n=bn.lastIndex;return n<t.length&&(o=t.slice(n),a[l]?a[l]+=o:a[++l]=o),a.length<2?s[0]?xl(s[0].x):Cl(t):(t=s.length,function(f){for(var p=0,u;p<t;++p)a[(u=s[p]).i]=u.x(f);return a.join("")})}function ln(e,t){var n=typeof t,r;return t==null||n==="boolean"?Hn(t):(n==="number"?tn:n==="string"?(r=Dt(t))?(t=r,An):Ol:t instanceof Dt?An:t instanceof Date?Al:$l(t)?Ml:Array.isArray(t)?Tl:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Nl:tn)(e,t)}function qi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Il(e){return function(){return e}}function Pl(e){return+e}var kr=[0,1];function Ce(e){return e}function Cn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Il(isNaN(t)?NaN:.5)}function Rl(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function ql(e,t,n){var r=e[0],i=e[1],o=t[0],l=t[1];return i<r?(r=Cn(i,r),o=n(l,o)):(r=Cn(r,i),o=n(o,l)),function(a){return o(r(a))}}function Fl(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Cn(e[l],e[l+1]),o[l]=n(t[l],t[l+1]);return function(a){var s=jo(e,a,1,r)-1;return o[s](i[s](a))}}function jl(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zl(){var e=kr,t=kr,n=ln,r,i,o,l=Ce,a,s,f;function p(){var h=Math.min(e.length,t.length);return l!==Ce&&(l=Rl(e[0],e[h-1])),a=h>2?Fl:ql,s=f=null,u}function u(h){return h==null||isNaN(h=+h)?o:(s||(s=a(e.map(r),t,n)))(r(l(h)))}return u.invert=function(h){return l(i((f||(f=a(t,e.map(r),tn)))(h)))},u.domain=function(h){return arguments.length?(e=Array.from(h,Pl),p()):e.slice()},u.range=function(h){return arguments.length?(t=Array.from(h),p()):t.slice()},u.rangeRound=function(h){return t=Array.from(h),n=qi,p()},u.clamp=function(h){return arguments.length?(l=h?!0:Ce,p()):l!==Ce},u.interpolate=function(h){return arguments.length?(n=h,p()):n},u.unknown=function(h){return arguments.length?(o=h,u):o},function(h,m){return r=h,i=m,p()}}function Hl(){return zl()(Ce,Ce)}function Ll(e,t,n,r){var i=Uo(e,t,n),o;switch(r=Jt(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=sl(i,l))&&(r.precision=o),xi(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=fl(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=al(i))&&(r.precision=o-(r.type==="%")*2);break}}return on(r)}function Fi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Qo(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Ll(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,l=r[i],a=r[o],s,f,p=10;for(a<l&&(f=l,l=a,a=f,f=i,i=o,o=f);p-- >0;){if(f=$n(l,a,n),f===s)return r[i]=l,r[o]=a,t(r);if(f>0)l=Math.floor(l/f)*f,a=Math.ceil(a/f)*f;else if(f<0)l=Math.ceil(l*f)/f,a=Math.floor(a*f)/f;else break;s=f}return e},e}function Ln(){var e=Hl();return e.copy=function(){return jl(e,Ln())},jn.apply(e,arguments),Fi(e)}function Bl(){var e=0,t=1,n,r,i,o,l=Ce,a=!1,s;function f(u){return u==null||isNaN(u=+u)?s:l(i===0?.5:(u=(o(u)-n)*i,a?Math.max(0,Math.min(1,u)):u))}f.domain=function(u){return arguments.length?([e,t]=u,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(u){return arguments.length?(a=!!u,f):a},f.interpolator=function(u){return arguments.length?(l=u,f):l};function p(u){return function(h){var m,c;return arguments.length?([m,c]=h,l=u(m,c),f):[l(0),l(1)]}}return f.range=p(ln),f.rangeRound=p(qi),f.unknown=function(u){return arguments.length?(s=u,f):s},function(u){return o=u,n=u(e),r=u(t),i=n===r?0:1/(r-n),f}}function Xl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ji(){var e=Fi(Bl()(Ce));return e.copy=function(){return Xl(e,ji())},ul.apply(e,arguments)}function Ve(e){return function(){return e}}const xn=Math.PI,On=2*xn,Re=1e-6,Yl=On-Re;function zi(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Wl(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zi;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Gl{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zi:Wl(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,a=this._y1,s=r-t,f=i-n,p=l-t,u=a-n,h=p*p+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Re)if(!(Math.abs(u*s-f*p)>Re)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-l,c=i-a,v=s*s+f*f,g=m*m+c*c,T=Math.sqrt(v),M=Math.sqrt(h),k=o*Math.tan((xn-Math.acos((v+h-g)/(2*T*M)))/2),y=k/M,_=k/T;Math.abs(y-1)>Re&&this._append`L${t+y*p},${n+y*u}`,this._append`A${o},${o},0,0,${+(u*m>p*c)},${this._x1=t+_*s},${this._y1=n+_*f}`}}arc(t,n,r,i,o,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),s=r*Math.sin(i),f=t+a,p=n+s,u=1^l,h=l?i-o:o-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>Re||Math.abs(this._y1-p)>Re)&&this._append`L${f},${p}`,r&&(h<0&&(h=h%On+On),h>Yl?this._append`A${r},${r},0,1,${u},${t-a},${n-s}A${r},${r},0,1,${u},${this._x1=f},${this._y1=p}`:h>Re&&this._append`A${r},${r},0,${+(h>=xn)},${u},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ql(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Gl(t)}function Ul(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Hi(e){this._context=e}Hi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Vl(e){return new Hi(e)}function Zl(e){return e[0]}function Jl(e){return e[1]}function Kl(e,t){var n=Ve(!0),r=null,i=Vl,o=null,l=Ql(a);e=typeof e=="function"?e:e===void 0?Zl:Ve(e),t=typeof t=="function"?t:t===void 0?Jl:Ve(t);function a(s){var f,p=(s=Ul(s)).length,u,h=!1,m;for(r==null&&(o=i(m=l())),f=0;f<=p;++f)!(f<p&&n(u=s[f],f,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(u,f,s),+t(u,f,s));if(m)return o=null,m+""||null}return a.x=function(s){return arguments.length?(e=typeof s=="function"?s:Ve(+s),a):e},a.y=function(s){return arguments.length?(t=typeof s=="function"?s:Ve(+s),a):t},a.defined=function(s){return arguments.length?(n=typeof s=="function"?s:Ve(!!s),a):n},a.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),a):i},a.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),a):r},a}function Er(e,t,n){const r=e.slice();return r[18]=t[n],r[20]=n,r}function Sr(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}function Dr(e,t,n){const r=e.slice();return r[24]=t[n],r[23]=n,r}function Mr(e){let t,n=e[23]+1+"",r;return{c(){t=P("option"),r=Y(n),t.__value=e[23]+1,t.value=t.__value,d(t,"class","svelte-f2ps7u")},m(i,o){H(i,t,o),S(t,r)},p:V,d(i){i&&j(t)}}}function $r(e,t){let n,r,i=t[1][t[23]]+"",o,l,a,s,f=t[18][t[1][t[23]]]+"",p,u,h,m,c,v,g,T,M,k=Array(t[0]).fill(),y=[];for(let w=0;w<k.length;w+=1)y[w]=Mr(Dr(t,k,w));function _(...w){return t[12](t[20],t[23],...w)}return{key:e,first:null,c(){n=P("div"),r=P("h5"),o=Y(i),l=Y(":"),a=Z(),s=P("p"),p=Y(f),u=Z(),h=P("div"),m=Y(`Rank:
                        `),c=P("select");for(let w=0;w<y.length;w+=1)y[w].c();v=Z(),d(r,"class","bold underline svelte-f2ps7u"),d(s,"class","svelte-f2ps7u"),d(n,"class","answer svelte-f2ps7u"),d(n,"id",g=`answer-${t[23]}-${t[20]}`),this.first=n},m(w,E){H(w,n,E),S(n,r),S(r,o),S(r,l),S(n,a),S(n,s),S(s,p),S(n,u),S(n,h),S(h,m),S(h,c);for(let D=0;D<y.length;D+=1)y[D]&&y[D].m(c,null);S(n,v),T||(M=ie(c,"change",_),T=!0)},p(w,E){if(t=w,E&3&&i!==(i=t[1][t[23]]+"")&&oe(o,i),E&131&&f!==(f=t[18][t[1][t[23]]]+"")&&oe(p,f),E&1){k=Array(t[0]).fill();let D;for(D=0;D<k.length;D+=1){const $=Dr(t,k,D);y[D]?y[D].p($,E):(y[D]=Mr($),y[D].c(),y[D].m(c,null))}for(;D<y.length;D+=1)y[D].d(1);y.length=k.length}E&129&&g!==(g=`answer-${t[23]}-${t[20]}`)&&d(n,"id",g)},d(w){w&&j(n),he(y,w),T=!1,M()}}}function Tr(e,t){let n,r,i,o,l,a,s,f,p,u=t[18].question+"",h,m,c,v=[],g=new Map,T,M,k,y,_=Array(t[0]).fill();const w=E=>E[23];for(let E=0;E<_.length;E+=1){let D=Sr(t,_,E),$=w(D);g.set($,v[E]=$r($,D))}return{key:e,first:null,c(){n=P("div"),r=P("div"),i=P("div"),o=Z(),l=P("div"),a=P("div"),s=P("h5"),s.textContent="Question:",f=Z(),p=P("p"),h=Y(u),m=Z(),c=P("div");for(let E=0;E<v.length;E+=1)v[E].c();T=Z(),d(i,"class","avatar"),d(s,"class","bold svelte-f2ps7u"),d(p,"class","svelte-f2ps7u"),d(a,"class","question svelte-f2ps7u"),d(c,"class","answers"),Me(c,"display","grid"),Me(c,"grid-template-columns",t[6]),Me(c,"gap",".25%"),Me(c,"width","100%"),Me(c,"margin","auto"),d(l,"class","message-content svelte-f2ps7u"),d(r,"class","chat-message-center svelte-f2ps7u"),d(n,"class","chat-message svelte-f2ps7u"),this.first=n},m(E,D){H(E,n,D),S(n,r),S(r,i),S(r,o),S(r,l),S(l,a),S(a,s),S(a,f),S(a,p),S(p,h),S(l,m),S(l,c);for(let $=0;$<v.length;$+=1)v[$]&&v[$].m(c,null);t[13](c),S(n,T),k||(y=Wi(M=ta.call(null,n,t[20]===t[7].length-1)),k=!0)},p(E,D){t=E,D&128&&u!==(u=t[18].question+"")&&oe(h,u),D&643&&(_=Array(t[0]).fill(),v=yt(v,D,w,1,t,_,g,c,bt,$r,null,Sr)),D&64&&Me(c,"grid-template-columns",t[6]),M&&nn(M.update)&&D&128&&M.update.call(null,t[20]===t[7].length-1)},d(E){E&&j(n);for(let D=0;D<v.length;D+=1)v[D].d();t[13](null),k=!1,y()}}}function ea(e){let t,n,r,i,o,l,a=[],s=new Map,f,p,u,h,m,c,v=(e[4]?e[5]:"Send")+"",g,T,M,k,y=e[7];const _=w=>w[20];for(let w=0;w<y.length;w+=1){let E=Er(e,y,w),D=_(E);s.set(D,a[w]=Tr(D,E))}return{c(){t=P("div"),n=P("div"),n.innerHTML=`<h5 class="underline bold svelte-f2ps7u">Q &amp; A Comparison Instructions</h5> 
    <br/> 
    <p class="svelte-f2ps7u">Ask a question and rank the answers across the models. Drag each answer to
      rank it, in ascending order, from left-to-right. Optionally, select the
      rank for each via the corresponding dropdown.</p> 
    <br/> 
    <button class="svelte-f2ps7u">Download Data</button>`,r=Z(),i=P("div"),o=P("section"),l=P("div");for(let w=0;w<a.length;w+=1)a[w].c();f=Z(),p=P("div"),u=P("form"),h=P("input"),m=Z(),c=P("button"),g=Y(v),d(n,"class","instructions svelte-f2ps7u"),d(l,"class","chat-log svelte-f2ps7u"),d(o,"class","chatbox svelte-f2ps7u"),d(h,"class","chat-input-textarea svelte-f2ps7u"),d(h,"placeholder","Type Message Here"),d(c,"class",T="btnyousend "+(e[3]===""?"":"active")+" svelte-f2ps7u"),d(c,"type","submit"),d(u,"class","chat-input-form svelte-f2ps7u"),d(p,"class","chat-input-holder svelte-f2ps7u"),d(i,"class","ranked-chat svelte-f2ps7u"),d(t,"class","ranked-feedback-container svelte-f2ps7u")},m(w,E){H(w,t,E),S(t,n),S(t,r),S(t,i),S(i,o),S(o,l);for(let D=0;D<a.length;D+=1)a[D]&&a[D].m(l,null);S(i,f),S(i,p),S(p,u),S(u,h),Wn(h,e[3]),S(u,m),S(u,c),S(c,g),M||(k=[ie(h,"input",e[14]),ie(u,"submit",e[8])],M=!0)},p(w,[E]){E&711&&(y=w[7],a=yt(a,E,_,1,w,y,s,l,bt,Tr,null,Er)),E&8&&h.value!==w[3]&&Wn(h,w[3]),E&48&&v!==(v=(w[4]?w[5]:"Send")+"")&&oe(g,v),E&8&&T!==(T="btnyousend "+(w[3]===""?"":"active")+" svelte-f2ps7u")&&d(c,"class",T)},i:V,o:V,d(w){w&&j(t);for(let E=0;E<a.length;E+=1)a[E].d();M=!1,Se(k)}}}function ta(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function na(e){console.log("run update",e);const t=await fetch("/chat/comparator/db/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)console.log("ok",t);else{const n=await t.text();alert(n)}}function ra(e,t,n){let r,i,o;Le(e,sn,_=>n(7,o=_));let{numModels:l=1}=t,{models:a=[0]}=t,s="",f="",p=!1,u=[];pi(async()=>{if(await new Promise(_=>setTimeout(_,200)),c){const _=new I(c,{animation:150,onUpdate(w){u=_.toArray()}});u=_.toArray()}});const h=async _=>{_.preventDefault(),s=f,n(3,f=""),n(4,p=!0);let w={question:s,up_ranking_answer:"Loading...",low_ranking_answer:"Loading..."};ui(sn,o=[...o,w],o);const E=await fetch(`/chat/comparator/${s}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s})});if(E.ok){const D=await E.json();n(1,a=Object.keys(D.answer)),n(0,l=a.length);for(let $ of a)w[$]=D.answer[$];sn.update($=>($[$.length-1]=w,$))}else{const D=await E.text();alert(D)}n(4,p=!1)};let m=0;setInterval(()=>{n(10,m=(m+1)%4)},200);let c,v;function g(_,w,E){const D=w,$=_.target.value+1,O=a[E],b={qid:D,rank:parseInt($),model:O};T(b)}function T(_={}){console.log("called");let w=[];if(Object.keys(_).length!==0){const D={model:_.model,qid:parseInt(_.qid),rank:parseInt(_.rank),answer:o[_.qid][_.model]};w.push(D)}else{let D=u[0].split("-")[2],$=[];for(let[O,b]of u.entries()){const C=parseInt(b.split("-")[1]),B=a[C],Q={rank:O,model:B};$.push(Q)}for(let O of $){const b={model:O.model,qid:parseInt(D),rank:parseInt(O.rank),answer:o[D][O.model]};w.push(b)}u.forEach((O,b)=>{const C=document.querySelector(`#${O} select`);C&&(C.value=b+1)})}const E={data:w};console.log(E),na(E)}const M=(_,w,E)=>g(E,_,w);function k(_){yn[_?"unshift":"push"](()=>{c=_,n(2,c)})}function y(){f=this.value,n(3,f)}return e.$$set=_=>{"numModels"in _&&n(0,l=_.numModels),"models"in _&&n(1,a=_.models)},e.$$.update=()=>{e.$$.dirty&1&&n(6,r="1fr ".repeat(l).trim()),e.$$.dirty&1024&&n(5,i=".".repeat(m).padEnd(3)),e.$$.dirty&2052&&c&&(n(11,v=new I(c,{animation:150,dataIdAttr:"id",onUpdate(_){console.log("update"),u=v.toArray(),T({})}})),u=v.toArray(),console.log("rrrrr"))},[l,a,c,f,p,i,r,o,h,g,m,v,M,k,y]}class ia extends Xe{constructor(t){super(),Be(this,t,ra,ea,xe,{numModels:0,models:1})}}const st=wt([{model:"llama",qid:1,rank:1,answer:"Llama's first unique answer."},{model:"gpt3.5",qid:1,rank:2,answer:"GPT-3.5's first unique answer."},{model:"gpt4",qid:1,rank:3,answer:"GPT-4's first unique answer."},{model:"claude",qid:1,rank:4,answer:"Claude's first unique answer."},{model:"llama",qid:2,rank:4,answer:"Llama's second unique answer."},{model:"gpt3.5",qid:2,rank:2,answer:"GPT-3.5's second unique answer."},{model:"gpt4",qid:2,rank:4,answer:"GPT-4's second unique answer."},{model:"claude",qid:2,rank:3,answer:"'s second unique answer."}]);function Ar(e,t,n){const r=e.slice();return r[24]=t[n],r}function Nr(e,t,n){const r=e.slice();return r[24]=t[n],r[28]=n,r}function Cr(e,t,n){const r=e.slice();return r[29]=t[n],r}function xr(e,t,n){const r=e.slice();return r[29]=t[n],r}function Or(e){let t,n,r,i,o=`Q.${e[29]}`,l,a;return{c(){t=z("g"),n=z("line"),i=z("text"),l=Y(o),d(n,"class","axis-tick svelte-1nna9rx"),d(n,"x1","0"),d(n,"x2","0"),d(n,"y1",0),d(n,"y2",r=-e[6]+e[13].bottom+e[13].top),d(n,"stroke","black"),d(n,"stroke-dasharray","4"),d(i,"class","axis-text svelte-1nna9rx"),d(i,"y","15"),d(i,"text-anchor","middle"),d(t,"transform",a=`translate(${e[2](e[29])+0} ${e[6]-e[13].bottom})`),d(t,"class","svelte-1nna9rx")},m(s,f){H(s,t,f),S(t,n),S(t,i),S(i,l)},p(s,f){f[0]&64&&r!==(r=-s[6]+s[13].bottom+s[13].top)&&d(n,"y2",r),f[0]&512&&o!==(o=`Q.${s[29]}`)&&oe(l,o),f[0]&580&&a!==(a=`translate(${s[2](s[29])+0} ${s[6]-s[13].bottom})`)&&d(t,"transform",a)},d(s){s&&j(t)}}}function Ir(e){let t=Number.isInteger(e[29]),n,r=t&&Or(e);return{c(){r&&r.c(),n=ke()},m(i,o){r&&r.m(i,o),H(i,n,o)},p(i,o){o[0]&512&&(t=Number.isInteger(i[29])),t?r?r.p(i,o):(r=Or(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&j(n)}}}function Pr(e){let t,n,r=e[12].filter(l).map(Fr)[0]+"",i,o;function l(...a){return e[14](e[29],...a)}return{c(){t=z("g"),n=z("text"),i=Y(r),d(n,"class","axis-text svelte-1nna9rx"),d(n,"x","-5"),d(n,"y","0"),d(n,"text-anchor","end"),d(n,"dominant-baseline","middle"),d(t,"transform",o=`translate(${e[13].left} ${e[5](e[29])+0})`),d(t,"class","svelte-1nna9rx")},m(a,s){H(a,t,s),S(t,n),S(n,i)},p(a,s){e=a,s[0]&4128&&r!==(r=e[12].filter(l).map(Fr)[0]+"")&&oe(i,r),s[0]&32&&o!==(o=`translate(${e[13].left} ${e[5](e[29])+0})`)&&d(t,"transform",o)},d(a){a&&j(t)}}}function Rr(e,t){let n,r,i,o,l,a,s,f,p;function u(){return t[15](t[28])}function h(){return t[16](t[28])}return{key:e,first:null,c(){n=z("path"),o=z("path"),d(n,"class","model-path-outer svelte-1nna9rx"),d(n,"d",r=t[10](t[24])),d(n,"stroke","white"),d(n,"data-model",i=t[4][t[28]]),d(o,"class","model-path svelte-1nna9rx"),d(o,"d",l=t[10](t[24])),d(o,"role","img"),d(o,"stroke",a=t[11](t[4][t[28]])),d(o,"data-model",s=t[4][t[28]]),this.first=n},m(m,c){H(m,n,c),H(m,o,c),f||(p=[ie(o,"mouseover",u),ie(o,"focus",h),ie(o,"mouseout",t[17]),ie(o,"blur",t[18])],f=!0)},p(m,c){t=m,c[0]&1032&&r!==(r=t[10](t[24]))&&d(n,"d",r),c[0]&24&&i!==(i=t[4][t[28]])&&d(n,"data-model",i),c[0]&1032&&l!==(l=t[10](t[24]))&&d(o,"d",l),c[0]&2072&&a!==(a=t[11](t[4][t[28]]))&&d(o,"stroke",a),c[0]&24&&s!==(s=t[4][t[28]])&&d(o,"data-model",s)},d(m){m&&j(n),m&&j(o),f=!1,Se(p)}}}function qr(e,t){let n,r,i,o,l,a,s=t[24].rank+"",f,p,u,h;function m(){return t[19](t[24])}function c(){return t[20](t[24])}return{key:e,first:null,c(){n=z("g"),r=z("circle"),a=z("text"),f=Y(s),d(r,"r",i=t[24].answer.length/2*0+12),d(r,"fill",o=t[11](t[24].model)),d(r,"stroke","white"),d(r,"class","model-circle svelte-1nna9rx"),d(r,"role","img"),d(r,"data-model",l=t[24].model),d(a,"class","bump-text svelte-1nna9rx"),d(a,"text-anchor","middle"),d(a,"alignment-baseline","middle"),d(a,"color","white"),d(a,"fill","white"),d(n,"transform",p=`translate(${t[2](t[24].qid)}, ${t[5](t[24].rank)})`),d(n,"class","svelte-1nna9rx"),this.first=n},m(v,g){H(v,n,g),S(n,r),S(n,a),S(a,f),u||(h=[ie(r,"mouseover",m),ie(r,"focus",c),ie(r,"mouseout",t[21]),ie(r,"blur",t[22])],u=!0)},p(v,g){t=v,g[0]&256&&i!==(i=t[24].answer.length/2*0+12)&&d(r,"r",i),g[0]&2304&&o!==(o=t[11](t[24].model))&&d(r,"fill",o),g[0]&256&&l!==(l=t[24].model)&&d(r,"data-model",l),g[0]&256&&s!==(s=t[24].rank+"")&&oe(f,s),g[0]&292&&p!==(p=`translate(${t[2](t[24].qid)}, ${t[5](t[24].rank)})`)&&d(n,"transform",p)},d(v){v&&j(n),u=!1,Se(h)}}}function oa(e){let t,n,r,i,o,l,a,s,f,p,u,h,m,c,v=[],g=new Map,T,M=[],k=new Map,y,_,w,E,D,$=e[9],O=[];for(let N=0;N<$.length;N+=1)O[N]=Ir(xr(e,$,N));let b=e[5].domain(),C=[];for(let N=0;N<b.length;N+=1)C[N]=Pr(Cr(e,b,N));let B=e[3];const Q=N=>N[28];for(let N=0;N<B.length;N+=1){let q=Nr(e,B,N),x=Q(q);g.set(x,v[N]=Rr(x,q))}let ee=e[8];const ne=N=>N[24].model+N[24].qid;for(let N=0;N<ee.length;N+=1){let q=Ar(e,ee,N),x=ne(q);k.set(x,M[N]=qr(x,q))}return{c(){t=P("div"),n=z("svg"),r=z("line");for(let N=0;N<O.length;N+=1)O[N].c();a=ke();for(let N=0;N<C.length;N+=1)C[N].c();s=z("text"),p=z("text"),m=z("text");for(let N=0;N<v.length;N+=1)v[N].c();T=ke();for(let N=0;N<M.length;N+=1)M[N].c();y=z("text"),_=Y("Per-Question Ranks"),w=z("text"),E=Y("Answer ranks over time, by model."),d(r,"class","axis-line svelte-1nna9rx"),d(r,"x1",e[13].left),d(r,"x2",i=e[7]-e[13].right),d(r,"y1",o=e[6]-e[13].bottom),d(r,"y2",l=e[6]-e[13].bottom),d(s,"class","chart-title svelte-1nna9rx"),d(s,"y",e[13].top/2),d(s,"x",f=(e[7]+e[13].left)/2),d(s,"text-anchor","middle"),d(p,"class","axis-label svelte-1nna9rx"),d(p,"y",u=e[6]+e[13].bottom+10),d(p,"x",h=(e[7]+e[13].left)/2),d(p,"text-anchor","middle"),d(m,"class","axis-label svelte-1nna9rx"),d(m,"y",e[13].left/2),d(m,"x",c=-(e[6]/2)),d(m,"text-anchor","middle"),d(m,"transform","rotate(-90)"),d(y,"class","chart-title svelte-1nna9rx"),d(y,"y",e[13].top/2),d(y,"x",e[13].left),d(y,"text-anchor","start"),d(w,"class","chart-subtitle svelte-1nna9rx"),d(w,"y",e[13].top/2+15),d(w,"x",e[13].left),d(w,"opacity",".6"),d(w,"text-anchor","start"),d(n,"width",e[1]),d(n,"height",e[0]),d(n,"class","svelte-1nna9rx"),d(t,"id","chart-holder"),d(t,"class","svelte-1nna9rx"),ot(()=>e[23].call(t))},m(N,q){H(N,t,q),S(t,n),S(n,r);for(let x=0;x<O.length;x+=1)O[x]&&O[x].m(n,null);S(n,a);for(let x=0;x<C.length;x+=1)C[x]&&C[x].m(n,null);S(n,s),S(n,p),S(n,m);for(let x=0;x<v.length;x+=1)v[x]&&v[x].m(n,null);S(n,T);for(let x=0;x<M.length;x+=1)M[x]&&M[x].m(n,null);S(n,y),S(y,_),S(n,w),S(w,E),D=In(t,e[23].bind(t))},p(N,q){if(q[0]&128&&i!==(i=N[7]-N[13].right)&&d(r,"x2",i),q[0]&64&&o!==(o=N[6]-N[13].bottom)&&d(r,"y1",o),q[0]&64&&l!==(l=N[6]-N[13].bottom)&&d(r,"y2",l),q[0]&8772){$=N[9];let x;for(x=0;x<$.length;x+=1){const Ye=xr(N,$,x);O[x]?O[x].p(Ye,q):(O[x]=Ir(Ye),O[x].c(),O[x].m(n,a))}for(;x<O.length;x+=1)O[x].d(1);O.length=$.length}if(q[0]&12320){b=N[5].domain();let x;for(x=0;x<b.length;x+=1){const Ye=Cr(N,b,x);C[x]?C[x].p(Ye,q):(C[x]=Pr(Ye),C[x].c(),C[x].m(n,s))}for(;x<C.length;x+=1)C[x].d(1);C.length=b.length}q[0]&128&&f!==(f=(N[7]+N[13].left)/2)&&d(s,"x",f),q[0]&64&&u!==(u=N[6]+N[13].bottom+10)&&d(p,"y",u),q[0]&128&&h!==(h=(N[7]+N[13].left)/2)&&d(p,"x",h),q[0]&64&&c!==(c=-(N[6]/2))&&d(m,"x",c),q[0]&3096&&(B=N[3],v=yt(v,q,Q,1,N,B,g,n,bt,Rr,T,Nr)),q[0]&2340&&(ee=N[8],M=yt(M,q,ne,1,N,ee,k,n,bt,qr,y,Ar)),q[0]&2&&d(n,"width",N[1]),q[0]&1&&d(n,"height",N[0])},i:V,o:V,d(N){N&&j(t),he(O,N),he(C,N);for(let q=0;q<v.length;q+=1)v[q].d();for(let q=0;q<M.length;q+=1)M[q].d();D()}}}const Fr=e=>e.model;function la(e,t,n){let r,i,o,l,a,s,f,p,u,h,m;Le(e,st,b=>n(8,m=b));let c,v,g={top:35,bottom:15,left:160,right:0};const T=(b,C)=>C.rank==b,M=b=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(C=>{C.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${i[b]}"], .model-circle[data-model="${i[b]}"]`).forEach(C=>{C.style.opacity=1})},k=b=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(C=>{C.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${i[b]}"], .model-circle[data-model="${i[b]}"]`).forEach(C=>{C.style.opacity=1})},y=()=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(b=>{b.style.opacity=1})},_=()=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(b=>{b.style.opacity=1})},w=b=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(C=>{C.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${b.model}"], .model-circle[data-model="${b.model}"]`).forEach(C=>{C.style.opacity=1})},E=b=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(C=>{C.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${b.model}"], .model-circle[data-model="${b.model}"]`).forEach(C=>{C.style.opacity=1})},D=()=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(b=>{b.style.opacity=1})},$=()=>{document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(b=>{b.style.opacity=1})};function O(){v=this.offsetWidth,c=this.offsetHeight,n(1,v),n(0,c)}return e.$$.update=()=>{e.$$.dirty[0]&256&&n(12,r=m.filter(b=>b.qid===3).map(b=>({model:b.model,rank:b.rank}))),e.$$.dirty[0]&256&&console.log("firstData",m),e.$$.dirty[0]&256&&n(4,i=Array.from(new Set(m.map(b=>b.model)))),e.$$.dirty[0]&16&&console.log("models",i),e.$$.dirty[0]&2&&n(7,o=v-g.left-g.right),e.$$.dirty[0]&1&&n(6,l=c-g.top-g.bottom),e.$$.dirty[0]&384&&n(2,a=hr().domain(m.map(b=>b.qid)).padding(.3).range([g.left,o-g.right])),e.$$.dirty[0]&320&&n(5,s=hr().domain(m.map(b=>b.rank)).padding(1).range([g.top,l-g.bottom])),e.$$.dirty[0]&256&&n(11,f=Tt().domain(m.map(b=>b.model)).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F","red"])),e.$$.dirty[0]&36&&n(10,p=Kl().x(b=>a(b.qid)).y(b=>s(b.rank))),e.$$.dirty[0]&272&&n(3,u=i.map(b=>m.filter(C=>C.model===b))),e.$$.dirty[0]&8&&console.log("md",u),e.$$.dirty[0]&256&&console.log("ranks",m.map(b=>b.rank)),e.$$.dirty[0]&4&&n(9,h=a.domain().length>10?a.domain().filter((b,C)=>C%2===0):a.domain())},[c,v,a,u,i,s,l,o,m,h,p,f,r,g,T,M,k,y,_,w,E,D,$,O]}class aa extends Xe{constructor(t){super(),Be(this,t,la,oa,xe,{},null,[-1,-1])}}function jr(e,t,n){const r=e.slice();return r[13]=t[n],r[15]=n,r}function zr(e,t,n){const r=e.slice();return r[16]=t[n],r}function Hr(e,t,n){const r=e.slice();return r[16]=t[n],r}function Lr(e){let t,n,r=e[16]+"",i,o;return{c(){t=z("g"),n=z("text"),i=Y(r),d(n,"class","axis-text svelte-1y9gffu"),d(n,"x","-5"),d(n,"y","0"),d(n,"text-anchor","end"),d(t,"transform",o=`translate(${e[9].left} ${e[8](e[16])+e[8].bandwidth()/2})`)},m(l,a){H(l,t,a),S(t,n),S(n,i)},p(l,a){a&4&&r!==(r=l[16]+"")&&oe(i,r),a&260&&o!==(o=`translate(${l[9].left} ${l[8](l[16])+l[8].bandwidth()/2})`)&&d(t,"transform",o)},d(l){l&&j(t)}}}function Br(e){let t,n,r=e[16]+"",i,o;return{c(){t=z("g"),n=z("text"),i=Y(r),d(n,"class","axis-text svelte-1y9gffu"),d(n,"y","15"),d(n,"text-anchor","middle"),d(t,"transform",o=`translate(${e[7](e[16])}, ${e[4]-e[9].bottom})`)},m(l,a){H(l,t,a),S(t,n),S(n,i)},p(l,a){a&128&&r!==(r=l[16]+"")&&oe(i,r),a&144&&o!==(o=`translate(${l[7](l[16])}, ${l[4]-l[9].bottom})`)&&d(t,"transform",o)},d(l){l&&j(t)}}}function Xr(e){let t,n=e[16]%2==0&&Br(e);return{c(){n&&n.c(),t=ke()},m(r,i){n&&n.m(r,i),H(r,t,i)},p(r,i){r[16]%2==0?n?n.p(r,i):(n=Br(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&j(t)}}}function Yr(e){let t,n,r,i,o,l,a,s=e[13].avgRank.toFixed(2)+"",f,p,u;return{c(){t=z("rect"),a=z("text"),f=Y(s),d(t,"y",n=e[8](e[13].model)),d(t,"x",e[9].left),d(t,"width",r=e[7](e[13].avgRank)-e[9].left),d(t,"height",i=e[8].bandwidth()),d(t,"fill",o=e[6](e[13].model)),d(t,"class","model-path"),d(t,"data-model",l=e[5][e[15]]),d(a,"class","label-text svelte-1y9gffu"),d(a,"y",p=e[8](e[13].model)+e[8].bandwidth()/2),d(a,"x",u=e[7](e[13].avgRank)+5),d(a,"text-anchor","start"),d(a,"dominant-baseline","middle")},m(h,m){H(h,t,m),H(h,a,m),S(a,f)},p(h,m){m&260&&n!==(n=h[8](h[13].model))&&d(t,"y",n),m&132&&r!==(r=h[7](h[13].avgRank)-h[9].left)&&d(t,"width",r),m&256&&i!==(i=h[8].bandwidth())&&d(t,"height",i),m&68&&o!==(o=h[6](h[13].model))&&d(t,"fill",o),m&32&&l!==(l=h[5][h[15]])&&d(t,"data-model",l),m&4&&s!==(s=h[13].avgRank.toFixed(2)+"")&&oe(f,s),m&260&&p!==(p=h[8](h[13].model)+h[8].bandwidth()/2)&&d(a,"y",p),m&132&&u!==(u=h[7](h[13].avgRank)+5)&&d(a,"x",u)},d(h){h&&j(t),h&&j(a)}}}function sa(e){let t,n,r,i,o,l,a,s,f,p,u,h,m=e[2].map(Wr),c=[];for(let k=0;k<m.length;k+=1)c[k]=Lr(Hr(e,m,k));let v=e[7].ticks(),g=[];for(let k=0;k<v.length;k+=1)g[k]=Xr(zr(e,v,k));let T=e[2],M=[];for(let k=0;k<T.length;k+=1)M[k]=Yr(jr(e,T,k));return{c(){t=P("div"),n=z("svg");for(let k=0;k<c.length;k+=1)c[k].c();r=ke();for(let k=0;k<g.length;k+=1)g[k].c();i=ke();for(let k=0;k<M.length;k+=1)M[k].c();o=z("line"),f=z("text"),p=Y("Average Rank"),u=z("text"),d(o,"class","axis-line svelte-1y9gffu"),d(o,"x1",e[9].left),d(o,"x2",l=e[3]-e[9].right),d(o,"y1",a=e[4]-e[9].bottom),d(o,"y2",s=e[4]-e[9].bottom),d(f,"class","chart-title"),d(f,"y",e[9].top/2),d(f,"x",e[9].left),d(f,"text-anchor","start"),d(u,"class","chart-subtitle"),d(u,"y",e[9].top/2+15),d(u,"x",e[9].left),d(u,"opacity",".6"),d(u,"text-anchor","start"),d(n,"width",e[1]),d(n,"height",e[0]),d(t,"id","bar-chart-holder"),d(t,"class","svelte-1y9gffu"),ot(()=>e[12].call(t))},m(k,y){H(k,t,y),S(t,n);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(n,null);S(n,r);for(let _=0;_<g.length;_+=1)g[_]&&g[_].m(n,null);S(n,i);for(let _=0;_<M.length;_+=1)M[_]&&M[_].m(n,null);S(n,o),S(n,f),S(f,p),S(n,u),h=In(t,e[12].bind(t))},p(k,[y]){if(y&772){m=k[2].map(Wr);let _;for(_=0;_<m.length;_+=1){const w=Hr(k,m,_);c[_]?c[_].p(w,y):(c[_]=Lr(w),c[_].c(),c[_].m(n,r))}for(;_<c.length;_+=1)c[_].d(1);c.length=m.length}if(y&656){v=k[7].ticks();let _;for(_=0;_<v.length;_+=1){const w=zr(k,v,_);g[_]?g[_].p(w,y):(g[_]=Xr(w),g[_].c(),g[_].m(n,i))}for(;_<g.length;_+=1)g[_].d(1);g.length=v.length}if(y&996){T=k[2];let _;for(_=0;_<T.length;_+=1){const w=jr(k,T,_);M[_]?M[_].p(w,y):(M[_]=Yr(w),M[_].c(),M[_].m(n,o))}for(;_<M.length;_+=1)M[_].d(1);M.length=T.length}y&8&&l!==(l=k[3]-k[9].right)&&d(o,"x2",l),y&16&&a!==(a=k[4]-k[9].bottom)&&d(o,"y1",a),y&16&&s!==(s=k[4]-k[9].bottom)&&d(o,"y2",s),y&2&&d(n,"width",k[1]),y&1&&d(n,"height",k[0])},i:V,o:V,d(k){k&&j(t),he(c,k),he(g,k),he(M,k),h()}}}const Wr=e=>e.model;function fa(e,t,n){let r,i,o,l,a,s,f,p,u;Le(e,st,g=>n(11,u=g));let h=300,m=500,c={top:50,bottom:0,left:100,right:0};function v(){m=this.offsetWidth,h=this.offsetHeight,n(1,m),n(0,h)}return e.$$.update=()=>{e.$$.dirty&2048&&n(10,r=u.reduce((g,T)=>(g[T.model]?(g[T.model].sum+=T.rank,g[T.model].count++):g[T.model]={sum:T.rank,count:1},g),{})),e.$$.dirty&1024&&n(2,i=Object.keys(r).map(g=>({model:g,avgRank:r[g].sum/r[g].count}))),e.$$.dirty&2&&n(3,o=m-c.left-c.right),e.$$.dirty&1&&n(4,l=h-c.top-c.bottom),e.$$.dirty&20&&n(8,a=kt().rangeRound([c.top,l-c.bottom]).padding(.05).domain(i.map(g=>g.model))),e.$$.dirty&12&&n(7,s=Ln().rangeRound([c.left,o-c.right]).domain([0,Ni(i,g=>g.avgRank)])),e.$$.dirty&4&&n(6,f=Tt().domain(i.map(g=>g.model)).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F"])),e.$$.dirty&2048&&n(5,p=Array.from(new Set(u.map(g=>g.model))))},[h,m,i,o,l,p,f,s,a,c,r,u,v]}class ua extends Xe{constructor(t){super(),Be(this,t,fa,sa,xe,{})}}function Gr(e,t,n){const r=e.slice();return r[20]=t[n],r[22]=n,r}function Qr(e,t,n){const r=e.slice();return r[23]=t[n],r[25]=n,r}function Ur(e,t,n){const r=e.slice();return r[23]=t[n],r}function Vr(e){let t,n=e[23].key+"",r,i,o;function l(){return e[10](e[23])}return{c(){t=P("th"),r=Y(n),d(t,"class","svelte-owgjbp")},m(a,s){H(a,t,s),S(t,r),i||(o=ie(t,"click",l),i=!0)},p(a,s){e=a,s&64&&n!==(n=e[23].key+"")&&oe(r,n)},d(a){a&&j(t),i=!1,o()}}}function Zr(e,t){let n,r=(t[20][t[23].key].length>Kr&&t[4]!==`${t[22]}-${t[25]}`?`${t[20][t[23].key].substring(0,40)}...`:t[20][t[23].key])+"",i,o,l,a;function s(){return t[11](t[22],t[25])}return{key:e,first:null,c(){n=P("td"),i=Y(r),d(n,"class",o="cell-type-"+t[23].type+" svelte-owgjbp"),Me(n,"background",t[23].key==="change"?t[7](t[20][t[23].key]):"none"),Gn(n,"active",t[4]===`${t[22]}-${t[25]}`),this.first=n},m(f,p){H(f,n,p),S(n,i),l||(a=ie(n,"click",s),l=!0)},p(f,p){t=f,p&112&&r!==(r=(t[20][t[23].key].length>Kr&&t[4]!==`${t[22]}-${t[25]}`?`${t[20][t[23].key].substring(0,40)}...`:t[20][t[23].key])+"")&&oe(i,r),p&64&&o!==(o="cell-type-"+t[23].type+" svelte-owgjbp")&&d(n,"class",o),p&96&&Me(n,"background",t[23].key==="change"?t[7](t[20][t[23].key]):"none"),p&80&&Gn(n,"active",t[4]===`${t[22]}-${t[25]}`)},d(f){f&&j(n),l=!1,a()}}}function Jr(e){let t,n=[],r=new Map,i,o=e[6];const l=a=>a[23].key;for(let a=0;a<o.length;a+=1){let s=Qr(e,o,a),f=l(s);r.set(f,n[a]=Zr(f,s))}return{c(){t=P("tr");for(let a=0;a<n.length;a+=1)n[a].c();i=Z(),d(t,"class","svelte-owgjbp")},m(a,s){H(a,t,s);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null);S(t,i)},p(a,s){s&240&&(o=a[6],n=yt(n,s,l,1,a,o,r,t,bt,Zr,i,Qr))},d(a){a&&j(t);for(let s=0;s<n.length;s+=1)n[s].d()}}}function ca(e){let t,n,r,i,o,l,a,s,f,p=e[6],u=[];for(let c=0;c<p.length;c+=1)u[c]=Vr(Ur(e,p,c));let h=e[5],m=[];for(let c=0;c<h.length;c+=1)m[c]=Jr(Gr(e,h,c));return{c(){t=P("div"),n=P("div"),r=P("table"),i=P("thead");for(let c=0;c<u.length;c+=1)u[c].c();o=Z(),l=P("tbody");for(let c=0;c<m.length;c+=1)m[c].c();s=Z(),f=P("br"),d(i,"class","svelte-owgjbp"),d(l,"class","svelte-owgjbp"),d(r,"class",a="pretty-table "+e[0].style+" svelte-owgjbp"),d(n,"class","svelte-owgjbp"),d(f,"class","svelte-owgjbp"),d(t,"class","table svelte-owgjbp")},m(c,v){H(c,t,v),S(t,n),S(n,r),S(r,i);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(i,null);S(r,o),S(r,l);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(l,null);S(t,s),S(t,f)},p(c,[v]){if(v&78){p=c[6];let g;for(g=0;g<p.length;g+=1){const T=Ur(c,p,g);u[g]?u[g].p(T,v):(u[g]=Vr(T),u[g].c(),u[g].m(i,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=p.length}if(v&240){h=c[5];let g;for(g=0;g<h.length;g+=1){const T=Gr(c,h,g);m[g]?m[g].p(T,v):(m[g]=Jr(T),m[g].c(),m[g].m(l,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=h.length}v&1&&a!==(a="pretty-table "+c[0].style+" svelte-owgjbp")&&d(r,"class",a)},i:V,o:V,d(c){c&&j(t),he(u,c),he(m,c)}}}let Kr=25,da=0;function ha(e,t,n){let r,i,o,l;Le(e,st,y=>n(9,l=y));let a={};const s=on(".2f");function f(y){let _=y.reduce((E,D)=>(E[D.model]||(E[D.model]=[]),E[D.model].push(D.rank),E),{});return Object.entries(_).map(([E,D])=>{let $=D.reduce((b,C)=>(b[C]=(b[C]||0)+1,b),{}),O=Object.entries($).reduce((b,C)=>C[1]>b[1]?C:b)[0];return{model:E,overall_rank:Number(O),average_rank:s(Zo(D)),standard_deviation_rank:s(Ho(D))}})}a={...{columns:{},style:"normal",paged:25},...a};const u=Ln().domain([-1,0,1]).range(["#FF5470","#f8f8f8","#00ebc7"]);let{sortable:h,index:m,paged:c}=a,v,g=!0;if(h&&m)throw new Error("A table can either be ranked or sortable, but not both");m=1,h=1;let T=null;const M=y=>{h&&(v===y.key&&n(2,g=!g),n(1,v=y.key))},k=(y,_)=>{n(4,T=T===`${y}-${_}`?null:`${y}-${_}`)};return e.$$.update=()=>{if(e.$$.dirty&512,e.$$.dirty&512&&n(8,r=f(l)),e.$$.dirty&774){v&&n(8,r=r.slice().sort((_,w)=>{let E=_[v],D=w[v];if(E==D)return JSON.stringify(_).localeCompare(JSON.stringify(w));let $=E>D?1:E<D?-1:0;return g&&($=-$),$}));let y=da*c;n(5,o=r.slice(y,y+(c||r.length))),c&&Math.ceil(l.length/c)}e.$$.dirty&257&&n(6,i=Object.keys(r[0]).map(y=>{const _=a.columns[y]||{};return{key:y,type:_.type||typeof r[0][y],options:_}}))},n(5,o=[]),[a,v,g,h,T,o,i,u,r,l,M,k]}class pa extends Xe{constructor(t){super(),Be(this,t,ha,ca,xe,{})}}function ei(e,t,n){const r=e.slice();return r[19]=t[n],r}function ti(e,t,n){const r=e.slice();return r[22]=t[n],r}function ni(e,t,n){const r=e.slice();return r[25]=t[n],r[27]=n,r}function ri(e){let t,n=e[25]+"",r,i,o,l=e[25]+"",a,s;return{c(){t=z("text"),r=Y(n),o=z("text"),a=Y(l),d(t,"class","axis-text svelte-t6wv8i"),d(t,"x",i=e[7].left+e[5](e[25])+e[5].bandwidth()/2),d(t,"y",e[7].top-10),d(t,"text-anchor","middle"),d(o,"class","axis-text svelte-t6wv8i"),d(o,"x",e[7].left-10),d(o,"y",s=e[7].top+e[4](e[25])+e[4].bandwidth()/2),d(o,"text-anchor","end"),d(o,"dominant-baseline","middle")},m(f,p){H(f,t,p),S(t,r),H(f,o,p),S(o,a)},p(f,p){p&8&&n!==(n=f[25]+"")&&oe(r,n),p&40&&i!==(i=f[7].left+f[5](f[25])+f[5].bandwidth()/2)&&d(t,"x",i),p&8&&l!==(l=f[25]+"")&&oe(a,l),p&24&&s!==(s=f[7].top+f[4](f[25])+f[4].bandwidth()/2)&&d(o,"y",s)},d(f){f&&j(t),f&&j(o)}}}function ii(e){let t,n,r,i,o,l,a,s,f=e[6](e[2][e[19]][e[22]])+"",p,u,h,m;return{c(){t=z("rect"),s=z("text"),p=Y(f),d(t,"x",n=e[7].left+e[5](e[22])),d(t,"y",r=e[7].top+e[4](e[19])),d(t,"width",i=e[5].bandwidth()),d(t,"height",o=e[4].bandwidth()),d(t,"fill",l=e[8](e[19],e[22])),d(t,"rx","4"),d(t,"ry","4"),d(t,"class","model-path"),d(t,"data-model",a=e[19]),d(s,"x",u=e[7].left+e[5](e[22])+e[5].bandwidth()/2),d(s,"y",h=e[7].top+e[4](e[19])+e[4].bandwidth()/2),d(s,"text-anchor","middle"),d(s,"dominant-baseline","middle"),d(s,"class","model-path"),d(s,"data-model",m=e[19])},m(c,v){H(c,t,v),H(c,s,v),S(s,p)},p(c,v){v&40&&n!==(n=c[7].left+c[5](c[22]))&&d(t,"x",n),v&24&&r!==(r=c[7].top+c[4](c[19]))&&d(t,"y",r),v&32&&i!==(i=c[5].bandwidth())&&d(t,"width",i),v&16&&o!==(o=c[4].bandwidth())&&d(t,"height",o),v&8&&l!==(l=c[8](c[19],c[22]))&&d(t,"fill",l),v&8&&a!==(a=c[19])&&d(t,"data-model",a),v&12&&f!==(f=c[6](c[2][c[19]][c[22]])+"")&&oe(p,f),v&40&&u!==(u=c[7].left+c[5](c[22])+c[5].bandwidth()/2)&&d(s,"x",u),v&24&&h!==(h=c[7].top+c[4](c[19])+c[4].bandwidth()/2)&&d(s,"y",h),v&8&&m!==(m=c[19])&&d(s,"data-model",m)},d(c){c&&j(t),c&&j(s)}}}function oi(e){let t,n=e[3],r=[];for(let i=0;i<n.length;i+=1)r[i]=ii(ti(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=ke()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);H(i,t,o)},p(i,o){if(o&508){n=i[3];let l;for(l=0;l<n.length;l+=1){const a=ti(i,n,l);r[l]?r[l].p(a,o):(r[l]=ii(a),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){he(r,i),i&&j(t)}}}function ma(e){let t,n,r,i,o,l,a,s=e[3],f=[];for(let h=0;h<s.length;h+=1)f[h]=ri(ni(e,s,h));let p=e[3],u=[];for(let h=0;h<p.length;h+=1)u[h]=oi(ei(e,p,h));return{c(){t=P("div"),n=z("svg");for(let h=0;h<f.length;h+=1)f[h].c();r=ke();for(let h=0;h<u.length;h+=1)u[h].c();i=z("text"),o=Y("Relative Performance"),l=z("text"),d(i,"class","chart-title"),d(i,"y",e[7].top/2),d(i,"x",e[7].left),d(i,"text-anchor","start"),d(l,"class","chart-subtitle svelte-t6wv8i"),d(l,"y",e[7].top/2+15),d(l,"x",e[7].left),d(l,"opacity",".6"),d(l,"text-anchor","start"),d(n,"width",e[1]),d(n,"height",e[0]),d(t,"id","heatmap-holder"),d(t,"class","svelte-t6wv8i"),ot(()=>e[16].call(t))},m(h,m){H(h,t,m),S(t,n);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(n,null);S(n,r);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(n,null);S(n,i),S(i,o),S(n,l),a=In(t,e[16].bind(t))},p(h,[m]){if(m&184){s=h[3];let c;for(c=0;c<s.length;c+=1){const v=ni(h,s,c);f[c]?f[c].p(v,m):(f[c]=ri(v),f[c].c(),f[c].m(n,r))}for(;c<f.length;c+=1)f[c].d(1);f.length=s.length}if(m&508){p=h[3];let c;for(c=0;c<p.length;c+=1){const v=ei(h,p,c);u[c]?u[c].p(v,m):(u[c]=oi(v),u[c].c(),u[c].m(n,i))}for(;c<u.length;c+=1)u[c].d(1);u.length=p.length}m&2&&d(n,"width",h[1]),m&1&&d(n,"height",h[0])},i:V,o:V,d(h){h&&j(t),he(f,h),he(u,h),a()}}}function ga(e,t,n){let r,i,o,l,a,s,f,p,u,h,m;Le(e,st,_=>n(15,m=_));const c=on(".1f");function v(_){let w=_.reduce(($,O)=>($[O.qid]||($[O.qid]=[]),$[O.qid].push(O),$),{}),E=Array.from(new Set(_.map($=>$.model))),D=E.reduce(($,O)=>($[O]=E.reduce((b,C)=>(b[C]={sum:0,count:0},b),{}),$),{});for(let $ in w){let O=w[$];for(let b of E)for(let C of E){let B=O.find(ee=>ee.model===b),Q=O.find(ee=>ee.model===C);B&&Q&&(D[b][C].sum+=Q.rank-B.rank,D[b][C].count++)}}for(let $ in D)for(let O in D[$])D[$][O].count>0?D[$][O]=D[$][O].sum/D[$][O].count:D[$][O]=0;return D}let g=500,T=500,M={top:50,bottom:0,left:65,right:25};function k(_,w){let E=r[_][w];return E===0?"white":E>=0?h(_):h(w)}function y(){T=this.offsetWidth,g=this.offsetHeight,n(1,T),n(0,g)}return e.$$.update=()=>{e.$$.dirty&32768&&n(2,r=v(m)),e.$$.dirty&32768&&n(3,i=Array.from(new Set(m.map(_=>_.model)))),e.$$.dirty&2&&n(14,o=T-M.left-M.right),e.$$.dirty&1&&n(13,l=g-M.top-M.bottom),e.$$.dirty&16392&&n(5,a=kt().range([0,o]).domain(i).padding(.05)),e.$$.dirty&8200&&n(4,s=kt().range([0,l]).domain(i).padding(.05)),e.$$.dirty&4&&n(12,f=Object.values(r).flatMap(_=>Object.values(_))),e.$$.dirty&4096&&n(11,p=Vo(f)),e.$$.dirty&4096&&n(10,u=Ni(f)),e.$$.dirty&8&&n(9,h=Tt().domain(i).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F"])),e.$$.dirty&3592&&i.reduce((_,w)=>(_[w]=ji().domain([p,u]).interpolator(An("white",h(w))),_),{})},[g,T,r,i,s,a,c,M,k,h,u,p,f,l,o,m,y]}class _a extends Xe{constructor(t){super(),Be(this,t,ga,ma,xe,{})}}function va(e){let t;return{c(){t=P("div"),t.innerHTML="<h5>To view the comparison dashboard, you must first rank some comparisons!</h5>",d(t,"class","holder svelte-1gze3r0")},m(n,r){H(n,t,r)},i:V,o:V,d(n){n&&j(t)}}}function ba(e){let t,n,r,i,o,l,a,s,f,p,u,h,m,c,v,g,T,M,k;return l=new aa({}),f=new pa({}),v=new ua({}),M=new _a({}),{c(){t=P("div"),n=P("div"),r=P("div"),r.innerHTML=`<h4 class="svelte-1gze3r0">Model Comparisons</h4> 
          <p class="svelte-1gze3r0">View the performance of your model over time. GPU stats are
            available to the right.</p>`,i=Z(),o=P("div"),Ke(l.$$.fragment),a=Z(),s=P("div"),Ke(f.$$.fragment),p=Z(),u=P("div"),h=P("div"),m=Z(),c=P("div"),Ke(v.$$.fragment),g=Z(),T=P("div"),Ke(M.$$.fragment),d(r,"class","chart-captions svelte-1gze3r0"),d(o,"class","eval-main"),d(s,"class","eval-table svelte-1gze3r0"),d(n,"class","left-charts svelte-1gze3r0"),d(h,"class","right-chart-1 svelte-1gze3r0"),d(c,"class","right-chart-2 svelte-1gze3r0"),d(T,"class","right-chart-3 svelte-1gze3r0"),d(u,"class","right-charts svelte-1gze3r0"),d(t,"class","eval-container svelte-1gze3r0")},m(y,_){H(y,t,_),S(t,n),S(n,r),S(n,i),S(n,o),Fe(l,o,null),S(n,a),S(n,s),Fe(f,s,null),S(t,p),S(t,u),S(u,h),S(u,m),S(u,c),Fe(v,c,null),S(u,g),S(u,T),Fe(M,T,null),k=!0},i(y){k||(_e(l.$$.fragment,y),_e(f.$$.fragment,y),_e(v.$$.fragment,y),_e(M.$$.fragment,y),k=!0)},o(y){Ae(l.$$.fragment,y),Ae(f.$$.fragment,y),Ae(v.$$.fragment,y),Ae(M.$$.fragment,y),k=!1},d(y){y&&j(t),je(l),je(f),je(v),je(M)}}}function ya(e){let t,n,r,i,o,l;const a=[ba,va],s=[];function f(p,u){return p[0].length>0?0:1}return i=f(e),o=s[i]=a[i](e),{c(){t=P("div"),n=P("div"),n.innerHTML=`<h5 class="underline bold svelte-1gze3r0">Comparisons</h5> 
    <p class="svelte-1gze3r0">This panes represents the training performance of your model.</p> 
    <button class="svelte-1gze3r0">Download Data</button>`,r=Z(),o.c(),d(n,"class","instructions svelte-1gze3r0"),d(t,"class","main-container svelte-1gze3r0")},m(p,u){H(p,t,u),S(t,n),S(t,r),s[i].m(t,null),l=!0},p(p,[u]){let h=i;i=f(p),i!==h&&(no(),Ae(s[h],1,1,()=>{s[h]=null}),ro(),o=s[i],o||(o=s[i]=a[i](p),o.c()),_e(o,1),o.m(t,null))},i(p){l||(_e(o),l=!0)},o(p){Ae(o),l=!1},d(p){p&&j(t),s[i].d()}}}function wa(e,t,n){let r;Le(e,st,o=>n(0,r=o));async function i(){const l=await(await fetch("/chat/comparator/db/retrieve")).json();console.log("uploooo",l);const s=l.data.map(f=>({model:f.model,answer:f.answer,qid:parseInt(f.qid),rank:parseInt(f.rank)}));ui(st,r=[...s],r)}return pi(()=>{i()}),e.$$.update=()=>{e.$$.dirty&1&&console.log("DDDDDD",r,r.length)},[r]}class ka extends Xe{constructor(t){super(),Be(this,t,wa,ya,xe,{})}}function li(e,t,n){const r=e.slice();return r[6]=t[n],r}function ai(e){let t,n=e[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=si(li(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=ke()},m(i,o){for(let l=0;l<r.length;l+=1)r[l]&&r[l].m(i,o);H(i,t,o)},p(i,o){if(o&5){n=i[0];let l;for(l=0;l<n.length;l+=1){const a=li(i,n,l);r[l]?r[l].p(a,o):(r[l]=si(a),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=n.length}},d(i){he(r,i),i&&j(t)}}}function si(e){let t,n=e[6].svelte_component+"",r,i,o,l;function a(){return e[3](e[6])}return{c(){t=P("button"),r=Y(n),d(t,"aria-label",i=`Load ${e[6].svelte_component} component`)},m(s,f){H(s,t,f),S(t,r),o||(l=ie(t,"click",a),o=!0)},p(s,f){e=s,f&1&&n!==(n=e[6].svelte_component+"")&&oe(r,n),f&1&&i!==(i=`Load ${e[6].svelte_component} component`)&&d(t,"aria-label",i)},d(s){s&&j(t),o=!1,l()}}}function Ea(e){let t,n,r,i,o,l=e[0].length>1&&ai(e);return n=new ia({}),i=new ka({}),{c(){l&&l.c(),t=Z(),Ke(n.$$.fragment),r=Z(),Ke(i.$$.fragment)},m(a,s){l&&l.m(a,s),H(a,t,s),Fe(n,a,s),H(a,r,s),Fe(i,a,s),o=!0},p(a,[s]){a[0].length>1?l?l.p(a,s):(l=ai(a),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},i(a){o||(_e(n.$$.fragment,a),_e(i.$$.fragment,a),o=!0)},o(a){Ae(n.$$.fragment,a),Ae(i.$$.fragment,a),o=!1},d(a){l&&l.d(a),a&&j(t),je(n,a),a&&j(r),je(i,a)}}}function Sa(e,t,n){let r;const i=wt([]);Le(e,i,s=>n(0,r=s));const o=wt(null),l=s=>{o.set(s)};return fetch("/components").then(s=>{if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s.json()}).then(s=>{i.set(s),o.set(s[0])}).catch(s=>{console.log("Fetch request failed",s)}),[r,i,l,s=>l(s)]}class Da extends Xe{constructor(t){super(),Be(this,t,Sa,Ea,xe,{})}}new Da({target:document.getElementById("app")});
