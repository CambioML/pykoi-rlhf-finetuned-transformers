(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function X(){}const Zs=e=>e;function Cn(e,t){for(const n in t)e[n]=t[n];return e}function ea(e){return e()}function Jl(){return Object.create(null)}function he(e){e.forEach(ea)}function Ve(e){return typeof e=="function"}function ue(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Nu(e){return Object.keys(e).length===0}function $l(e,...t){if(e==null)return X;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Pu(e){let t;return $l(e,n=>t=n)(),t}function ae(e,t,n){e.$$.on_destroy.push($l(t,n))}function Uo(e,t,n,l){if(e){const o=ta(e,t,n,l);return e[0](o)}}function ta(e,t,n,l){return e[1]&&l?Cn(n.ctx.slice(),e[1](l(t))):n.ctx}function Wo(e,t,n,l){if(e[2]&&l){const o=e[2](l(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const r=[],s=Math.max(t.dirty.length,o.length);for(let u=0;u<s;u+=1)r[u]=t.dirty[u]|o[u];return r}return t.dirty|o}return t.dirty}function Xo(e,t,n,l,o,r){if(o){const s=ta(t,n,l,r);e.p(s,o)}}function Yo(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let l=0;l<n;l++)t[l]=-1;return t}return-1}function Qo(e){return e??""}function De(e,t,n){return e.set(n),t}function Vt(e){return e&&Ve(e.destroy)?e.destroy:X}const na=typeof window<"u";let la=na?()=>window.performance.now():()=>Date.now(),Ro=na?e=>requestAnimationFrame(e):X;const Xt=new Set;function oa(e){Xt.forEach(t=>{t.c(e)||(Xt.delete(t),t.f())}),Xt.size!==0&&Ro(oa)}function ia(e){let t;return Xt.size===0&&Ro(oa),{promise:new Promise(n=>{Xt.add(t={c:e,f:n})}),abort(){Xt.delete(t)}}}let Al=!1;function Tu(){Al=!0}function Ou(){Al=!1}function zu(e,t,n,l){for(;e<t;){const o=e+(t-e>>1);n(o)<=l?e=o+1:t=o}return e}function Vu(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if(e.nodeName==="HEAD"){const a=[];for(let f=0;f<t.length;f++){const c=t[f];c.claim_order!==void 0&&a.push(c)}t=a}const n=new Int32Array(t.length+1),l=new Int32Array(t.length);n[0]=-1;let o=0;for(let a=0;a<t.length;a++){const f=t[a].claim_order,c=(o>0&&t[n[o]].claim_order<=f?o+1:zu(1,o,g=>t[n[g]].claim_order,f))-1;l[a]=n[c]+1;const d=c+1;n[d]=a,o=Math.max(d,o)}const r=[],s=[];let u=t.length-1;for(let a=n[o]+1;a!=0;a=l[a-1]){for(r.push(t[a-1]);u>=a;u--)s.push(t[u]);u--}for(;u>=0;u--)s.push(t[u]);r.reverse(),s.sort((a,f)=>a.claim_order-f.claim_order);for(let a=0,f=0;a<s.length;a++){for(;f<r.length&&s[a].claim_order>=r[f].claim_order;)f++;const c=f<r.length?r[f]:null;e.insertBefore(s[a],c)}}function b(e,t){e.appendChild(t)}function ra(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Lu(e){const t=A("style");return qu(ra(e),t),t.sheet}function qu(e,t){return b(e.head||e,t),t.sheet}function Hu(e,t){if(Al){for(Vu(e),(e.actual_end_child===void 0||e.actual_end_child!==null&&e.actual_end_child.parentNode!==e)&&(e.actual_end_child=e.firstChild);e.actual_end_child!==null&&e.actual_end_child.claim_order===void 0;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?(t.claim_order!==void 0||t.parentNode!==e)&&e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else(t.parentNode!==e||t.nextSibling!==null)&&e.appendChild(t)}function O(e,t,n){e.insertBefore(t,n||null)}function Gu(e,t,n){Al&&!n?Hu(e,t):(t.parentNode!==e||t.nextSibling!=n)&&e.insertBefore(t,n||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function pe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function A(e){return document.createElement(e)}function B(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function q(e){return document.createTextNode(e)}function P(){return q(" ")}function ke(){return q("")}function x(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function ju(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Bu(e){return function(t){t.target===this&&e.call(this,t)}}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function xu(e){return Array.from(e.childNodes)}function Uu(e){e.claim_info===void 0&&(e.claim_info={last_index:0,total_claimed:0})}function Wu(e,t,n,l,o=!1){Uu(e);const r=(()=>{for(let s=e.claim_info.last_index;s<e.length;s++){const u=e[s];if(t(u)){const a=n(u);return a===void 0?e.splice(s,1):e[s]=a,o||(e.claim_info.last_index=s),u}}for(let s=e.claim_info.last_index-1;s>=0;s--){const u=e[s];if(t(u)){const a=n(u);return a===void 0?e.splice(s,1):e[s]=a,o?a===void 0&&e.claim_info.last_index--:e.claim_info.last_index=s,u}}return l()})();return r.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,r}function Xu(e,t){return Wu(e,n=>n.nodeType===3,n=>{const l=""+t;if(n.data.startsWith(l)){if(n.data.length!==l.length)return n.splitText(l.length)}else n.data=l},()=>q(t),!0)}function J(e,t){t=""+t,e.data!==t&&(e.data=t)}function Qe(e,t){e.value=t??""}function ye(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function ll(e,t,n){for(let l=0;l<e.options.length;l+=1){const o=e.options[l];if(o.__value===t){o.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function sa(e){const t=e.querySelector(":checked");return t&&t.__value}let Vn;function Yu(){if(Vn===void 0){Vn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Vn=!0}}return Vn}function ft(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const l=A("iframe");l.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),l.setAttribute("aria-hidden","true"),l.tabIndex=-1;const o=Yu();let r;return o?(l.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=x(window,"message",s=>{s.source===l.contentWindow&&t()})):(l.src="about:blank",l.onload=()=>{r=x(l.contentWindow,"resize",t),t()}),b(e,l),()=>{(o||r&&l.contentWindow)&&r(),N(l)}}function Oe(e,t,n){e.classList[n?"add":"remove"](t)}function Qu(e,t,{bubbles:n=!1,cancelable:l=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,l,t),o}function At(e,t){return new e(t)}const ol=new Map;let il=0;function Ku(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function Ju(e,t){const n={stylesheet:Lu(t),rules:{}};return ol.set(e,n),n}function Ko(e,t,n,l,o,r,s,u=0){const a=16.666/l;let f=`{
`;for(let v=0;v<=1;v+=a){const w=t+(n-t)*r(v);f+=v*100+`%{${s(w,1-w)}}
`}const c=f+`100% {${s(n,1-n)}}
}`,d=`__svelte_${Ku(c)}_${u}`,g=ra(e),{stylesheet:p,rules:m}=ol.get(g)||Ju(g,e);m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${c}`,p.cssRules.length));const _=e.style.animation||"";return e.style.animation=`${_?`${_}, `:""}${d} ${l}ms linear ${o}ms 1 both`,il+=1,d}function Zu(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),o=n.length-l.length;o&&(e.style.animation=l.join(", "),il-=o,il||ef())}function ef(){Ro(()=>{il||(ol.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&N(t)}),ol.clear())})}let Zt;function Ot(e){Zt=e}function tf(){if(!Zt)throw new Error("Function called outside component initialization");return Zt}function ct(e){tf().$$.on_mount.push(e)}function nf(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(l=>l.call(this,t))}const xt=[],tt=[];let Yt=[];const Zl=[],lf=Promise.resolve();let eo=!1;function of(){eo||(eo=!0,lf.then(aa))}function Re(e){Yt.push(e)}function $n(e){Zl.push(e)}const El=new Set;let Ht=0;function aa(){if(Ht!==0)return;const e=Zt;do{try{for(;Ht<xt.length;){const t=xt[Ht];Ht++,Ot(t),rf(t.$$)}}catch(t){throw xt.length=0,Ht=0,t}for(Ot(null),xt.length=0,Ht=0;tt.length;)tt.pop()();for(let t=0;t<Yt.length;t+=1){const n=Yt[t];El.has(n)||(El.add(n),n())}Yt.length=0}while(xt.length);for(;Zl.length;)Zl.pop()();eo=!1,El.clear(),Ot(e)}function rf(e){if(e.fragment!==null){e.update(),he(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Re)}}function sf(e){const t=[],n=[];Yt.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),Yt=t}let an;function af(){return an||(an=Promise.resolve(),an.then(()=>{an=null})),an}function Fl(e,t,n){e.dispatchEvent(Qu(`${t?"intro":"outro"}${n}`))}const Qn=new Set;let ht;function _e(){ht={r:0,c:[],p:ht}}function ve(){ht.r||he(ht.c),ht=ht.p}function z(e,t){e&&e.i&&(Qn.delete(e),e.i(t))}function L(e,t,n,l){if(e&&e.o){if(Qn.has(e))return;Qn.add(e),ht.c.push(()=>{Qn.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}const uf={duration:0};function ot(e,t,n,l){const o={direction:"both"};let r=t(e,n,o),s=l?0:1,u=null,a=null,f=null;function c(){f&&Zu(e,f)}function d(p,m){const _=p.b-s;return m*=Math.abs(_),{a:s,b:p.b,d:_,duration:m,start:p.start,end:p.start+m,group:p.group}}function g(p){const{delay:m=0,duration:_=300,easing:v=Zs,tick:w=X,css:y}=r||uf,C={start:la()+m,b:p};p||(C.group=ht,ht.r+=1),u||a?a=C:(y&&(c(),f=Ko(e,s,p,_,m,v,y)),p&&w(0,1),u=d(C,_),Re(()=>Fl(e,p,"start")),ia(M=>{if(a&&M>a.start&&(u=d(a,_),a=null,Fl(e,u.b,"start"),y&&(c(),f=Ko(e,s,u.b,u.duration,0,v,r.css))),u){if(M>=u.end)w(s=u.b,1-s),Fl(e,u.b,"end"),a||(u.b?c():--u.group.r||he(u.group.c)),u=null;else if(M>=u.start){const S=M-u.start;s=u.a+u.d*v(S/u.duration),w(s,1-s)}}return!!(u||a)}))}return{run(p){Ve(r)?af().then(()=>{r=r(o),g(p)}):g(p)},end(){c(),u=a=null}}}function en(e,t){e.d(1),t.delete(e.key)}function Mo(e,t){L(e,1,1,()=>{t.delete(e.key)})}function pt(e,t,n,l,o,r,s,u,a,f,c,d){let g=e.length,p=r.length,m=g;const _={};for(;m--;)_[e[m].key]=m;const v=[],w=new Map,y=new Map,C=[];for(m=p;m--;){const $=d(o,r,m),R=n($);let k=s.get(R);k?l&&C.push(()=>k.p($,t)):(k=f(R,$),k.c()),w.set(R,v[m]=k),R in _&&y.set(R,Math.abs(m-_[R]))}const M=new Set,S=new Set;function E($){z($,1),$.m(u,c),s.set($.key,$),c=$.first,p--}for(;g&&p;){const $=v[p-1],R=e[g-1],k=$.key,F=R.key;$===R?(c=$.first,g--,p--):w.has(F)?!s.has(k)||M.has(k)?E($):S.has(F)?g--:y.get(k)>y.get(F)?(S.add(k),E($)):(M.add(F),g--):(a(R,s),g--)}for(;g--;){const $=e[g];w.has($.key)||a($,s)}for(;p;)E(v[p-1]);return he(C),v}function ua(e,t){const n={},l={},o={$$scope:1};let r=e.length;for(;r--;){const s=e[r],u=t[r];if(u){for(const a in s)a in u||(l[a]=1);for(const a in u)o[a]||(n[a]=u[a],o[a]=1);e[r]=u}else for(const a in s)o[a]=1}for(const s in l)s in n||(n[s]=void 0);return n}function fa(e){return typeof e=="object"&&e!==null?e:{}}const ff=/[&"]/g,cf=/[&<]/g;function df(e,t=!1){const n=String(e),l=t?ff:cf;l.lastIndex=0;let o="",r=0;for(;l.test(n);){const s=l.lastIndex-1,u=n[s];o+=n.substring(r,s)+(u==="&"?"&amp;":u==='"'?"&quot;":"&lt;"),r=s+1}return o+n.substring(r)}function hf(e,t){if(!e||!e.$$render)throw t==="svelte:component"&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${t}>.`);return e}let Dl;function ca(e){function t(n,l,o,r,s){const u=Zt,a={on_destroy:Dl,context:new Map(s||(u?u.$$.context:[])),on_mount:[],before_update:[],after_update:[],callbacks:Jl()};Ot({$$:a});const f=e(n,l,o,r);return Ot(u),f}return{render:(n={},{$$slots:l={},context:o=new Map}={})=>{Dl=[];const r={title:"",head:"",css:new Set},s=t(r,n,{},l,o);return he(Dl),{html:s,css:{code:Array.from(r.css).map(u=>u.code).join(`
`),map:null},head:r.title+r.head}},$$render:t}}function An(e,t,n){const l=e.$$.props[t];l!==void 0&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function le(e){e&&e.c()}function gf(e,t){e&&e.l(t)}function ee(e,t,n,l){const{fragment:o,after_update:r}=e.$$;o&&o.m(t,n),l||Re(()=>{const s=e.$$.on_mount.map(ea).filter(Ve);e.$$.on_destroy?e.$$.on_destroy.push(...s):he(s),e.$$.on_mount=[]}),r.forEach(Re)}function te(e,t){const n=e.$$;n.fragment!==null&&(sf(n.after_update),he(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function pf(e,t){e.$$.dirty[0]===-1&&(xt.push(e),of(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ce(e,t,n,l,o,r,s,u=[-1]){const a=Zt;Ot(e);const f=e.$$={fragment:null,ctx:[],props:r,update:X,not_equal:o,bound:Jl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Jl(),dirty:u,skip_bound:!1,root:t.target||a.$$.root};s&&s(f.root);let c=!1;if(f.ctx=n?n(e,t.props||{},(d,g,...p)=>{const m=p.length?p[0]:g;return f.ctx&&o(f.ctx[d],f.ctx[d]=m)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](m),c&&pf(e,d)),g}):[],f.update(),c=!0,he(f.before_update),f.fragment=l?l(f.ctx):!1,t.target){if(t.hydrate){Tu();const d=xu(t.target);f.fragment&&f.fragment.l(d),d.forEach(N)}else f.fragment&&f.fragment.c();t.intro&&z(e.$$.fragment),ee(e,t.target,t.anchor,t.customElement),Ou(),aa()}Ot(a)}class fe{$destroy(){te(this,1),this.$destroy=X}$on(t,n){if(!Ve(n))return X;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!Nu(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Gt=[];function to(e,t){return{subscribe:Ie(e,t).subscribe}}function Ie(e,t=X){let n;const l=new Set;function o(u){if(ue(e,u)&&(e=u,n)){const a=!Gt.length;for(const f of l)f[1](),Gt.push(f,e);if(a){for(let f=0;f<Gt.length;f+=2)Gt[f][0](Gt[f+1]);Gt.length=0}}}function r(u){o(u(e))}function s(u,a=X){const f=[u,a];return l.add(f),l.size===1&&(n=t(o)||X),u(e),()=>{l.delete(f),l.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:s}}function mf(e,t,n){const l=!Array.isArray(e),o=l?[e]:e,r=t.length<2;return to(n,s=>{let u=!1;const a=[];let f=0,c=X;const d=()=>{if(f)return;c();const p=t(l?a[0]:a,s);r?s(p):c=Ve(p)?p:X},g=o.map((p,m)=>$l(p,_=>{a[m]=_,f&=~(1<<m),u&&d()},()=>{f|=1<<m}));return u=!0,d(),function(){he(g),c(),u=!1}})}function Eo(e){const t=e-1;return t*t*t+1}function Jo(e){return Object.prototype.toString.call(e)==="[object Date]"}function no(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const l=t.map((o,r)=>no(e[r],o));return o=>l.map(r=>r(o))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Jo(e)&&Jo(t)){e=e.getTime(),t=t.getTime();const r=t-e;return s=>new Date(e+s*r)}const l=Object.keys(t),o={};return l.forEach(r=>{o[r]=no(e[r],t[r])}),r=>{const s={};return l.forEach(u=>{s[u]=o[u](r)}),s}}if(n==="number"){const l=t-e;return o=>e+o*l}throw new Error(`Cannot interpolate ${n} values`)}function Fo(e,t={}){const n=Ie(e);let l,o=e;function r(s,u){if(e==null)return n.set(e=s),Promise.resolve();o=s;let a=l,f=!1,{delay:c=0,duration:d=400,easing:g=Zs,interpolate:p=no}=Cn(Cn({},t),u);if(d===0)return a&&(a.abort(),a=null),n.set(e=o),Promise.resolve();const m=la()+c;let _;return l=ia(v=>{if(v<m)return!0;f||(_=p(e,s),typeof d=="function"&&(d=d(e,s)),f=!0),a&&(a.abort(),a=null);const w=v-m;return w>d?(n.set(e=s),!1):(n.set(e=_(g(w/d))),!0)}),l.promise}return{set:r,update:(s,u)=>r(s(o,e),u),subscribe:n.subscribe}}const Ge=Ie([]),Il=Ie([]),un=Ie([]),Rn=Ie([]),at=Ie("all"),Zo=Ie({"n/a":1,up:1,down:1}),_f=["who","what","how","why","where","does","can","n/a"],lo=Fo(_f.map(e=>({question:e,count:0}))),It=Ie(new Set);var oo="http://www.w3.org/1999/xhtml";const ei={svg:"http://www.w3.org/2000/svg",xhtml:oo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function da(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ei.hasOwnProperty(t)?{space:ei[t],local:e}:e}function vf(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===oo&&t.documentElement.namespaceURI===oo?t.createElement(e):t.createElementNS(n,e)}}function bf(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ha(e){var t=da(e);return(t.local?bf:vf)(t)}function wf(){}function ga(e){return e==null?wf:function(){return this.querySelector(e)}}function yf(e){typeof e!="function"&&(e=ga(e));for(var t=this._groups,n=t.length,l=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,u=l[o]=new Array(s),a,f,c=0;c<s;++c)(a=r[c])&&(f=e.call(a,a.__data__,c,r))&&("__data__"in a&&(f.__data__=a.__data__),u[c]=f);return new Be(l,this._parents)}function pa(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function kf(){return[]}function Sf(e){return e==null?kf:function(){return this.querySelectorAll(e)}}function Cf(e){return function(){return pa(e.apply(this,arguments))}}function $f(e){typeof e=="function"?e=Cf(e):e=Sf(e);for(var t=this._groups,n=t.length,l=[],o=[],r=0;r<n;++r)for(var s=t[r],u=s.length,a,f=0;f<u;++f)(a=s[f])&&(l.push(e.call(a,a.__data__,f,s)),o.push(a));return new Be(l,o)}function Af(e){return function(){return this.matches(e)}}function ma(e){return function(t){return t.matches(e)}}var Rf=Array.prototype.find;function Mf(e){return function(){return Rf.call(this.children,e)}}function Ef(){return this.firstElementChild}function Ff(e){return this.select(e==null?Ef:Mf(typeof e=="function"?e:ma(e)))}var Df=Array.prototype.filter;function If(){return Array.from(this.children)}function Nf(e){return function(){return Df.call(this.children,e)}}function Pf(e){return this.selectAll(e==null?If:Nf(typeof e=="function"?e:ma(e)))}function Tf(e){typeof e!="function"&&(e=Af(e));for(var t=this._groups,n=t.length,l=new Array(n),o=0;o<n;++o)for(var r=t[o],s=r.length,u=l[o]=[],a,f=0;f<s;++f)(a=r[f])&&e.call(a,a.__data__,f,r)&&u.push(a);return new Be(l,this._parents)}function _a(e){return new Array(e.length)}function Of(){return new Be(this._enter||this._groups.map(_a),this._parents)}function rl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}rl.prototype={constructor:rl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function zf(e){return function(){return e}}function Vf(e,t,n,l,o,r){for(var s=0,u,a=t.length,f=r.length;s<f;++s)(u=t[s])?(u.__data__=r[s],l[s]=u):n[s]=new rl(e,r[s]);for(;s<a;++s)(u=t[s])&&(o[s]=u)}function Lf(e,t,n,l,o,r,s){var u,a,f=new Map,c=t.length,d=r.length,g=new Array(c),p;for(u=0;u<c;++u)(a=t[u])&&(g[u]=p=s.call(a,a.__data__,u,t)+"",f.has(p)?o[u]=a:f.set(p,a));for(u=0;u<d;++u)p=s.call(e,r[u],u,r)+"",(a=f.get(p))?(l[u]=a,a.__data__=r[u],f.delete(p)):n[u]=new rl(e,r[u]);for(u=0;u<c;++u)(a=t[u])&&f.get(g[u])===a&&(o[u]=a)}function qf(e){return e.__data__}function Hf(e,t){if(!arguments.length)return Array.from(this,qf);var n=t?Lf:Vf,l=this._parents,o=this._groups;typeof e!="function"&&(e=zf(e));for(var r=o.length,s=new Array(r),u=new Array(r),a=new Array(r),f=0;f<r;++f){var c=l[f],d=o[f],g=d.length,p=Gf(e.call(c,c&&c.__data__,f,l)),m=p.length,_=u[f]=new Array(m),v=s[f]=new Array(m),w=a[f]=new Array(g);n(c,d,_,v,w,p,t);for(var y=0,C=0,M,S;y<m;++y)if(M=_[y]){for(y>=C&&(C=y+1);!(S=v[C])&&++C<m;);M._next=S||null}}return s=new Be(s,l),s._enter=u,s._exit=a,s}function Gf(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jf(){return new Be(this._exit||this._groups.map(_a),this._parents)}function Bf(e,t,n){var l=this.enter(),o=this,r=this.exit();return typeof e=="function"?(l=e(l),l&&(l=l.selection())):l=l.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?r.remove():n(r),l&&o?l.merge(o).order():o}function xf(e){for(var t=e.selection?e.selection():e,n=this._groups,l=t._groups,o=n.length,r=l.length,s=Math.min(o,r),u=new Array(o),a=0;a<s;++a)for(var f=n[a],c=l[a],d=f.length,g=u[a]=new Array(d),p,m=0;m<d;++m)(p=f[m]||c[m])&&(g[m]=p);for(;a<o;++a)u[a]=n[a];return new Be(u,this._parents)}function Uf(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var l=e[t],o=l.length-1,r=l[o],s;--o>=0;)(s=l[o])&&(r&&s.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(s,r),r=s);return this}function Wf(e){e||(e=Xf);function t(d,g){return d&&g?e(d.__data__,g.__data__):!d-!g}for(var n=this._groups,l=n.length,o=new Array(l),r=0;r<l;++r){for(var s=n[r],u=s.length,a=o[r]=new Array(u),f,c=0;c<u;++c)(f=s[c])&&(a[c]=f);a.sort(t)}return new Be(o,this._parents).order()}function Xf(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Yf(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Qf(){return Array.from(this)}function Kf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var l=e[t],o=0,r=l.length;o<r;++o){var s=l[o];if(s)return s}return null}function Jf(){let e=0;for(const t of this)++e;return e}function Zf(){return!this.node()}function ec(e){for(var t=this._groups,n=0,l=t.length;n<l;++n)for(var o=t[n],r=0,s=o.length,u;r<s;++r)(u=o[r])&&e.call(u,u.__data__,r,o);return this}function tc(e){return function(){this.removeAttribute(e)}}function nc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lc(e,t){return function(){this.setAttribute(e,t)}}function oc(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ic(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function rc(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function sc(e,t){var n=da(e);if(arguments.length<2){var l=this.node();return n.local?l.getAttributeNS(n.space,n.local):l.getAttribute(n)}return this.each((t==null?n.local?nc:tc:typeof t=="function"?n.local?rc:ic:n.local?oc:lc)(n,t))}function va(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ac(e){return function(){this.style.removeProperty(e)}}function uc(e,t,n){return function(){this.style.setProperty(e,t,n)}}function fc(e,t,n){return function(){var l=t.apply(this,arguments);l==null?this.style.removeProperty(e):this.style.setProperty(e,l,n)}}function cc(e,t,n){return arguments.length>1?this.each((t==null?ac:typeof t=="function"?fc:uc)(e,t,n??"")):dc(this.node(),e)}function dc(e,t){return e.style.getPropertyValue(t)||va(e).getComputedStyle(e,null).getPropertyValue(t)}function hc(e){return function(){delete this[e]}}function gc(e,t){return function(){this[e]=t}}function pc(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function mc(e,t){return arguments.length>1?this.each((t==null?hc:typeof t=="function"?pc:gc)(e,t)):this.node()[e]}function ba(e){return e.trim().split(/^|\s+/)}function Do(e){return e.classList||new wa(e)}function wa(e){this._node=e,this._names=ba(e.getAttribute("class")||"")}wa.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ya(e,t){for(var n=Do(e),l=-1,o=t.length;++l<o;)n.add(t[l])}function ka(e,t){for(var n=Do(e),l=-1,o=t.length;++l<o;)n.remove(t[l])}function _c(e){return function(){ya(this,e)}}function vc(e){return function(){ka(this,e)}}function bc(e,t){return function(){(t.apply(this,arguments)?ya:ka)(this,e)}}function wc(e,t){var n=ba(e+"");if(arguments.length<2){for(var l=Do(this.node()),o=-1,r=n.length;++o<r;)if(!l.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?bc:t?_c:vc)(n,t))}function yc(){this.textContent=""}function kc(e){return function(){this.textContent=e}}function Sc(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Cc(e){return arguments.length?this.each(e==null?yc:(typeof e=="function"?Sc:kc)(e)):this.node().textContent}function $c(){this.innerHTML=""}function Ac(e){return function(){this.innerHTML=e}}function Rc(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Mc(e){return arguments.length?this.each(e==null?$c:(typeof e=="function"?Rc:Ac)(e)):this.node().innerHTML}function Ec(){this.nextSibling&&this.parentNode.appendChild(this)}function Fc(){return this.each(Ec)}function Dc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ic(){return this.each(Dc)}function Nc(e){var t=typeof e=="function"?e:ha(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Pc(){return null}function Tc(e,t){var n=typeof e=="function"?e:ha(e),l=t==null?Pc:typeof t=="function"?t:ga(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),l.apply(this,arguments)||null)})}function Oc(){var e=this.parentNode;e&&e.removeChild(this)}function zc(){return this.each(Oc)}function Vc(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Lc(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qc(e){return this.select(e?Lc:Vc)}function Hc(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Gc(e){return function(t){e.call(this,t,this.__data__)}}function jc(e){return e.trim().split(/^|\s+/).map(function(t){var n="",l=t.indexOf(".");return l>=0&&(n=t.slice(l+1),t=t.slice(0,l)),{type:t,name:n}})}function Bc(e){return function(){var t=this.__on;if(t){for(var n=0,l=-1,o=t.length,r;n<o;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++l]=r;++l?t.length=l:delete this.__on}}}function xc(e,t,n){return function(){var l=this.__on,o,r=Gc(t);if(l){for(var s=0,u=l.length;s<u;++s)if((o=l[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=r,o.options=n),o.value=t;return}}this.addEventListener(e.type,r,n),o={type:e.type,name:e.name,value:t,listener:r,options:n},l?l.push(o):this.__on=[o]}}function Uc(e,t,n){var l=jc(e+""),o,r=l.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var a=0,f=u.length,c;a<f;++a)for(o=0,c=u[a];o<r;++o)if((s=l[o]).type===c.type&&s.name===c.name)return c.value}return}for(u=t?xc:Bc,o=0;o<r;++o)this.each(u(l[o],t,n));return this}function Sa(e,t,n){var l=va(e),o=l.CustomEvent;typeof o=="function"?o=new o(t,n):(o=l.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function Wc(e,t){return function(){return Sa(this,e,t)}}function Xc(e,t){return function(){return Sa(this,e,t.apply(this,arguments))}}function Yc(e,t){return this.each((typeof t=="function"?Xc:Wc)(e,t))}function*Qc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var l=e[t],o=0,r=l.length,s;o<r;++o)(s=l[o])&&(yield s)}var Ca=[null];function Be(e,t){this._groups=e,this._parents=t}function Kc(){return this}Be.prototype={constructor:Be,select:yf,selectAll:$f,selectChild:Ff,selectChildren:Pf,filter:Tf,data:Hf,enter:Of,exit:jf,join:Bf,merge:xf,selection:Kc,order:Uf,sort:Wf,call:Yf,nodes:Qf,node:Kf,size:Jf,empty:Zf,each:ec,attr:sc,style:cc,property:mc,classed:wc,text:Cc,html:Mc,raise:Fc,lower:Ic,append:Nc,insert:Tc,remove:zc,clone:qc,datum:Hc,on:Uc,dispatch:Yc,[Symbol.iterator]:Qc};function Mn(e){return typeof e=="string"?new Be([[document.querySelector(e)]],[document.documentElement]):new Be([[e]],Ca)}function Nl(e){return typeof e=="string"?new Be([document.querySelectorAll(e)],[document.documentElement]):new Be([pa(e)],Ca)}const Jc=e=>({}),ti=e=>({});function Zc(e){let t,n,l,o,r,s,u,a,f;const c=e[4].header,d=Uo(c,e,e[3],ti),g=e[4].default,p=Uo(g,e,e[3],null);return{c(){t=A("dialog"),n=A("div"),l=A("div"),o=A("button"),o.textContent="X",r=P(),d&&d.c(),s=P(),p&&p.c(),h(o,"class","close-button svelte-g384pz"),h(l,"class","btn-container svelte-g384pz"),h(n,"class","svelte-g384pz"),h(t,"class","svelte-g384pz")},m(m,_){O(m,t,_),b(t,n),b(n,l),b(l,o),b(n,r),d&&d.m(n,null),b(n,s),p&&p.m(n,null),e[6](t),u=!0,a||(f=[x(o,"click",function(){Ve(e[1])&&e[1].apply(this,arguments)}),x(n,"click",ju(e[5])),x(t,"close",function(){Ve(e[1])&&e[1].apply(this,arguments)}),x(t,"click",Bu(function(){Ve(e[1])&&e[1].apply(this,arguments)}))],a=!0)},p(m,[_]){e=m,d&&d.p&&(!u||_&8)&&Xo(d,c,e,e[3],u?Wo(c,e[3],_,Jc):Yo(e[3]),ti),p&&p.p&&(!u||_&8)&&Xo(p,g,e,e[3],u?Wo(g,e[3],_,null):Yo(e[3]),null)},i(m){u||(z(d,m),z(p,m),u=!0)},o(m){L(d,m),L(p,m),u=!1},d(m){m&&N(t),d&&d.d(m),p&&p.d(m),e[6](null),a=!1,he(f)}}}function ed(e,t,n){let{$$slots:l={},$$scope:o}=t,{showModal:r}=t,{dialog:s}=t,{handleClose:u}=t;function a(c){nf.call(this,e,c)}function f(c){tt[c?"unshift":"push"](()=>{s=c,n(0,s)})}return e.$$set=c=>{"showModal"in c&&n(2,r=c.showModal),"dialog"in c&&n(0,s=c.dialog),"handleClose"in c&&n(1,u=c.handleClose),"$$scope"in c&&n(3,o=c.$$scope)},e.$$.update=()=>{e.$$.dirty&5&&s&&r&&s.showModal()},[s,u,r,o,l,a,f]}class td extends fe{constructor(t){super(),ce(this,t,ed,Zc,ue,{showModal:2,dialog:0,handleClose:1})}}function ni(e){let t,n,l,o,r,s,u,a,f;return{c(){t=A("form"),n=A("div"),l=A("label"),l.textContent="Filename",o=P(),r=A("input"),s=P(),u=A("div"),u.innerHTML='<button type="submit">Download</button>',h(l,"for","file_name"),h(l,"class","svelte-sy2m0x"),h(r,"type","text"),h(r,"placeholder","Please enter filename"),h(r,"name","file_name"),r.required=!0,h(n,"class","inputs svelte-sy2m0x"),h(u,"class","btn-container svelte-sy2m0x")},m(c,d){O(c,t,d),b(t,n),b(n,l),b(n,o),b(n,r),Qe(r,e[2]),b(t,s),b(t,u),a||(f=[x(r,"input",e[9]),x(t,"submit",e[6])],a=!0)},p(c,d){d&4&&r.value!==c[2]&&Qe(r,c[2])},d(c){c&&N(t),a=!1,he(f)}}}function li(e){let t,n,l,o,r,s,u,a,f;return{c(){t=A("div"),n=q("‚úÖ Data downloaded to /pykoi/"),l=q(e[2]),o=q(".csv"),r=P(),s=A("div"),u=A("button"),u.textContent="Close",h(s,"class","btn-container svelte-sy2m0x")},m(c,d){O(c,t,d),b(t,n),b(t,l),b(t,o),O(c,r,d),O(c,s,d),b(s,u),a||(f=x(u,"click",e[7]),a=!0)},p(c,d){d&4&&J(l,c[2])},d(c){c&&N(t),c&&N(r),c&&N(s),a=!1,f()}}}function oi(e){let t,n,l,o,r,s,u,a;return{c(){t=A("div"),t.textContent="‚ö†Ô∏è Download failed. Please try again.",n=P(),l=A("div"),o=A("button"),o.textContent="Retry",r=P(),s=A("button"),s.textContent="Close",h(l,"class","btn-container svelte-sy2m0x")},m(f,c){O(f,t,c),O(f,n,c),O(f,l,c),b(l,o),b(l,r),b(l,s),u||(a=[x(o,"click",e[10]),x(s,"click",e[7])],u=!0)},p:X,d(f){f&&N(t),f&&N(n),f&&N(l),u=!1,he(a)}}}function ii(e){let t,n,l,o,r,s,u,a,f,c,d;return{c(){t=A("div"),n=q("‚ö†Ô∏è "),l=q(e[2]),o=q(".csv already exists. Do you wish to overwrite it?"),r=P(),s=A("div"),u=A("button"),u.textContent="Back",a=P(),f=A("button"),f.textContent="Overwrite",h(s,"class","btn-container svelte-sy2m0x")},m(g,p){O(g,t,p),b(t,n),b(t,l),b(t,o),O(g,r,p),O(g,s,p),b(s,u),b(s,a),b(s,f),c||(d=[x(u,"click",e[11]),x(f,"click",e[12])],c=!0)},p(g,p){p&4&&J(l,g[2])},d(g){g&&N(t),g&&N(r),g&&N(s),c=!1,he(d)}}}function nd(e){let t,n,l,o,r=e[3]===e[4].FILE_INPUT&&ni(e),s=e[3]===e[4].DOWNLOADED&&li(e),u=e[3]===e[4].FAILED_DOWNLOAD&&oi(e),a=e[3]===e[4].OVERWRITE&&ii(e);return{c(){r&&r.c(),t=P(),s&&s.c(),n=P(),u&&u.c(),l=P(),a&&a.c(),o=ke()},m(f,c){r&&r.m(f,c),O(f,t,c),s&&s.m(f,c),O(f,n,c),u&&u.m(f,c),O(f,l,c),a&&a.m(f,c),O(f,o,c)},p(f,c){f[3]===f[4].FILE_INPUT?r?r.p(f,c):(r=ni(f),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),f[3]===f[4].DOWNLOADED?s?s.p(f,c):(s=li(f),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),f[3]===f[4].FAILED_DOWNLOAD?u?u.p(f,c):(u=oi(f),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null),f[3]===f[4].OVERWRITE?a?a.p(f,c):(a=ii(f),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null)},d(f){r&&r.d(f),f&&N(t),s&&s.d(f),f&&N(n),u&&u.d(f),f&&N(l),a&&a.d(f),f&&N(o)}}}function ld(e){let t;return{c(){t=A("h4"),t.textContent="Download Data",h(t,"slot","header"),h(t,"class","svelte-sy2m0x")},m(n,l){O(n,t,l)},p:X,d(n){n&&N(t)}}}function od(e){let t,n,l,o;function r(a){e[13](a)}function s(a){e[14](a)}let u={handleClose:e[7],$$slots:{header:[ld],default:[nd]},$$scope:{ctx:e}};return e[0]!==void 0&&(u.showModal=e[0]),e[1]!==void 0&&(u.dialog=e[1]),t=new td({props:u}),tt.push(()=>An(t,"showModal",r)),tt.push(()=>An(t,"dialog",s)),{c(){le(t.$$.fragment)},m(a,f){ee(t,a,f),o=!0},p(a,[f]){const c={};f&32780&&(c.$$scope={dirty:f,ctx:a}),!n&&f&1&&(n=!0,c.showModal=a[0],$n(()=>n=!1)),!l&&f&2&&(l=!0,c.dialog=a[1],$n(()=>l=!1)),t.$set(c)},i(a){o||(z(t.$$.fragment,a),o=!0)},o(a){L(t.$$.fragment,a),o=!1},d(a){te(t,a)}}}function id(e,t,n){let{showModal:l,table:o}=t,r,s="";const u={FILE_INPUT:0,DOWNLOADED:1,FAILED_DOWNLOAD:2,OVERWRITE:3};let a=u.FILE_INPUT;const f=async y=>{const C={file_name:y},S=await(await fetch(`/chat/${o}/save_to_csv`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)})).json();console.log("Download Complete: ",S),S.status==="200"?(console.log("success"),n(3,a=u.DOWNLOADED)):(console.log("failed"),n(3,a=u.FAILED_DOWNLOAD))},c=async y=>{y.preventDefault();const C=await fetch(`/file_exists/?file_name=${s}.csv`),{file_exists:M}=await C.json();M===!0?n(3,a=u.OVERWRITE):f(s)};function d(){n(0,l=!1),n(3,a=u.FILE_INPUT),r.close()}function g(){s=this.value,n(2,s)}const p=()=>n(3,a=u.FILE_INPUT),m=()=>n(3,a=u.FILE_INPUT),_=()=>f(s);function v(y){l=y,n(0,l)}function w(y){r=y,n(1,r)}return e.$$set=y=>{"showModal"in y&&n(0,l=y.showModal),"table"in y&&n(8,o=y.table)},[l,r,s,a,u,f,c,d,o,g,p,m,_,v,w]}class Io extends fe{constructor(t){super(),ce(this,t,id,od,ue,{showModal:0,table:8})}}function ri(e){let t;return{c(){t=A("h5"),t.textContent="Response:",h(t,"class","bold")},m(n,l){O(n,t,l)},d(n){n&&N(t)}}}function si(e){let t,n,l,o,r,s;return{c(){t=A("div"),n=A("button"),n.textContent="üëç",l=P(),o=A("button"),o.textContent="üëé",h(n,"class","small-button thumbs-up svelte-1cug6ja"),Oe(n,"vote-selected",e[0].vote_status==="up"),Oe(n,"vote-not-selected",e[0].vote_status==="down"),h(o,"class","small-button thumbs-down svelte-1cug6ja"),Oe(o,"vote-selected",e[0].vote_status==="down"),Oe(o,"vote-not-selected",e[0].vote_status==="up"),h(t,"class","feedback-buttons svelte-1cug6ja")},m(u,a){O(u,t,a),b(t,n),b(t,l),b(t,o),r||(s=[x(n,"click",e[5]),x(o,"click",e[6])],r=!0)},p(u,a){a&1&&Oe(n,"vote-selected",u[0].vote_status==="up"),a&1&&Oe(n,"vote-not-selected",u[0].vote_status==="down"),a&1&&Oe(o,"vote-selected",u[0].vote_status==="down"),a&1&&Oe(o,"vote-not-selected",u[0].vote_status==="up")},d(u){u&&N(t),r=!1,he(s)}}}function rd(e){let t,n,l,o=e[0].answer+"",r,s,u=e[3]&&ri(),a=e[1]&&si(e);return{c(){t=A("div"),u&&u.c(),n=P(),l=A("p"),r=q(o),s=P(),a&&a.c(),h(t,"class","answer svelte-1cug6ja")},m(f,c){O(f,t,c),u&&u.m(t,null),b(t,n),b(t,l),b(l,r),b(t,s),a&&a.m(t,null)},p(f,[c]){f[3]?u||(u=ri(),u.c(),u.m(t,n)):u&&(u.d(1),u=null),c&1&&o!==(o=f[0].answer+"")&&J(r,o),f[1]?a?a.p(f,c):(a=si(f),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i:X,o:X,d(f){f&&N(t),u&&u.d(),a&&a.d()}}}function sd(e,t,n){let l;ae(e,Ge,g=>n(7,l=g));let{message:o={}}=t,{feedback:r=!1}=t,{index:s=0}=t,{title:u=!1}=t;async function a(g){const p=await fetch("/chat/rag_table/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(p.ok)console.log("response",p),n(0,o.vote_status=g.vote_status,o);else{const m=await p.text();alert(m)}}function f(g,p,m){const _=l[m];_.vote=p;const v={id:m+1,vote_status:p};a(v)}console.log("Answer",o.vote_status);const c=g=>f(g,"up",s),d=g=>f(g,"down",s);return e.$$set=g=>{"message"in g&&n(0,o=g.message),"feedback"in g&&n(1,r=g.feedback),"index"in g&&n(2,s=g.index),"title"in g&&n(3,u=g.title)},[o,r,s,u,f,c,d]}class $a extends fe{constructor(t){super(),ce(this,t,sd,rd,ue,{message:0,feedback:1,index:2,title:3})}}function ai(e,t,n){const l=e.slice();return l[17]=t[n],l[19]=n,l}function ui(e,t){let n,l,o,r,s,u,a,f,c,d=t[17].question+"",g,p,m,_,v,w,y,C,M;return _=new $a({props:{feedback:t[0],message:t[17],index:t[19],title:!0}}),{key:e,first:null,c(){n=A("div"),l=A("div"),o=A("div"),r=P(),s=A("div"),u=A("div"),a=A("h5"),a.textContent="Question:",f=P(),c=A("p"),g=q(d),p=P(),m=A("div"),le(_.$$.fragment),v=P(),h(o,"class","avatar"),h(a,"class","bold svelte-yzyd3k"),h(u,"class","question svelte-yzyd3k"),h(m,"class","answers svelte-yzyd3k"),h(s,"class","message-content svelte-yzyd3k"),h(l,"class","chat-message-center svelte-yzyd3k"),h(n,"class","chat-message svelte-yzyd3k"),this.first=n},m(S,E){O(S,n,E),b(n,l),b(l,o),b(l,r),b(l,s),b(s,u),b(u,a),b(u,f),b(u,c),b(c,g),b(s,p),b(s,m),ee(_,m,null),b(n,v),y=!0,C||(M=Vt(w=ud.call(null,n,t[19]===t[5].length-1)),C=!0)},p(S,E){t=S,(!y||E&32)&&d!==(d=t[17].question+"")&&J(g,d);const $={};E&1&&($.feedback=t[0]),E&32&&($.message=t[17]),E&32&&($.index=t[19]),_.$set($),w&&Ve(w.update)&&E&32&&w.update.call(null,t[19]===t[5].length-1)},i(S){y||(z(_.$$.fragment,S),y=!0)},o(S){L(_.$$.fragment,S),y=!1},d(S){S&&N(n),te(_),C=!1,M()}}}function ad(e){let t,n,l,o,r,s,u,a,f,c,d,g,p,m,_=[],v=new Map,w,y,C,M,S,E,$=(e[3]?e[4]:"Send")+"",R,k,F,T,I,V,D;function G(W){e[10](W)}let U={table:"qa_table"};e[1]!==void 0&&(U.showModal=e[1]),t=new Io({props:U}),tt.push(()=>An(t,"showModal",G));let j=e[5];const K=W=>W[19];for(let W=0;W<j.length;W+=1){let Y=ai(e,j,W),Q=K(Y);v.set(Q,_[W]=ui(Q,Y))}return{c(){le(t.$$.fragment),l=P(),o=A("div"),r=A("div"),s=A("h5"),s.textContent="Vote Feedback Instructions",u=P(),a=A("p"),a.innerHTML=`Ask a question to receive an answer from the chatbot. If the response is
      satisfactory, click on the <span class="inline-button green svelte-yzyd3k">üëç</span>
      button. If the repsonse is not satisfactory, click on the
      <span class="inline-button red svelte-yzyd3k">üëé</span> button.`,f=P(),c=A("button"),c.textContent="Download Data",d=P(),g=A("div"),p=A("section"),m=A("div");for(let W=0;W<_.length;W+=1)_[W].c();w=P(),y=A("div"),C=A("form"),M=A("input"),S=P(),E=A("button"),R=q($),F=P(),T=A("p"),T.textContent="Note - may produce inaccurate information.",h(s,"class","underline bold svelte-yzyd3k"),h(a,"class","svelte-yzyd3k"),h(c,"class","svelte-yzyd3k"),h(r,"class","instructions svelte-yzyd3k"),h(m,"class","chat-log svelte-yzyd3k"),h(p,"class","chatbox svelte-yzyd3k"),h(M,"class","chat-input-textarea svelte-yzyd3k"),h(M,"placeholder","Type Question Here"),h(E,"class",k="btnyousend "+(e[2]===""?"":"active")+" svelte-yzyd3k"),h(E,"type","submit"),h(C,"class","chat-input-form svelte-yzyd3k"),h(T,"class","message svelte-yzyd3k"),h(y,"class","chat-input-holder svelte-yzyd3k"),h(g,"class","ranked-chat svelte-yzyd3k"),h(o,"class","ranked-feedback-container svelte-yzyd3k")},m(W,Y){ee(t,W,Y),O(W,l,Y),O(W,o,Y),b(o,r),b(r,s),b(r,u),b(r,a),b(r,f),b(r,c),b(o,d),b(o,g),b(g,p),b(p,m);for(let Q=0;Q<_.length;Q+=1)_[Q]&&_[Q].m(m,null);b(g,w),b(g,y),b(y,C),b(C,M),Qe(M,e[2]),b(C,S),b(C,E),b(E,R),b(y,F),b(y,T),I=!0,V||(D=[x(c,"click",e[7]),x(M,"input",e[11]),x(C,"submit",e[6])],V=!0)},p(W,[Y]){const Q={};!n&&Y&2&&(n=!0,Q.showModal=W[1],$n(()=>n=!1)),t.$set(Q),Y&33&&(j=W[5],_e(),_=pt(_,Y,K,1,W,j,v,m,Mo,ui,null,ai),ve()),Y&4&&M.value!==W[2]&&Qe(M,W[2]),(!I||Y&24)&&$!==($=(W[3]?W[4]:"Send")+"")&&J(R,$),(!I||Y&4&&k!==(k="btnyousend "+(W[2]===""?"":"active")+" svelte-yzyd3k"))&&h(E,"class",k)},i(W){if(!I){z(t.$$.fragment,W);for(let Y=0;Y<j.length;Y+=1)z(_[Y]);I=!0}},o(W){L(t.$$.fragment,W);for(let Y=0;Y<_.length;Y+=1)L(_[Y]);I=!1},d(W){te(t,W),W&&N(l),W&&N(o);for(let Y=0;Y<_.length;Y+=1)_[Y].d();V=!1,he(D)}}}function ud(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}function fd(e,t,n){let l,o;ae(e,Ge,w=>n(5,o=w));let r=!1,{feedback:s=!1}=t,{is_retrieval:u=!1}=t,a="",f="",c=!1;ct(()=>{d()});async function d(){const M=(await(await fetch("/chat/qa_table/retrieve")).json()).rows.map(S=>({id:S[0],question:S[1],answer:S[2],vote_status:S[3]}));De(Ge,o=[...M],o)}const g=async w=>{w.preventDefault(),a=f,n(2,f=""),n(3,c=!0);let y={id:o.length+1,question:a,answer:"Loading...",vote_status:"na"};De(Ge,o=[...o,y],o);const C=u?await fetch("/retrieval/new_message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:a})}):await fetch(`/chat/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:a})});if(C.ok){const M=await C.json();console.log("response data",M),y.answer=M.answer,Ge.update(S=>(S[S.length-1]=y,S))}else{const M=await C.text();alert(M)}n(3,c=!1)};let p=0;setInterval(()=>{n(9,p=(p+1)%4)},200);function m(){n(1,r=!0)}[...Array(10).keys()].map(w=>String.fromCharCode(65+w));function _(w){r=w,n(1,r)}function v(){f=this.value,n(2,f)}return e.$$set=w=>{"feedback"in w&&n(0,s=w.feedback),"is_retrieval"in w&&n(8,u=w.is_retrieval)},e.$$.update=()=>{e.$$.dirty&512&&n(4,l=".".repeat(p).padEnd(3))},[s,r,f,c,l,o,g,m,u,p,_,v]}class No extends fe{constructor(t){super(),ce(this,t,fd,ad,ue,{feedback:0,is_retrieval:8})}}function fi(e,t,n){const l=e.slice();return l[14]=t[n],l[16]=n,l}function ci(e,t){let n,l,o,r,s,u,a,f,c,d=t[14].question+"",g,p,m,_,v,w,y,C=t[14].up_ranking_answer+"",M,S,E,$,R,k,F=t[14].low_ranking_answer+"",T,I,V,D,G;function U(...Y){return t[7](t[14],t[16],...Y)}function j(...Y){return t[8](t[14],t[16],...Y)}function K(...Y){return t[9](t[14],t[16],...Y)}function W(...Y){return t[10](t[14],t[16],...Y)}return{key:e,first:null,c(){n=A("div"),l=A("div"),o=A("div"),r=P(),s=A("div"),u=A("div"),a=A("h5"),a.textContent="Question:",f=P(),c=A("p"),g=q(d),p=P(),m=A("div"),_=A("div"),v=A("h5"),v.textContent="Response 1:",w=P(),y=A("p"),M=q(C),S=P(),E=A("div"),$=A("h5"),$.textContent="Response 2:",R=P(),k=A("p"),T=q(F),I=P(),h(o,"class","avatar"),h(a,"class","bold svelte-au920n"),h(u,"class","question svelte-au920n"),h(v,"class","bold underline svelte-au920n"),h(_,"class","answer svelte-au920n"),h($,"class","bold underline svelte-au920n"),h(E,"class","answer svelte-au920n"),h(m,"class","answers svelte-au920n"),h(s,"class","message-content svelte-au920n"),h(l,"class","chat-message-center svelte-au920n"),h(n,"class","chat-message svelte-au920n"),this.first=n},m(Y,Q){O(Y,n,Q),b(n,l),b(l,o),b(l,r),b(l,s),b(s,u),b(u,a),b(u,f),b(u,c),b(c,g),b(s,p),b(s,m),b(m,_),b(_,v),b(_,w),b(_,y),b(y,M),b(m,S),b(m,E),b(E,$),b(E,R),b(E,k),b(k,T),b(n,I),D||(G=[x(_,"click",U),x(_,"keydown",j),x(E,"click",K),x(E,"keydown",W),Vt(V=dd.call(null,n,t[16]===t[3].length-1))],D=!0)},p(Y,Q){t=Y,Q&8&&d!==(d=t[14].question+"")&&J(g,d),Q&8&&C!==(C=t[14].up_ranking_answer+"")&&J(M,C),Q&8&&F!==(F=t[14].low_ranking_answer+"")&&J(T,F),V&&Ve(V.update)&&Q&8&&V.update.call(null,t[16]===t[3].length-1)},d(Y){Y&&N(n),D=!1,he(G)}}}function cd(e){let t,n,l,o,r,s,u=[],a=new Map,f,c,d,g,p,m,_=(e[1]?e[2]:"Send")+"",v,w,y,C,M,S,E=e[3];const $=R=>R[16];for(let R=0;R<E.length;R+=1){let k=fi(e,E,R),F=$(k);a.set(F,u[R]=ci(F,k))}return{c(){t=A("div"),n=A("div"),n.innerHTML=`<h5 class="underline bold svelte-au920n">Ranked Feedback Instructions</h5> 
    <p class="svelte-au920n">Ask a question and click on the better of the two responses. The better
      response will be outlined in <span class="green svelte-au920n">green</span>, the worse
      response outlined in <span class="red svelte-au920n">red</span>. This data will be
      automatically fed to RLHF.</p> 
    <button class="svelte-au920n">Download Data</button>`,l=P(),o=A("div"),r=A("section"),s=A("div");for(let R=0;R<u.length;R+=1)u[R].c();f=P(),c=A("div"),d=A("form"),g=A("input"),p=P(),m=A("button"),v=q(_),y=P(),C=A("p"),C.textContent="Note - may produce inaccurate information.",h(n,"class","instructions svelte-au920n"),h(s,"class","chat-log svelte-au920n"),h(r,"class","chatbox svelte-au920n"),h(g,"class","chat-input-textarea svelte-au920n"),h(g,"placeholder","Type Message Here"),h(m,"class",w="btnyousend "+(e[0]===""?"":"active")+" svelte-au920n"),h(m,"type","submit"),h(d,"class","chat-input-form svelte-au920n"),h(C,"class","message svelte-au920n"),h(c,"class","chat-input-holder svelte-au920n"),h(o,"class","ranked-chat svelte-au920n"),h(t,"class","ranked-feedback-container svelte-au920n")},m(R,k){O(R,t,k),b(t,n),b(t,l),b(t,o),b(o,r),b(r,s);for(let F=0;F<u.length;F+=1)u[F]&&u[F].m(s,null);b(o,f),b(o,c),b(c,d),b(d,g),Qe(g,e[0]),b(d,p),b(d,m),b(m,v),b(c,y),b(c,C),M||(S=[x(g,"input",e[11]),x(d,"submit",e[4])],M=!0)},p(R,[k]){k&40&&(E=R[3],u=pt(u,k,$,1,R,E,a,s,en,ci,null,fi)),k&1&&g.value!==R[0]&&Qe(g,R[0]),k&6&&_!==(_=(R[1]?R[2]:"Send")+"")&&J(v,_),k&1&&w!==(w="btnyousend "+(R[0]===""?"":"active")+" svelte-au920n")&&h(m,"class",w)},i:X,o:X,d(R){R&&N(t);for(let k=0;k<u.length;k+=1)u[k].d();M=!1,he(S)}}}function dd(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function hd(e){const t=await fetch("/chat/ranking_table/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok)console.log("response",t);else{const n=await t.text();alert(n)}}function gd(e,t,n){let l,o;ae(e,Il,v=>n(3,o=v));let r="",s="",u=!1;ct(()=>{});const a=async v=>{v.preventDefault(),r=s,n(0,s=""),n(1,u=!0);let w={question:r,up_ranking_answer:"Loading...",low_ranking_answer:"Loading..."};De(Il,o=[...o,w],o);const y=await fetch(`/chat/multi_responses/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:r})});if(y.ok){const C=await y.json();w.up_ranking_answer=C.answer[0],w.low_ranking_answer=C.answer[1],Il.update(M=>(M[M.length-1]=w,M))}else{const C=await y.text();alert(C)}n(1,u=!1)};let f=0;setInterval(()=>{n(6,f=(f+1)%4)},200);function c(v,w,y,C){const M=o[y],S={1:"up_ranking_answer",2:"low_ranking_answer"},E={question:M.question,up_ranking_answer:M[S[C]],low_ranking_answer:M[S[C%2+1]]};hd(E),Mn(v.currentTarget.parentNode).selectAll("div").style("outline","2px solid var(--red)").style("border","1px solid var(--red)"),Mn(v.currentTarget).style("outline","2px solid var(--green)").style("border","1px solid var(--green)")}const d=(v,w,y)=>c(y,v,w,1),g=(v,w,y)=>c(y,v,w,1),p=(v,w,y)=>c(y,v,w,2),m=(v,w,y)=>c(y,v,w,2);function _(){s=this.value,n(0,s)}return e.$$.update=()=>{e.$$.dirty&64&&n(2,l=".".repeat(f).padEnd(3))},[s,u,l,o,a,c,f,d,g,p,m,_]}class pd extends fe{constructor(t){super(),ce(this,t,gd,cd,ue,{})}}function io(e,t=2){if(e===0)return"0 Bytes";const n=1024,l=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(l))+" "+o[r]}function md(e){let t={who:0,what:0,how:0,why:0,where:0,does:0,can:0,"n/a":0};for(let l=0;l<e.length;l++){let o=e[l].question.split(" ")[0].toLowerCase();o in t?t[o]++:t["n/a"]++}return Object.keys(t).map(l=>({question:l,count:t[l]}))}function Aa(e){return e.map(t=>{const n=t.question.split(" ").length,l=t.answer.split(" ").length;return{index:t.index,question:+n,answer:+l,vote:t.vote}})}function Ra(e,t){e.classList.add("tooltip"),e.setAttribute("tabindex",0);function n(){const o=document.createElement("span");o.textContent=t,o.setAttribute("id","tooltip"),e.appendChild(o),e.addEventListener("mouseleave",l),e.addEventListener("blur",l),e.removeEventListener("mouseenter",n),e.removeEventListener("focus",n)}function l(){e.removeChild(e.querySelector("#tooltip")),e.removeEventListener("mouseleave",l),e.removeEventListener("blur",l),e.addEventListener("mouseenter",n),e.addEventListener("focus",n)}return e.addEventListener("mouseenter",n),e.addEventListener("focus",n),{onDestroy(){e.classList.remove("tooltip"),e.removeEventListener("mouseenter",n),e.removeEventListener("focus",n)}}}function _d(e){const t=n=>{e&&!e.contains(n.target)&&!n.defaultPrevented&&e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function di(e,t,n){const l=e.slice();return l[11]=t[n],l[13]=n,l}function vd(e){let t,n,l,o,r,s,u,a,f=e[0],c=[];for(let d=0;d<f.length;d+=1)c[d]=hi(di(e,f,d));return{c(){t=A("div"),n=A("button"),n.textContent="Select All",l=P(),o=A("button"),o.textContent="Deselect All",r=P(),s=A("div");for(let d=0;d<c.length;d+=1)c[d].c();h(n,"class","svelte-1betmla"),h(o,"class","svelte-1betmla"),h(t,"class","select-button-container svelte-1betmla"),h(s,"class","checkbox-container svelte-1betmla")},m(d,g){O(d,t,g),b(t,n),b(t,l),b(t,o),O(d,r,g),O(d,s,g);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(s,null);u||(a=[x(n,"click",e[6]),x(o,"click",e[7])],u=!0)},p(d,g){if(g&35){f=d[0];let p;for(p=0;p<f.length;p+=1){const m=di(d,f,p);c[p]?c[p].p(m,g):(c[p]=hi(m),c[p].c(),c[p].m(s,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}},d(d){d&&N(t),d&&N(r),d&&N(s),pe(c,d),u=!1,he(a)}}}function bd(e){let t;return{c(){t=A("div"),t.textContent="No documents found. Please upload via the RetrievalQA component."},m(n,l){O(n,t,l)},p:X,d(n){n&&N(t)}}}function hi(e){let t,n,l,o,r,s,u=gi(e[11].name)+"",a,f,c,d,g,p;function m(..._){return e[9](e[11],..._)}return{c(){t=A("label"),n=A("input"),r=P(),s=A("span"),a=q(u),c=P(),h(n,"type","checkbox"),h(n,"id",l=e[11].id),n.checked=o=e[1].has(e[11].name),h(n,"class","svelte-1betmla"),h(s,"class","svelte-1betmla"),h(t,"for",d=e[11].id),h(t,"class","svelte-1betmla")},m(_,v){O(_,t,v),b(t,n),b(t,r),b(t,s),b(s,a),b(t,c),g||(p=[x(n,"change",m),Vt(f=Ra.call(null,s,e[11].name))],g=!0)},p(_,v){e=_,v&1&&l!==(l=e[11].id)&&h(n,"id",l),v&3&&o!==(o=e[1].has(e[11].name))&&(n.checked=o),v&1&&u!==(u=gi(e[11].name)+"")&&J(a,u),f&&Ve(f.update)&&v&1&&f.update.call(null,e[11].name),v&1&&d!==(d=e[11].id)&&h(t,"for",d)},d(_){_&&N(t),g=!1,he(p)}}}function wd(e){let t,n,l,o,r,s,u,a,f,c,d;function g(_,v){return _[0].length===0?bd:vd}let p=g(e),m=p(e);return{c(){t=A("form"),n=A("div"),l=A("div"),o=A("select"),r=A("option"),r.textContent="Documents",s=P(),u=A("div"),a=P(),f=A("div"),m.c(),r.__value="Documents",r.value=r.__value,h(o,"class","svelte-1betmla"),h(u,"class","overSelect svelte-1betmla"),h(l,"class","selectBox svelte-1betmla"),h(f,"class","dropdown-content svelte-1betmla"),ye(f,"display",e[2]?"block":"none"),h(n,"class","multiselect svelte-1betmla")},m(_,v){O(_,t,v),b(t,n),b(n,l),b(l,o),b(o,r),b(l,s),b(l,u),b(n,a),b(n,f),m.m(f,null),e[10](f),c||(d=[x(l,"click",e[4]),Vt(_d.call(null,n)),x(n,"click_outside",e[8])],c=!0)},p(_,[v]){p===(p=g(_))&&m?m.p(_,v):(m.d(1),m=p(_),m&&(m.c(),m.m(f,null))),v&4&&ye(f,"display",_[2]?"block":"none")},i:X,o:X,d(_){_&&N(t),m.d(),e[10](null),c=!1,he(d)}}}function gi(e){const n=Math.floor(8);return e.length>16?e.slice(0,n)+"..."+e.slice(-n):e}function yd(e,t,n){let l;ae(e,It,m=>n(1,l=m));let{documents:o=[]}=t,r=!1,s;function u(m){m.preventDefault(),n(2,r=!r)}function a(m,_){_.target.checked?l.add(m):l.delete(m),It.set(new Set(l))}function f(m){m.preventDefault(),De(It,l=new Set(o.map(_=>_.name)),l),It.set(new Set(l))}function c(m){m.preventDefault(),De(It,l=new Set,l),It.set(new Set(l))}function d(m){m.preventDefault(),console.log("click outside"),n(2,r=!1)}const g=(m,_)=>a(m.name,_);function p(m){tt[m?"unshift":"push"](()=>{s=m,n(3,s)})}return e.$$set=m=>{"documents"in m&&n(0,o=m.documents)},e.$$.update=()=>{e.$$.dirty&2&&console.log(l)},[o,l,r,s,u,a,f,c,d,g,p]}let kd=class extends fe{constructor(t){super(),ce(this,t,yd,wd,ue,{documents:0})}};function En(e,{delay:t=0,duration:n=400,easing:l=Eo,axis:o="y"}={}){const r=getComputedStyle(e),s=+r.opacity,u=o==="y"?"height":"width",a=parseFloat(r[u]),f=o==="y"?["top","bottom"]:["left","right"],c=f.map(w=>`${w[0].toUpperCase()}${w.slice(1)}`),d=parseFloat(r[`padding${c[0]}`]),g=parseFloat(r[`padding${c[1]}`]),p=parseFloat(r[`margin${c[0]}`]),m=parseFloat(r[`margin${c[1]}`]),_=parseFloat(r[`border${c[0]}Width`]),v=parseFloat(r[`border${c[1]}Width`]);return{delay:t,duration:n,easing:l,css:w=>`overflow: hidden;opacity: ${Math.min(w*20,1)*s};${u}: ${w*a}px;padding-${f[0]}: ${w*d}px;padding-${f[1]}: ${w*g}px;margin-${f[0]}: ${w*p}px;margin-${f[1]}: ${w*m}px;border-${f[0]}-width: ${w*_}px;border-${f[1]}-width: ${w*v}px;`}}function Ln(e,{delay:t=0,duration:n=400,easing:l=Eo,start:o=0,opacity:r=0}={}){const s=getComputedStyle(e),u=+s.opacity,a=s.transform==="none"?"":s.transform,f=1-o,c=u*(1-r);return{delay:t,duration:n,easing:l,css:(d,g)=>`
			transform: ${a} scale(${1-f*g});
			opacity: ${u-c*g}
		`}}function Sd(e){let t;return{c(){t=A("p"),t.textContent="‚åÑ",h(t,"class","svelte-1pk2e1k")},m(n,l){O(n,t,l)},d(n){n&&N(t)}}}function Cd(e){let t;return{c(){t=A("p"),t.textContent="‚åÉ",h(t,"class","svelte-1pk2e1k")},m(n,l){O(n,t,l)},d(n){n&&N(t)}}}function pi(e){let t,n,l,o,r;return{c(){t=A("div"),n=A("p"),l=q(e[1]),h(n,"class","bold svelte-1pk2e1k"),h(t,"class","source_content svelte-1pk2e1k")},m(s,u){O(s,t,u),b(t,n),b(n,l),r=!0},p(s,u){(!r||u&2)&&J(l,s[1])},i(s){r||(Re(()=>{r&&(o||(o=ot(t,En,{},!0)),o.run(1))}),r=!0)},o(s){o||(o=ot(t,En,{},!1)),o.run(0),r=!1},d(s){s&&N(t),s&&o&&o.end()}}}function $d(e){let t,n,l,o=e[2]+1+"",r,s,u,a,f,c,d,g,p;function m(y,C){return y[3]?Cd:Sd}let _=m(e),v=_(e),w=e[3]&&pi(e);return{c(){t=A("div"),n=A("div"),l=A("p"),r=q(o),s=q(": "),u=q(e[0]),a=P(),v.c(),c=P(),w&&w.c(),h(l,"class","bold svelte-1pk2e1k"),h(n,"class","source_tab svelte-1pk2e1k"),h(t,"class","source svelte-1pk2e1k")},m(y,C){O(y,t,C),b(t,n),b(n,l),b(l,r),b(l,s),b(l,u),b(n,a),v.m(n,null),b(t,c),w&&w.m(t,null),d=!0,g||(p=x(n,"click",e[4]),g=!0)},p(y,[C]){(!d||C&4)&&o!==(o=y[2]+1+"")&&J(r,o),(!d||C&1)&&J(u,y[0]),_!==(_=m(y))&&(v.d(1),v=_(y),v&&(v.c(),v.m(n,null))),y[3]?w?(w.p(y,C),C&8&&z(w,1)):(w=pi(y),w.c(),z(w,1),w.m(t,null)):w&&(_e(),L(w,1,1,()=>{w=null}),ve())},i(y){d||(Re(()=>{d&&(f||(f=ot(n,En,{},!0)),f.run(1))}),z(w),d=!0)},o(y){f||(f=ot(n,En,{},!1)),f.run(0),L(w),d=!1},d(y){y&&N(t),v.d(),y&&f&&f.end(),w&&w.d(),g=!1,p()}}}function Ad(e,t,n){let{source:l=""}=t,{source_content:o=""}=t,{i:r=0}=t,s=r===0;const u=()=>n(3,s=!s);return e.$$set=a=>{"source"in a&&n(0,l=a.source),"source_content"in a&&n(1,o=a.source_content),"i"in a&&n(2,r=a.i)},[l,o,r,s,u]}class Rd extends fe{constructor(t){super(),ce(this,t,Ad,$d,ue,{source:0,source_content:1,i:2})}}function mi(e,t,n){const l=e.slice();return l[4]=t[n],l[6]=n,l}function _i(e){let t,n,l,o;const r=[Dd,Fd,Ed,Md],s=[];function u(a,f){return a[0][0]==="N/A"?0:a[0][0]==="Loading..."?1:a[0][0]==="Not loaded"?2:3}return t=u(e),n=s[t]=r[t](e),{c(){n.c(),l=ke()},m(a,f){s[t].m(a,f),O(a,l,f),o=!0},p(a,f){let c=t;t=u(a),t===c?s[t].p(a,f):(_e(),L(s[c],1,1,()=>{s[c]=null}),ve(),n=s[t],n?n.p(a,f):(n=s[t]=r[t](a),n.c()),z(n,1),n.m(l.parentNode,l))},i(a){o||(z(n),o=!0)},o(a){L(n),o=!1},d(a){s[t].d(a),a&&N(l)}}}function Md(e){let t,n,l,o=e[0].length+"",r,s,u,a,f,c,d,g;function p(w,y){return w[2]?Nd:Id}let m=p(e),_=m(e),v=e[2]&&vi(e);return{c(){t=A("div"),n=A("h5"),l=q("üìñ Response Sources ("),r=q(o),s=q(")"),u=P(),_.c(),a=P(),v&&v.c(),f=ke(),h(n,"class","bold"),h(t,"class","sources-header svelte-1r759df")},m(w,y){O(w,t,y),b(t,n),b(n,l),b(n,r),b(n,s),b(t,u),_.m(t,null),O(w,a,y),v&&v.m(w,y),O(w,f,y),c=!0,d||(g=x(t,"click",e[3]),d=!0)},p(w,y){(!c||y&1)&&o!==(o=w[0].length+"")&&J(r,o),m!==(m=p(w))&&(_.d(1),_=m(w),_&&(_.c(),_.m(t,null))),w[2]?v?(v.p(w,y),y&4&&z(v,1)):(v=vi(w),v.c(),z(v,1),v.m(f.parentNode,f)):v&&(_e(),L(v,1,1,()=>{v=null}),ve())},i(w){c||(z(v),c=!0)},o(w){L(v),c=!1},d(w){w&&N(t),_.d(),w&&N(a),v&&v.d(w),w&&N(f),d=!1,g()}}}function Ed(e){let t;return{c(){t=A("h5"),t.textContent="‚ö†Ô∏è No sources loaded",h(t,"class","bold")},m(n,l){O(n,t,l)},p:X,i:X,o:X,d(n){n&&N(t)}}}function Fd(e){let t;return{c(){t=A("h5"),t.textContent="üìñ Loading...",h(t,"class","bold")},m(n,l){O(n,t,l)},p:X,i:X,o:X,d(n){n&&N(t)}}}function Dd(e){let t;return{c(){t=A("h5"),t.textContent="‚ö†Ô∏è No Retrieval Sources selected or received",h(t,"class","bold")},m(n,l){O(n,t,l)},p:X,i:X,o:X,d(n){n&&N(t)}}}function Id(e){let t;return{c(){t=A("span"),t.textContent="‚åÑ"},m(n,l){O(n,t,l)},d(n){n&&N(t)}}}function Nd(e){let t;return{c(){t=A("span"),t.textContent="‚åÉ"},m(n,l){O(n,t,l)},d(n){n&&N(t)}}}function vi(e){let t,n,l=e[0],o=[];for(let s=0;s<l.length;s+=1)o[s]=bi(mi(e,l,s));const r=s=>L(o[s],1,1,()=>{o[s]=null});return{c(){for(let s=0;s<o.length;s+=1)o[s].c();t=ke()},m(s,u){for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(s,u);O(s,t,u),n=!0},p(s,u){if(u&3){l=s[0];let a;for(a=0;a<l.length;a+=1){const f=mi(s,l,a);o[a]?(o[a].p(f,u),z(o[a],1)):(o[a]=bi(f),o[a].c(),z(o[a],1),o[a].m(t.parentNode,t))}for(_e(),a=l.length;a<o.length;a+=1)r(a);ve()}},i(s){if(!n){for(let u=0;u<l.length;u+=1)z(o[u]);n=!0}},o(s){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)L(o[u]);n=!1},d(s){pe(o,s),s&&N(t)}}}function bi(e){let t,n;return t=new Rd({props:{source:e[4],source_content:e[1][e[6]],i:e[6]}}),{c(){le(t.$$.fragment)},m(l,o){ee(t,l,o),n=!0},p(l,o){const r={};o&1&&(r.source=l[4]),o&2&&(r.source_content=l[1][l[6]]),t.$set(r)},i(l){n||(z(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){te(t,l)}}}function Pd(e){let t,n,l=e[0]!==void 0&&_i(e);return{c(){t=A("div"),l&&l.c(),h(t,"class","sources svelte-1r759df")},m(o,r){O(o,t,r),l&&l.m(t,null),n=!0},p(o,[r]){o[0]!==void 0?l?(l.p(o,r),r&1&&z(l,1)):(l=_i(o),l.c(),z(l,1),l.m(t,null)):l&&(_e(),L(l,1,1,()=>{l=null}),ve())},i(o){n||(z(l),n=!0)},o(o){L(l),n=!1},d(o){o&&N(t),l&&l.d()}}}function Td(e,t,n){let{sources:l=[]}=t,{source_content:o=[]}=t,r=!1;const s=()=>n(2,r=!r);return e.$$set=u=>{"sources"in u&&n(0,l=u.sources),"source_content"in u&&n(1,o=u.source_content)},[l,o,r,s]}class Od extends fe{constructor(t){super(),ce(this,t,Td,Pd,ue,{sources:0,source_content:1})}}function wi(e,t,n){const l=e.slice();return l[4]=t[n],l}function yi(e,t,n){const l=e.slice();return l[4]=t[n],l}function ki(e){let t,n,l,o=e[4].label+"",r,s,u,a,f;return{c(){t=A("li"),n=A("span"),l=A("h5"),r=q(o),s=P(),h(l,"class","bold"),h(n,"class","svelte-iwm583"),h(t,"class",u=Qo(e[0]===e[4].value?"active":"")+" svelte-iwm583")},m(c,d){O(c,t,d),b(t,n),b(n,l),b(l,r),b(t,s),a||(f=x(n,"click",function(){Ve(e[3](e[4].value))&&e[3](e[4].value).apply(this,arguments)}),a=!0)},p(c,d){e=c,d&2&&o!==(o=e[4].label+"")&&J(r,o),d&3&&u!==(u=Qo(e[0]===e[4].value?"active":"")+" svelte-iwm583")&&h(t,"class",u)},d(c){c&&N(t),a=!1,f()}}}function Si(e){let t,n,l,o;const r=[e[2]];var s=e[4].component;function u(a){let f={};for(let c=0;c<r.length;c+=1)f=Cn(f,r[c]);return{props:f}}return s&&(n=At(s,u())),{c(){t=A("div"),n&&le(n.$$.fragment),l=P(),h(t,"class","box svelte-iwm583")},m(a,f){O(a,t,f),n&&ee(n,t,null),b(t,l),o=!0},p(a,f){const c=f&4?ua(r,[fa(a[2])]):{};if(f&2&&s!==(s=a[4].component)){if(n){_e();const d=n;L(d.$$.fragment,1,0,()=>{te(d,1)}),ve()}s?(n=At(s,u()),le(n.$$.fragment),z(n.$$.fragment,1),ee(n,t,l)):n=null}else s&&n.$set(c)},i(a){o||(n&&z(n.$$.fragment,a),o=!0)},o(a){n&&L(n.$$.fragment,a),o=!1},d(a){a&&N(t),n&&te(n)}}}function Ci(e){let t,n,l=e[0]==e[4].value&&Si(e);return{c(){l&&l.c(),t=ke()},m(o,r){l&&l.m(o,r),O(o,t,r),n=!0},p(o,r){o[0]==o[4].value?l?(l.p(o,r),r&3&&z(l,1)):(l=Si(o),l.c(),z(l,1),l.m(t.parentNode,t)):l&&(_e(),L(l,1,1,()=>{l=null}),ve())},i(o){n||(z(l),n=!0)},o(o){L(l),n=!1},d(o){l&&l.d(o),o&&N(t)}}}function zd(e){let t,n,l,o,r=e[1],s=[];for(let c=0;c<r.length;c+=1)s[c]=ki(yi(e,r,c));let u=e[1],a=[];for(let c=0;c<u.length;c+=1)a[c]=Ci(wi(e,u,c));const f=c=>L(a[c],1,1,()=>{a[c]=null});return{c(){t=A("ul");for(let c=0;c<s.length;c+=1)s[c].c();n=P();for(let c=0;c<a.length;c+=1)a[c].c();l=ke(),h(t,"class","svelte-iwm583")},m(c,d){O(c,t,d);for(let g=0;g<s.length;g+=1)s[g]&&s[g].m(t,null);O(c,n,d);for(let g=0;g<a.length;g+=1)a[g]&&a[g].m(c,d);O(c,l,d),o=!0},p(c,[d]){if(d&11){r=c[1];let g;for(g=0;g<r.length;g+=1){const p=yi(c,r,g);s[g]?s[g].p(p,d):(s[g]=ki(p),s[g].c(),s[g].m(t,null))}for(;g<s.length;g+=1)s[g].d(1);s.length=r.length}if(d&7){u=c[1];let g;for(g=0;g<u.length;g+=1){const p=wi(c,u,g);a[g]?(a[g].p(p,d),z(a[g],1)):(a[g]=Ci(p),a[g].c(),z(a[g],1),a[g].m(l.parentNode,l))}for(_e(),g=u.length;g<a.length;g+=1)f(g);ve()}},i(c){if(!o){for(let d=0;d<u.length;d+=1)z(a[d]);o=!0}},o(c){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)L(a[d]);o=!1},d(c){c&&N(t),pe(s,c),c&&N(n),pe(a,c),c&&N(l)}}}function Vd(e,t,n){let{items:l=[]}=t,{activeTabValue:o=1}=t,{tabProps:r={}}=t;const s=u=>()=>n(0,o=u);return e.$$set=u=>{"items"in u&&n(1,l=u.items),"activeTabValue"in u&&n(0,o=u.activeTabValue),"tabProps"in u&&n(2,r=u.tabProps)},[o,l,r,s]}class Ld extends fe{constructor(t){super(),ce(this,t,Vd,zd,ue,{items:1,activeTabValue:0,tabProps:2})}}function $i(e){let t;return{c(){t=q("Press ENTER to autofill with the RAG answer.")},m(n,l){O(n,t,l)},d(n){n&&N(t)}}}function qd(e){let t,n,l,o,r,s,u,a,f,c,d,g,p,m=e[0].edited_answer===sl&&$i();return{c(){t=A("form"),n=A("textarea"),o=P(),r=A("div"),s=A("div"),m&&m.c(),u=P(),a=A("div"),f=A("button"),f.textContent="Update",c=P(),d=A("button"),d.textContent="Reset",h(n,"placeholder",l=e[0].answer),h(s,"class","note svelte-i9wciy"),h(r,"class","button-container svelte-i9wciy")},m(_,v){O(_,t,v),b(t,n),Qe(n,e[0].edited_answer),e[6](n),b(t,o),b(t,r),b(r,s),m&&m.m(s,null),b(r,u),b(r,a),b(a,f),b(a,c),b(a,d),g||(p=[x(n,"input",e[5]),x(n,"keydown",e[4]),x(f,"click",e[2]),x(d,"click",e[3])],g=!0)},p(_,[v]){v&1&&l!==(l=_[0].answer)&&h(n,"placeholder",l),v&1&&Qe(n,_[0].edited_answer),_[0].edited_answer===sl?m||(m=$i(),m.c(),m.m(s,null)):m&&(m.d(1),m=null)},i:X,o:X,d(_){_&&N(t),e[6](null),m&&m.d(),g=!1,he(p)}}}const sl="";function Hd(e,t,n){let{message:l={}}=t,o;const r=async d=>{const g={id:l.id,new_answer:d},p=await fetch("/chat/rag_table/update_answer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(p.ok)console.log("Answer updated successfully",p),n(0,l.edited_answer=d,l);else{const m=await p.text();alert(m)}},s=d=>{d.preventDefault(),r(l.edited_answer)},u=d=>{d.preventDefault(),r(sl)},a=d=>{d.key=="Enter"&&l.edited_answer===sl&&(d.preventDefault(),console.log("ENTER"),n(0,l.edited_answer=l.answer,l))};ct(function(){o.focus()});function f(){l.edited_answer=this.value,n(0,l)}function c(d){tt[d?"unshift":"push"](()=>{o=d,n(1,o)})}return e.$$set=d=>{"message"in d&&n(0,l=d.message)},[l,o,s,u,a,f,c]}class Gd extends fe{constructor(t){super(),ce(this,t,Hd,qd,ue,{message:0})}}function Ai(e,t,n){const l=e.slice();return l[19]=t[n],l[21]=n,l}function Ri(e){let t,n,l,o,r,s,u,a;return{c(){t=A("div"),n=A("h5"),n.textContent="Vote Feedback Instructions",l=P(),o=A("p"),o.innerHTML=`Ask a question to receive an answer from the chatbot. If the response is
        satisfactory, click on the <span class="inline-button green svelte-uhmrzm">üëç</span>
        button. If the response is not satisfactory, click on the
        <span class="inline-button red svelte-uhmrzm">üëé</span> button.`,r=P(),s=A("button"),s.textContent="Download Data",h(n,"class","underline bold svelte-uhmrzm"),h(o,"class","svelte-uhmrzm"),h(s,"class","svelte-uhmrzm"),h(t,"class","instructions svelte-uhmrzm")},m(f,c){O(f,t,c),b(t,n),b(t,l),b(t,o),b(t,r),b(t,s),u||(a=x(s,"click",e[10]),u=!0)},p:X,d(f){f&&N(t),u=!1,a()}}}function Mi(e,t){let n,l,o,r,s,u,a,f,c,d=t[19].question+"",g,p,m,_,v,w,y,C,M,S,E,$,R,k,F,T;return M=new Ld({props:{items:t[8],tabProps:{message:t[19],feedback:t[0],index:t[21]}}}),E=new Od({props:{sources:t[19].source,source_content:t[19].source_content}}),{key:e,first:null,c(){n=A("div"),l=A("div"),o=A("div"),r=P(),s=A("div"),u=A("div"),a=A("h5"),a.textContent="Question:",f=P(),c=A("p"),g=q(d),p=P(),m=A("div"),_=A("p"),_.textContent="‚ÑπÔ∏è Retrieval Sources",w=P(),y=A("div"),C=A("div"),le(M.$$.fragment),S=P(),le(E.$$.fragment),$=P(),h(o,"class","avatar"),h(a,"class","bold"),h(_,"class","bold"),h(m,"class","rag-sources svelte-uhmrzm"),h(u,"class","question svelte-uhmrzm"),h(C,"class","answer svelte-uhmrzm"),h(y,"class","answers svelte-uhmrzm"),h(s,"class","message-content svelte-uhmrzm"),h(l,"class","chat-message-center svelte-uhmrzm"),h(n,"class","chat-message svelte-uhmrzm"),this.first=n},m(I,V){O(I,n,V),b(n,l),b(l,o),b(l,r),b(l,s),b(s,u),b(u,a),b(u,f),b(u,c),b(c,g),b(u,p),b(u,m),b(m,_),b(s,w),b(s,y),b(y,C),ee(M,C,null),b(s,S),ee(E,s,null),b(n,$),k=!0,F||(T=[Vt(v=Ra.call(null,_,Ei(t[19]))),Vt(R=Bd.call(null,n,t[21]===t[5].length-1))],F=!0)},p(I,V){t=I,(!k||V&32)&&d!==(d=t[19].question+"")&&J(g,d),v&&Ve(v.update)&&V&32&&v.update.call(null,Ei(t[19]));const D={};V&33&&(D.tabProps={message:t[19],feedback:t[0],index:t[21]}),M.$set(D);const G={};V&32&&(G.sources=t[19].source),V&32&&(G.source_content=t[19].source_content),E.$set(G),R&&Ve(R.update)&&V&32&&R.update.call(null,t[21]===t[5].length-1)},i(I){k||(z(M.$$.fragment,I),z(E.$$.fragment,I),k=!0)},o(I){L(M.$$.fragment,I),L(E.$$.fragment,I),k=!1},d(I){I&&N(n),te(M),te(E),F=!1,he(T)}}}function jd(e){let t,n,l,o,r,s,u,a,f=[],c=new Map,d,g,p,m,_,v,w,y,C,M=(e[2]?e[4]:"Send")+"",S,E,$,R,k,F,T;function I(j){e[13](j)}let V={table:"rag_table"};e[3]!==void 0&&(V.showModal=e[3]),t=new Io({props:V}),tt.push(()=>An(t,"showModal",I));let D=e[0]&&Ri(e),G=e[5];const U=j=>j[21];for(let j=0;j<G.length;j+=1){let K=Ai(e,G,j),W=U(K);c.set(W,f[j]=Mi(W,K))}return m=new kd({props:{documents:e[6]}}),{c(){le(t.$$.fragment),l=P(),o=A("div"),D&&D.c(),r=P(),s=A("div"),u=A("section"),a=A("div");for(let j=0;j<f.length;j+=1)f[j].c();d=P(),g=A("div"),p=A("div"),le(m.$$.fragment),_=P(),v=A("form"),w=A("input"),y=P(),C=A("button"),S=q(M),$=P(),R=A("p"),R.textContent="Note - may produce inaccurate information.",h(a,"class","chat-log svelte-uhmrzm"),h(u,"class","chatbox svelte-uhmrzm"),h(w,"class","chat-input-textarea svelte-uhmrzm"),h(w,"placeholder","Type Question Here"),h(C,"class",E="btnyousend "+(e[1]===""?"":"active")+" svelte-uhmrzm"),h(C,"type","submit"),h(v,"class","chat-input-form svelte-uhmrzm"),h(p,"class","chat-and-question svelte-uhmrzm"),h(R,"class","message svelte-uhmrzm"),h(g,"class","chat-input-holder svelte-uhmrzm"),h(s,"class","ranked-chat svelte-uhmrzm"),ye(s,"grid-column",e[0]?"span 1":"span 2"),h(o,"class","ranked-feedback-container svelte-uhmrzm")},m(j,K){ee(t,j,K),O(j,l,K),O(j,o,K),D&&D.m(o,null),b(o,r),b(o,s),b(s,u),b(u,a);for(let W=0;W<f.length;W+=1)f[W]&&f[W].m(a,null);b(s,d),b(s,g),b(g,p),ee(m,p,null),b(p,_),b(p,v),b(v,w),Qe(w,e[1]),b(v,y),b(v,C),b(C,S),b(g,$),b(g,R),k=!0,F||(T=[x(w,"input",e[14]),x(v,"submit",e[9])],F=!0)},p(j,[K]){const W={};!n&&K&8&&(n=!0,W.showModal=j[3],$n(()=>n=!1)),t.$set(W),j[0]?D?D.p(j,K):(D=Ri(j),D.c(),D.m(o,r)):D&&(D.d(1),D=null),K&289&&(G=j[5],_e(),f=pt(f,K,U,1,j,G,c,a,Mo,Mi,null,Ai),ve());const Y={};K&64&&(Y.documents=j[6]),m.$set(Y),K&2&&w.value!==j[1]&&Qe(w,j[1]),(!k||K&20)&&M!==(M=(j[2]?j[4]:"Send")+"")&&J(S,M),(!k||K&2&&E!==(E="btnyousend "+(j[1]===""?"":"active")+" svelte-uhmrzm"))&&h(C,"class",E),K&1&&ye(s,"grid-column",j[0]?"span 1":"span 2")},i(j){if(!k){z(t.$$.fragment,j);for(let K=0;K<G.length;K+=1)z(f[K]);z(m.$$.fragment,j),k=!0}},o(j){L(t.$$.fragment,j);for(let K=0;K<f.length;K+=1)L(f[K]);L(m.$$.fragment,j),k=!1},d(j){te(t,j),j&&N(l),j&&N(o),D&&D.d();for(let K=0;K<f.length;K+=1)f[K].d();te(m),F=!1,he(T)}}}function Bd(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}function Ei(e){return e.rag_sources.length===0?"No Sources":e.rag_sources.join(", ")}function xd(e,t,n){let l,o,r,s;ae(e,Ge,E=>n(5,o=E)),ae(e,It,E=>n(16,r=E));let{feedback:u=!1}=t,{is_retrieval:a=!1}=t;const f=Ie([]);ae(e,f,E=>n(6,s=E));let c="",d="",g=!1,p=!1,m=[{label:"Answer",value:1,component:$a},{label:"Modified Answer",value:2,component:Gd}];ct(()=>{v(),_()});async function _(){const $=await(await fetch("/retrieval/file/get")).json();console.log("data",$.files);const k=$.files.map((F,T)=>({id:String(T),name:F.name}));console.log("files",k),De(f,s=[...k],s)}async function v(){const R=(await(await fetch("/chat/rag_table/retrieve")).json()).rows;console.log("Got data from db",R);const k=R.map(F=>({id:F[0],question:F[1],answer:F[2],edited_answer:F[3],vote_status:F[4],rag_sources:F[5],source:F[6],source_content:F[7]}));De(Ge,o=[...k],o)}const w=async E=>{E.preventDefault(),c=d,n(1,d=""),n(2,g=!0);const $=[...r];let R={id:o.length+1,question:c,answer:"Loading...",rag_sources:$,vote_status:"na",source:["Loading..."],source_content:["Loading..."]};De(Ge,o=[...o,R],o);const k=a?await fetch("/retrieval/new_message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:c,file_names:$})}):await fetch(`/chat/${c}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:c})});if(k.ok){const F=await k.json();console.log("response data",F),R.answer=F.answer,R.source=F.source,R.source_content=F.source_content,Ge.update(T=>(T[T.length-1]=R,T))}else{const F=await k.text();alert(F)}n(2,g=!1)};let y=0;setInterval(()=>{n(12,y=(y+1)%4)},200);function C(){n(3,p=!0)}function M(E){p=E,n(3,p)}function S(){d=this.value,n(1,d)}return e.$$set=E=>{"feedback"in E&&n(0,u=E.feedback),"is_retrieval"in E&&n(11,a=E.is_retrieval)},e.$$.update=()=>{e.$$.dirty&4096&&n(4,l=".".repeat(y).padEnd(3))},[u,d,g,p,l,o,s,f,m,w,C,a,y,M,S]}class Ud extends fe{constructor(t){super(),ce(this,t,xd,jd,ue,{feedback:0,is_retrieval:11})}}function Fi(e){let t,n;return t=new No({props:{is_retrieval:e[1]}}),{c(){le(t.$$.fragment)},m(l,o){ee(t,l,o),n=!0},p(l,o){const r={};o&2&&(r.is_retrieval=l[1]),t.$set(r)},i(l){n||(z(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){te(t,l)}}}function Di(e){let t,n;return t=new No({props:{feedback:!0,is_retrieval:e[1]}}),{c(){le(t.$$.fragment)},m(l,o){ee(t,l,o),n=!0},p(l,o){const r={};o&2&&(r.is_retrieval=l[1]),t.$set(r)},i(l){n||(z(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){te(t,l)}}}function Ii(e){let t,n;return t=new Ud({props:{feedback:!1,is_retrieval:e[1]}}),{c(){le(t.$$.fragment)},m(l,o){ee(t,l,o),n=!0},p(l,o){const r={};o&2&&(r.is_retrieval=l[1]),t.$set(r)},i(l){n||(z(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){te(t,l)}}}function Ni(e){let t,n,l,o;const r=[Xd,Wd],s=[];function u(a,f){return a[1]?0:1}return t=u(e),n=s[t]=r[t](e),{c(){n.c(),l=ke()},m(a,f){s[t].m(a,f),O(a,l,f),o=!0},p(a,f){let c=t;t=u(a),t===c?s[t].p(a,f):(_e(),L(s[c],1,1,()=>{s[c]=null}),ve(),n=s[t],n?n.p(a,f):(n=s[t]=r[t](a),n.c()),z(n,1),n.m(l.parentNode,l))},i(a){o||(z(n),o=!0)},o(a){L(n),o=!1},d(a){s[t].d(a),a&&N(l)}}}function Wd(e){let t,n;return t=new pd({}),{c(){le(t.$$.fragment)},m(l,o){ee(t,l,o),n=!0},p:X,i(l){n||(z(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){te(t,l)}}}function Xd(e){let t,n;return t=new No({props:{feedback:!0,is_retrieval:e[1]}}),{c(){le(t.$$.fragment)},m(l,o){ee(t,l,o),n=!0},p(l,o){const r={};o&2&&(r.is_retrieval=l[1]),t.$set(r)},i(l){n||(z(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){te(t,l)}}}function Yd(e){let t,n,l,o,r,s=!e[0]&&Fi(e),u=e[0]==="vote"&&Di(e),a=e[0]==="rag"&&Ii(e),f=e[0]==="rank"&&Ni(e);return{c(){s&&s.c(),t=P(),u&&u.c(),n=P(),a&&a.c(),l=P(),f&&f.c(),o=ke()},m(c,d){s&&s.m(c,d),O(c,t,d),u&&u.m(c,d),O(c,n,d),a&&a.m(c,d),O(c,l,d),f&&f.m(c,d),O(c,o,d),r=!0},p(c,[d]){c[0]?s&&(_e(),L(s,1,1,()=>{s=null}),ve()):s?(s.p(c,d),d&1&&z(s,1)):(s=Fi(c),s.c(),z(s,1),s.m(t.parentNode,t)),c[0]==="vote"?u?(u.p(c,d),d&1&&z(u,1)):(u=Di(c),u.c(),z(u,1),u.m(n.parentNode,n)):u&&(_e(),L(u,1,1,()=>{u=null}),ve()),c[0]==="rag"?a?(a.p(c,d),d&1&&z(a,1)):(a=Ii(c),a.c(),z(a,1),a.m(l.parentNode,l)):a&&(_e(),L(a,1,1,()=>{a=null}),ve()),c[0]==="rank"?f?(f.p(c,d),d&1&&z(f,1)):(f=Ni(c),f.c(),z(f,1),f.m(o.parentNode,o)):f&&(_e(),L(f,1,1,()=>{f=null}),ve())},i(c){r||(z(s),z(u),z(a),z(f),r=!0)},o(c){L(s),L(u),L(a),L(f),r=!1},d(c){s&&s.d(c),c&&N(t),u&&u.d(c),c&&N(n),a&&a.d(c),c&&N(l),f&&f.d(c),c&&N(o)}}}function Qd(e,t,n){let{feedback:l}=t,{is_retrieval:o}=t;return e.$$set=r=>{"feedback"in r&&n(0,l=r.feedback),"is_retrieval"in r&&n(1,o=r.is_retrieval)},[l,o]}class Kd extends fe{constructor(t){super(),ce(this,t,Qd,Yd,ue,{feedback:0,is_retrieval:1})}}function Pi(e,t,n){const l=e.slice();return l[2]=t[n],l}function Ti(e){let t,n=e[2]+"",l,o;return{c(){t=A("option"),l=q(n),t.__value=o=e[2],t.value=t.__value},m(r,s){O(r,t,s),b(t,l)},p(r,s){s&1&&n!==(n=r[2]+"")&&J(l,n),s&1&&o!==(o=r[2])&&(t.__value=o,t.value=t.__value)},d(r){r&&N(t)}}}function Jd(e){let t,n=e[0],l=[];for(let o=0;o<n.length;o+=1)l[o]=Ti(Pi(e,n,o));return{c(){t=A("select");for(let o=0;o<l.length;o+=1)l[o].c()},m(o,r){O(o,t,r);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(t,null)},p(o,[r]){if(r&1){n=o[0];let s;for(s=0;s<n.length;s+=1){const u=Pi(o,n,s);l[s]?l[s].p(u,r):(l[s]=Ti(u),l[s].c(),l[s].m(t,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},i:X,o:X,d(o){o&&N(t),pe(l,o)}}}function Zd(e,t,n){let{data_endpoint:l}=t,o=[];return ct(async()=>{const r=await fetch(`/data/${l}`);n(0,o=await r.json())}),e.$$set=r=>{"data_endpoint"in r&&n(1,l=r.data_endpoint)},[o,l]}class eh extends fe{constructor(t){super(),ce(this,t,Zd,Jd,ue,{data_endpoint:1})}}function Qt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function th(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ma(e){let t,n,l;e.length!==2?(t=Qt,n=(u,a)=>Qt(e(u),a),l=(u,a)=>e(u)-a):(t=e===Qt||e===th?e:nh,n=e,l=e);function o(u,a,f=0,c=u.length){if(f<c){if(t(a,a)!==0)return c;do{const d=f+c>>>1;n(u[d],a)<0?f=d+1:c=d}while(f<c)}return f}function r(u,a,f=0,c=u.length){if(f<c){if(t(a,a)!==0)return c;do{const d=f+c>>>1;n(u[d],a)<=0?f=d+1:c=d}while(f<c)}return f}function s(u,a,f=0,c=u.length){const d=o(u,a,f,c-1);return d>f&&l(u[d-1],a)>-l(u[d],a)?d-1:d}return{left:o,center:s,right:r}}function nh(){return 0}function lh(e){return e===null?NaN:+e}function*oh(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let l of e)(l=t(l,++n,e))!=null&&(l=+l)>=l&&(yield l)}}const ih=Ma(Qt),rh=ih.right;Ma(lh).center;const Ea=rh;function sh(e,t){let n=0;if(t===void 0)for(let l of e)l!=null&&(l=+l)>=l&&++n;else{let l=-1;for(let o of e)(o=t(o,++l,e))!=null&&(o=+o)>=o&&++n}return n}function ah(e,t){let n=0,l,o=0,r=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(l=s-o,o+=l/++n,r+=l*(s-o));else{let s=-1;for(let u of e)(u=t(u,++s,e))!=null&&(u=+u)>=u&&(l=u-o,o+=l/++n,r+=l*(u-o))}if(n>1)return r/(n-1)}function uh(e,t){const n=ah(e,t);return n&&Math.sqrt(n)}function vn(e,t){let n,l;if(t===void 0)for(const o of e)o!=null&&(n===void 0?o>=o&&(n=l=o):(n>o&&(n=o),l<o&&(l=o)));else{let o=-1;for(let r of e)(r=t(r,++o,e))!=null&&(n===void 0?r>=r&&(n=l=r):(n>r&&(n=r),l<r&&(l=r)))}return[n,l]}class Oi extends Map{constructor(t,n=dh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[l,o]of t)this.set(l,o)}get(t){return super.get(zi(this,t))}has(t){return super.has(zi(this,t))}set(t,n){return super.set(fh(this,t),n)}delete(t){return super.delete(ch(this,t))}}function zi({_intern:e,_key:t},n){const l=t(n);return e.has(l)?e.get(l):n}function fh({_intern:e,_key:t},n){const l=t(n);return e.has(l)?e.get(l):(e.set(l,n),n)}function ch({_intern:e,_key:t},n){const l=t(n);return e.has(l)&&(n=e.get(l),e.delete(l)),n}function dh(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hh(e){return e}function gh(e=Qt){if(e===Qt)return Fa;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const l=e(t,n);return l||l===0?l:(e(n,n)===0)-(e(t,t)===0)}}function Fa(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var ph=Array.prototype,mh=ph.slice;function Pl(e){return()=>e}const _h=Math.sqrt(50),vh=Math.sqrt(10),bh=Math.sqrt(2);function al(e,t,n){const l=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(l)),r=l/Math.pow(10,o),s=r>=_h?10:r>=vh?5:r>=bh?2:1;let u,a,f;return o<0?(f=Math.pow(10,-o)/s,u=Math.round(e*f),a=Math.round(t*f),u/f<e&&++u,a/f>t&&--a,f=-f):(f=Math.pow(10,o)*s,u=Math.round(e/f),a=Math.round(t/f),u*f<e&&++u,a*f>t&&--a),a<u&&.5<=n&&n<2?al(e,t,n*2):[u,a,f]}function Da(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const l=t<e,[o,r,s]=l?al(t,e,n):al(e,t,n);if(!(r>=o))return[];const u=r-o+1,a=new Array(u);if(l)if(s<0)for(let f=0;f<u;++f)a[f]=(r-f)/-s;else for(let f=0;f<u;++f)a[f]=(r-f)*s;else if(s<0)for(let f=0;f<u;++f)a[f]=(o+f)/-s;else for(let f=0;f<u;++f)a[f]=(o+f)*s;return a}function tn(e,t,n){return t=+t,e=+e,n=+n,al(e,t,n)[2]}function wh(e,t,n){t=+t,e=+e,n=+n;const l=t<e,o=l?tn(t,e,n):tn(e,t,n);return(l?-1:1)*(o<0?1/-o:o)}function yh(e,t,n){let l;for(;;){const o=tn(e,t,n);if(o===l||o===0||!isFinite(o))return[e,t];o>0?(e=Math.floor(e/o)*o,t=Math.ceil(t/o)*o):o<0&&(e=Math.ceil(e*o)/o,t=Math.floor(t*o)/o),l=o}}function kh(e){return Math.max(1,Math.ceil(Math.log(sh(e))/Math.LN2)+1)}function Ia(){var e=hh,t=vn,n=kh;function l(o){Array.isArray(o)||(o=Array.from(o));var r,s=o.length,u,a,f=new Array(s);for(r=0;r<s;++r)f[r]=e(o[r],r,o);var c=t(f),d=c[0],g=c[1],p=n(f,d,g);if(!Array.isArray(p)){const C=g,M=+p;if(t===vn&&([d,g]=yh(d,g,M)),p=Da(d,g,M),p[0]<=d&&(a=tn(d,g,M)),p[p.length-1]>=g)if(C>=g&&t===vn){const S=tn(d,g,M);isFinite(S)&&(S>0?g=(Math.floor(g/S)+1)*S:S<0&&(g=(Math.ceil(g*-S)+1)/-S))}else p.pop()}for(var m=p.length,_=0,v=m;p[_]<=d;)++_;for(;p[v-1]>g;)--v;(_||v<m)&&(p=p.slice(_,v),m=v-_);var w=new Array(m+1),y;for(r=0;r<=m;++r)y=w[r]=[],y.x0=r>0?p[r-1]:d,y.x1=r<m?p[r]:g;if(isFinite(a)){if(a>0)for(r=0;r<s;++r)(u=f[r])!=null&&d<=u&&u<=g&&w[Math.min(m,Math.floor((u-d)/a))].push(o[r]);else if(a<0){for(r=0;r<s;++r)if((u=f[r])!=null&&d<=u&&u<=g){const C=Math.floor((d-u)*a);w[Math.min(m,C+(p[C]<=u))].push(o[r])}}}else for(r=0;r<s;++r)(u=f[r])!=null&&d<=u&&u<=g&&w[Ea(p,u,0,m)].push(o[r]);return w}return l.value=function(o){return arguments.length?(e=typeof o=="function"?o:Pl(o),l):e},l.domain=function(o){return arguments.length?(t=typeof o=="function"?o:Pl([o[0],o[1]]),l):t},l.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:Pl(Array.isArray(o)?mh.call(o):o),l):n},l}function mt(e,t){let n;if(t===void 0)for(const l of e)l!=null&&(n<l||n===void 0&&l>=l)&&(n=l);else{let l=-1;for(let o of e)(o=t(o,++l,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function ro(e,t){let n;if(t===void 0)for(const l of e)l!=null&&(n>l||n===void 0&&l>=l)&&(n=l);else{let l=-1;for(let o of e)(o=t(o,++l,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function Na(e,t,n=0,l=1/0,o){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),l=Math.floor(Math.min(e.length-1,l)),!(n<=t&&t<=l))return e;for(o=o===void 0?Fa:gh(o);l>n;){if(l-n>600){const a=l-n+1,f=t-n+1,c=Math.log(a),d=.5*Math.exp(2*c/3),g=.5*Math.sqrt(c*d*(a-d)/a)*(f-a/2<0?-1:1),p=Math.max(n,Math.floor(t-f*d/a+g)),m=Math.min(l,Math.floor(t+(a-f)*d/a+g));Na(e,t,p,m,o)}const r=e[t];let s=n,u=l;for(fn(e,n,t),o(e[l],r)>0&&fn(e,n,l);s<u;){for(fn(e,s,u),++s,--u;o(e[s],r)<0;)++s;for(;o(e[u],r)>0;)--u}o(e[n],r)===0?fn(e,n,u):(++u,fn(e,u,l)),u<=t&&(n=u+1),t<=u&&(l=u-1)}return e}function fn(e,t,n){const l=e[t];e[t]=e[n],e[n]=l}function Sh(e,t,n){if(e=Float64Array.from(oh(e,n)),!(!(l=e.length)||isNaN(t=+t))){if(t<=0||l<2)return ro(e);if(t>=1)return mt(e);var l,o=(l-1)*t,r=Math.floor(o),s=mt(Na(e,r).subarray(0,r+1)),u=ro(e.subarray(r+1));return s+(u-s)*(o-r)}}function Ch(e,t){let n=0,l=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(++n,l+=o);else{let o=-1;for(let r of e)(r=t(r,++o,e))!=null&&(r=+r)>=r&&(++n,l+=r)}if(n)return l/n}function $h(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var l=-1,o=Math.max(0,Math.ceil((t-e)/n))|0,r=new Array(o);++l<o;)r[l]=e+l*n;return r}function Ah(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ul(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,l=e.slice(0,n);return[l.length>1?l[0]+l.slice(2):l,+e.slice(n+1)]}function nn(e){return e=ul(Math.abs(e)),e?e[1]:NaN}function Rh(e,t){return function(n,l){for(var o=n.length,r=[],s=0,u=e[0],a=0;o>0&&u>0&&(a+u+1>l&&(u=Math.max(1,l-a)),r.push(n.substring(o-=u,o+u)),!((a+=u+1)>l));)u=e[s=(s+1)%e.length];return r.reverse().join(t)}}function Mh(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Eh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fl(e){if(!(t=Eh.exec(e)))throw new Error("invalid format: "+e);var t;return new Po({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fl.prototype=Po.prototype;function Po(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Po.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fh(e){e:for(var t=e.length,n=1,l=-1,o;n<t;++n)switch(e[n]){case".":l=o=n;break;case"0":l===0&&(l=n),o=n;break;default:if(!+e[n])break e;l>0&&(l=0);break}return l>0?e.slice(0,l)+e.slice(o+1):e}var Pa;function Dh(e,t){var n=ul(e,t);if(!n)return e+"";var l=n[0],o=n[1],r=o-(Pa=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,s=l.length;return r===s?l:r>s?l+new Array(r-s+1).join("0"):r>0?l.slice(0,r)+"."+l.slice(r):"0."+new Array(1-r).join("0")+ul(e,Math.max(0,t+r-1))[0]}function Vi(e,t){var n=ul(e,t);if(!n)return e+"";var l=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+l:l.length>o+1?l.slice(0,o+1)+"."+l.slice(o+1):l+new Array(o-l.length+2).join("0")}const Li={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ah,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Vi(e*100,t),r:Vi,s:Dh,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qi(e){return e}var Hi=Array.prototype.map,Gi=["y","z","a","f","p","n","¬µ","m","","k","M","G","T","P","E","Z","Y"];function Ih(e){var t=e.grouping===void 0||e.thousands===void 0?qi:Rh(Hi.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",l=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",r=e.numerals===void 0?qi:Mh(Hi.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"‚àí":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function f(d){d=fl(d);var g=d.fill,p=d.align,m=d.sign,_=d.symbol,v=d.zero,w=d.width,y=d.comma,C=d.precision,M=d.trim,S=d.type;S==="n"?(y=!0,S="g"):Li[S]||(C===void 0&&(C=12),M=!0,S="g"),(v||g==="0"&&p==="=")&&(v=!0,g="0",p="=");var E=_==="$"?n:_==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",$=_==="$"?l:/[%p]/.test(S)?s:"",R=Li[S],k=/[defgprs%]/.test(S);C=C===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function F(T){var I=E,V=$,D,G,U;if(S==="c")V=R(T)+V,T="";else{T=+T;var j=T<0||1/T<0;if(T=isNaN(T)?a:R(Math.abs(T),C),M&&(T=Fh(T)),j&&+T==0&&m!=="+"&&(j=!1),I=(j?m==="("?m:u:m==="-"||m==="("?"":m)+I,V=(S==="s"?Gi[8+Pa/3]:"")+V+(j&&m==="("?")":""),k){for(D=-1,G=T.length;++D<G;)if(U=T.charCodeAt(D),48>U||U>57){V=(U===46?o+T.slice(D+1):T.slice(D))+V,T=T.slice(0,D);break}}}y&&!v&&(T=t(T,1/0));var K=I.length+T.length+V.length,W=K<w?new Array(w-K+1).join(g):"";switch(y&&v&&(T=t(W+T,W.length?w-V.length:1/0),W=""),p){case"<":T=I+T+V+W;break;case"=":T=I+W+T+V;break;case"^":T=W.slice(0,K=W.length>>1)+I+T+V+W.slice(K);break;default:T=W+I+T+V;break}return r(T)}return F.toString=function(){return d+""},F}function c(d,g){var p=f((d=fl(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(nn(g)/3)))*3,_=Math.pow(10,-m),v=Gi[8+m/3];return function(w){return p(_*w)+v}}return{format:f,formatPrefix:c}}var qn,vt,Ta;Nh({thousands:",",grouping:[3],currency:["$",""]});function Nh(e){return qn=Ih(e),vt=qn.format,Ta=qn.formatPrefix,qn}function Ph(e){return Math.max(0,-nn(Math.abs(e)))}function Th(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nn(t)/3)))*3-nn(Math.abs(e)))}function Oh(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nn(t)-nn(e))+1}function To(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ji=Symbol("implicit");function Mt(){var e=new Oi,t=[],n=[],l=ji;function o(r){let s=e.get(r);if(s===void 0){if(l!==ji)return l;e.set(r,s=t.push(r)-1)}return n[s%n.length]}return o.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Oi;for(const s of r)e.has(s)||e.set(s,t.push(s)-1);return o},o.range=function(r){return arguments.length?(n=Array.from(r),o):n.slice()},o.unknown=function(r){return arguments.length?(l=r,o):l},o.copy=function(){return Mt(t,n).unknown(l)},To.apply(o,arguments),o}function Lt(){var e=Mt().unknown(void 0),t=e.domain,n=e.range,l=0,o=1,r,s,u=!1,a=0,f=0,c=.5;delete e.unknown;function d(){var g=t().length,p=o<l,m=p?o:l,_=p?l:o;r=(_-m)/Math.max(1,g-a+f*2),u&&(r=Math.floor(r)),m+=(_-m-r*(g-a))*c,s=r*(1-a),u&&(m=Math.round(m),s=Math.round(s));var v=$h(g).map(function(w){return m+r*w});return n(p?v.reverse():v)}return e.domain=function(g){return arguments.length?(t(g),d()):t()},e.range=function(g){return arguments.length?([l,o]=g,l=+l,o=+o,d()):[l,o]},e.rangeRound=function(g){return[l,o]=g,l=+l,o=+o,u=!0,d()},e.bandwidth=function(){return s},e.step=function(){return r},e.round=function(g){return arguments.length?(u=!!g,d()):u},e.padding=function(g){return arguments.length?(a=Math.min(1,f=+g),d()):a},e.paddingInner=function(g){return arguments.length?(a=Math.min(1,g),d()):a},e.paddingOuter=function(g){return arguments.length?(f=+g,d()):f},e.align=function(g){return arguments.length?(c=Math.max(0,Math.min(1,g)),d()):c},e.copy=function(){return Lt(t(),[l,o]).round(u).paddingInner(a).paddingOuter(f).align(c)},To.apply(d(),arguments)}function Oa(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Oa(t())},e}function Bi(){return Oa(Lt.apply(null,arguments).paddingInner(1))}function Oo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function za(e,t){var n=Object.create(e.prototype);for(var l in t)n[l]=t[l];return n}function Pn(){}var Fn=.7,cl=1/Fn,Kt="\\s*([+-]?\\d+)\\s*",Dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vh=/^#([0-9a-f]{3,8})$/,Lh=new RegExp(`^rgb\\(${Kt},${Kt},${Kt}\\)$`),qh=new RegExp(`^rgb\\(${rt},${rt},${rt}\\)$`),Hh=new RegExp(`^rgba\\(${Kt},${Kt},${Kt},${Dn}\\)$`),Gh=new RegExp(`^rgba\\(${rt},${rt},${rt},${Dn}\\)$`),jh=new RegExp(`^hsl\\(${Dn},${rt},${rt}\\)$`),Bh=new RegExp(`^hsla\\(${Dn},${rt},${rt},${Dn}\\)$`),xi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Oo(Pn,In,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ui,formatHex:Ui,formatHex8:xh,formatHsl:Uh,formatRgb:Wi,toString:Wi});function Ui(){return this.rgb().formatHex()}function xh(){return this.rgb().formatHex8()}function Uh(){return Va(this).formatHsl()}function Wi(){return this.rgb().formatRgb()}function In(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Vh.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Xi(t):n===3?new je(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Hn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Hn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Lh.exec(e))?new je(t[1],t[2],t[3],1):(t=qh.exec(e))?new je(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Hh.exec(e))?Hn(t[1],t[2],t[3],t[4]):(t=Gh.exec(e))?Hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jh.exec(e))?Ki(t[1],t[2]/100,t[3]/100,1):(t=Bh.exec(e))?Ki(t[1],t[2]/100,t[3]/100,t[4]):xi.hasOwnProperty(e)?Xi(xi[e]):e==="transparent"?new je(NaN,NaN,NaN,0):null}function Xi(e){return new je(e>>16&255,e>>8&255,e&255,1)}function Hn(e,t,n,l){return l<=0&&(e=t=n=NaN),new je(e,t,n,l)}function Wh(e){return e instanceof Pn||(e=In(e)),e?(e=e.rgb(),new je(e.r,e.g,e.b,e.opacity)):new je}function so(e,t,n,l){return arguments.length===1?Wh(e):new je(e,t,n,l??1)}function je(e,t,n,l){this.r=+e,this.g=+t,this.b=+n,this.opacity=+l}Oo(je,so,za(Pn,{brighter(e){return e=e==null?cl:Math.pow(cl,e),new je(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Fn:Math.pow(Fn,e),new je(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new je(zt(this.r),zt(this.g),zt(this.b),dl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yi,formatHex:Yi,formatHex8:Xh,formatRgb:Qi,toString:Qi}));function Yi(){return`#${Tt(this.r)}${Tt(this.g)}${Tt(this.b)}`}function Xh(){return`#${Tt(this.r)}${Tt(this.g)}${Tt(this.b)}${Tt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Qi(){const e=dl(this.opacity);return`${e===1?"rgb(":"rgba("}${zt(this.r)}, ${zt(this.g)}, ${zt(this.b)}${e===1?")":`, ${e})`}`}function dl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tt(e){return e=zt(e),(e<16?"0":"")+e.toString(16)}function Ki(e,t,n,l){return l<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ze(e,t,n,l)}function Va(e){if(e instanceof Ze)return new Ze(e.h,e.s,e.l,e.opacity);if(e instanceof Pn||(e=In(e)),!e)return new Ze;if(e instanceof Ze)return e;e=e.rgb();var t=e.r/255,n=e.g/255,l=e.b/255,o=Math.min(t,n,l),r=Math.max(t,n,l),s=NaN,u=r-o,a=(r+o)/2;return u?(t===r?s=(n-l)/u+(n<l)*6:n===r?s=(l-t)/u+2:s=(t-n)/u+4,u/=a<.5?r+o:2-r-o,s*=60):u=a>0&&a<1?0:s,new Ze(s,u,a,e.opacity)}function Yh(e,t,n,l){return arguments.length===1?Va(e):new Ze(e,t,n,l??1)}function Ze(e,t,n,l){this.h=+e,this.s=+t,this.l=+n,this.opacity=+l}Oo(Ze,Yh,za(Pn,{brighter(e){return e=e==null?cl:Math.pow(cl,e),new Ze(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Fn:Math.pow(Fn,e),new Ze(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,l=n+(n<.5?n:1-n)*t,o=2*n-l;return new je(Tl(e>=240?e-240:e+120,o,l),Tl(e,o,l),Tl(e<120?e+240:e-120,o,l),this.opacity)},clamp(){return new Ze(Ji(this.h),Gn(this.s),Gn(this.l),dl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dl(this.opacity);return`${e===1?"hsl(":"hsla("}${Ji(this.h)}, ${Gn(this.s)*100}%, ${Gn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ji(e){return e=(e||0)%360,e<0?e+360:e}function Gn(e){return Math.max(0,Math.min(1,e||0))}function Tl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const zo=e=>()=>e;function Qh(e,t){return function(n){return e+n*t}}function Kh(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(l){return Math.pow(e+l*t,n)}}function Jh(e){return(e=+e)==1?La:function(t,n){return n-t?Kh(t,n,e):zo(isNaN(t)?n:t)}}function La(e,t){var n=t-e;return n?Qh(e,n):zo(isNaN(e)?t:e)}const ao=function e(t){var n=Jh(t);function l(o,r){var s=n((o=so(o)).r,(r=so(r)).r),u=n(o.g,r.g),a=n(o.b,r.b),f=La(o.opacity,r.opacity);return function(c){return o.r=s(c),o.g=u(c),o.b=a(c),o.opacity=f(c),o+""}}return l.gamma=e,l}(1);function Zh(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,l=t.slice(),o;return function(r){for(o=0;o<n;++o)l[o]=e[o]*(1-r)+t[o]*r;return l}}function eg(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function tg(e,t){var n=t?t.length:0,l=e?Math.min(n,e.length):0,o=new Array(l),r=new Array(n),s;for(s=0;s<l;++s)o[s]=Tn(e[s],t[s]);for(;s<n;++s)r[s]=t[s];return function(u){for(s=0;s<l;++s)r[s]=o[s](u);return r}}function ng(e,t){var n=new Date;return e=+e,t=+t,function(l){return n.setTime(e*(1-l)+t*l),n}}function hl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function lg(e,t){var n={},l={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Tn(e[o],t[o]):l[o]=t[o];return function(r){for(o in n)l[o]=n[o](r);return l}}var uo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ol=new RegExp(uo.source,"g");function og(e){return function(){return e}}function ig(e){return function(t){return e(t)+""}}function rg(e,t){var n=uo.lastIndex=Ol.lastIndex=0,l,o,r,s=-1,u=[],a=[];for(e=e+"",t=t+"";(l=uo.exec(e))&&(o=Ol.exec(t));)(r=o.index)>n&&(r=t.slice(n,r),u[s]?u[s]+=r:u[++s]=r),(l=l[0])===(o=o[0])?u[s]?u[s]+=o:u[++s]=o:(u[++s]=null,a.push({i:s,x:hl(l,o)})),n=Ol.lastIndex;return n<t.length&&(r=t.slice(n),u[s]?u[s]+=r:u[++s]=r),u.length<2?a[0]?ig(a[0].x):og(t):(t=a.length,function(f){for(var c=0,d;c<t;++c)u[(d=a[c]).i]=d.x(f);return u.join("")})}function Tn(e,t){var n=typeof t,l;return t==null||n==="boolean"?zo(t):(n==="number"?hl:n==="string"?(l=In(t))?(t=l,ao):rg:t instanceof In?ao:t instanceof Date?ng:eg(t)?Zh:Array.isArray(t)?tg:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lg:hl)(e,t)}function qa(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function sg(e){return function(){return e}}function ag(e){return+e}var Zi=[0,1];function kt(e){return e}function fo(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:sg(isNaN(t)?NaN:.5)}function ug(e,t){var n;return e>t&&(n=e,e=t,t=n),function(l){return Math.max(e,Math.min(t,l))}}function fg(e,t,n){var l=e[0],o=e[1],r=t[0],s=t[1];return o<l?(l=fo(o,l),r=n(s,r)):(l=fo(l,o),r=n(r,s)),function(u){return r(l(u))}}function cg(e,t,n){var l=Math.min(e.length,t.length)-1,o=new Array(l),r=new Array(l),s=-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<l;)o[s]=fo(e[s],e[s+1]),r[s]=n(t[s],t[s+1]);return function(u){var a=Ea(e,u,1,l)-1;return r[a](o[a](u))}}function dg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hg(){var e=Zi,t=Zi,n=Tn,l,o,r,s=kt,u,a,f;function c(){var g=Math.min(e.length,t.length);return s!==kt&&(s=ug(e[0],e[g-1])),u=g>2?cg:fg,a=f=null,d}function d(g){return g==null||isNaN(g=+g)?r:(a||(a=u(e.map(l),t,n)))(l(s(g)))}return d.invert=function(g){return s(o((f||(f=u(t,e.map(l),hl)))(g)))},d.domain=function(g){return arguments.length?(e=Array.from(g,ag),c()):e.slice()},d.range=function(g){return arguments.length?(t=Array.from(g),c()):t.slice()},d.rangeRound=function(g){return t=Array.from(g),n=qa,c()},d.clamp=function(g){return arguments.length?(s=g?!0:kt,c()):s!==kt},d.interpolate=function(g){return arguments.length?(n=g,c()):n},d.unknown=function(g){return arguments.length?(r=g,d):r},function(g,p){return l=g,o=p,c()}}function gg(){return hg()(kt,kt)}function pg(e,t,n,l){var o=wh(e,t,n),r;switch(l=fl(l??",f"),l.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return l.precision==null&&!isNaN(r=Th(o,s))&&(l.precision=r),Ta(l,s)}case"":case"e":case"g":case"p":case"r":{l.precision==null&&!isNaN(r=Oh(o,Math.max(Math.abs(e),Math.abs(t))))&&(l.precision=r-(l.type==="e"));break}case"f":case"%":{l.precision==null&&!isNaN(r=Ph(o))&&(l.precision=r-(l.type==="%")*2);break}}return vt(l)}function Ha(e){var t=e.domain;return e.ticks=function(n){var l=t();return Da(l[0],l[l.length-1],n??10)},e.tickFormat=function(n,l){var o=t();return pg(o[0],o[o.length-1],n??10,l)},e.nice=function(n){n==null&&(n=10);var l=t(),o=0,r=l.length-1,s=l[o],u=l[r],a,f,c=10;for(u<s&&(f=s,s=u,u=f,f=o,o=r,r=f);c-- >0;){if(f=tn(s,u,n),f===a)return l[o]=s,l[r]=u,t(l);if(f>0)s=Math.floor(s/f)*f,u=Math.ceil(u/f)*f;else if(f<0)s=Math.ceil(s*f)/f,u=Math.floor(u*f)/f;else break;a=f}return e},e}function Xe(){var e=gg();return e.copy=function(){return dg(e,Xe())},To.apply(e,arguments),Ha(e)}function mg(){var e=0,t=1,n,l,o,r,s=kt,u=!1,a;function f(d){return d==null||isNaN(d=+d)?a:s(o===0?.5:(d=(r(d)-n)*o,u?Math.max(0,Math.min(1,d)):d))}f.domain=function(d){return arguments.length?([e,t]=d,n=r(e=+e),l=r(t=+t),o=n===l?0:1/(l-n),f):[e,t]},f.clamp=function(d){return arguments.length?(u=!!d,f):u},f.interpolator=function(d){return arguments.length?(s=d,f):s};function c(d){return function(g){var p,m;return arguments.length?([p,m]=g,s=d(p,m),f):[s(0),s(1)]}}return f.range=c(Tn),f.rangeRound=c(qa),f.unknown=function(d){return arguments.length?(a=d,f):a},function(d){return r=d,n=d(e),l=d(t),o=n===l?0:1/(l-n),f}}function _g(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ga(){var e=Ha(mg()(kt));return e.copy=function(){return _g(e,Ga())},zh.apply(e,arguments)}function lt(e){return function(){return e}}const co=Math.PI,ho=2*co,Nt=1e-6,vg=ho-Nt;function ja(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function bg(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ja;const n=10**t;return function(l){this._+=l[0];for(let o=1,r=l.length;o<r;++o)this._+=Math.round(arguments[o]*n)/n+l[o]}}class wg{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ja:bg(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,l,o){this._append`Q${+t},${+n},${this._x1=+l},${this._y1=+o}`}bezierCurveTo(t,n,l,o,r,s){this._append`C${+t},${+n},${+l},${+o},${this._x1=+r},${this._y1=+s}`}arcTo(t,n,l,o,r){if(t=+t,n=+n,l=+l,o=+o,r=+r,r<0)throw new Error(`negative radius: ${r}`);let s=this._x1,u=this._y1,a=l-t,f=o-n,c=s-t,d=u-n,g=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>Nt)if(!(Math.abs(d*a-f*c)>Nt)||!r)this._append`L${this._x1=t},${this._y1=n}`;else{let p=l-s,m=o-u,_=a*a+f*f,v=p*p+m*m,w=Math.sqrt(_),y=Math.sqrt(g),C=r*Math.tan((co-Math.acos((_+g-v)/(2*w*y)))/2),M=C/y,S=C/w;Math.abs(M-1)>Nt&&this._append`L${t+M*c},${n+M*d}`,this._append`A${r},${r},0,0,${+(d*p>c*m)},${this._x1=t+S*a},${this._y1=n+S*f}`}}arc(t,n,l,o,r,s){if(t=+t,n=+n,l=+l,s=!!s,l<0)throw new Error(`negative radius: ${l}`);let u=l*Math.cos(o),a=l*Math.sin(o),f=t+u,c=n+a,d=1^s,g=s?o-r:r-o;this._x1===null?this._append`M${f},${c}`:(Math.abs(this._x1-f)>Nt||Math.abs(this._y1-c)>Nt)&&this._append`L${f},${c}`,l&&(g<0&&(g=g%ho+ho),g>vg?this._append`A${l},${l},0,1,${d},${t-u},${n-a}A${l},${l},0,1,${d},${this._x1=f},${this._y1=c}`:g>Nt&&this._append`A${l},${l},0,${+(g>=co)},${d},${this._x1=t+l*Math.cos(r)},${this._y1=n+l*Math.sin(r)}`)}rect(t,n,l,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${l=+l}v${+o}h${-l}Z`}toString(){return this._}}function yg(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const l=Math.floor(n);if(!(l>=0))throw new RangeError(`invalid digits: ${n}`);t=l}return e},()=>new wg(t)}function Ba(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xa(e){this._context=e}xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function kg(e){return new xa(e)}function Sg(e){return e[0]}function Cg(e){return e[1]}function $g(e,t){var n=lt(!0),l=null,o=kg,r=null,s=yg(u);e=typeof e=="function"?e:e===void 0?Sg:lt(e),t=typeof t=="function"?t:t===void 0?Cg:lt(t);function u(a){var f,c=(a=Ba(a)).length,d,g=!1,p;for(l==null&&(r=o(p=s())),f=0;f<=c;++f)!(f<c&&n(d=a[f],f,a))===g&&((g=!g)?r.lineStart():r.lineEnd()),g&&r.point(+e(d,f,a),+t(d,f,a));if(p)return r=null,p+""||null}return u.x=function(a){return arguments.length?(e=typeof a=="function"?a:lt(+a),u):e},u.y=function(a){return arguments.length?(t=typeof a=="function"?a:lt(+a),u):t},u.defined=function(a){return arguments.length?(n=typeof a=="function"?a:lt(!!a),u):n},u.curve=function(a){return arguments.length?(o=a,l!=null&&(r=o(l)),u):o},u.context=function(a){return arguments.length?(a==null?l=r=null:r=o(l=a),u):l},u}function go(e,t){if((s=e.length)>1)for(var n=1,l,o,r=e[t[0]],s,u=r.length;n<s;++n)for(o=r,r=e[t[n]],l=0;l<u;++l)r[l][1]+=r[l][0]=isNaN(o[l][1])?o[l][0]:o[l][1]}function po(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Ag(e,t){return e[t]}function Rg(e){const t=[];return t.key=e,t}function Mg(){var e=lt([]),t=po,n=go,l=Ag;function o(r){var s=Array.from(e.apply(this,arguments),Rg),u,a=s.length,f=-1,c;for(const d of r)for(u=0,++f;u<a;++u)(s[u][f]=[0,+l(d,s[u].key,f,r)]).data=d;for(u=0,c=Ba(t(s));u<a;++u)s[c[u]].index=u;return n(s,c),s}return o.keys=function(r){return arguments.length?(e=typeof r=="function"?r:lt(Array.from(r)),o):e},o.value=function(r){return arguments.length?(l=typeof r=="function"?r:lt(+r),o):l},o.order=function(r){return arguments.length?(t=r==null?po:typeof r=="function"?r:lt(Array.from(r)),o):t},o.offset=function(r){return arguments.length?(n=r??go,o):n},o}function er(e,t,n){const l=e.slice();return l[21]=t[n],l[23]=n,l}function tr(e,t,n){const l=e.slice();l[24]=t[n];const o=l[4][l[21].key];return l[25]=o,l}function nr(e){let t,n,l,o,r,s,u,a,f,c,d,g,p,m,_=e[21].key+"",v,w,y=e[11](e[25]/e[2])+"",C,M,S,E,$,R;return{c(){t=B("rect"),f=B("line"),m=B("text"),v=q(_),w=B("tspan"),C=q(y),S=P(),h(t,"class",n="horizontal-bar-rect "+(e[5]===e[23]?"selected":"unselected")+" svelte-tg5p7i"),h(t,"y",l=e[8](e[24].data.xVal)),h(t,"x",o=e[7](e[24][0])),h(t,"stroke","var(--black)"),h(t,"width",r=e[7](e[24][1])-e[7](e[24][0])),h(t,"fill",s=e[10](e[21].key)),h(t,"opacity",u=e[5]==="all"||e[5]===e[23]?"1":"0.25"),h(t,"height",a=e[8].bandwidth()),h(f,"class","line svelte-tg5p7i"),h(f,"x1",c=e[7](e[24][0])),h(f,"x2",d=e[7](e[24][0])),h(f,"y1",g=e[8](e[24].data.xVal)-St),h(f,"y2",p=e[8].bandwidth()+e[8](e[24].data.xVal)+St),h(f,"stroke","black"),h(w,"x",M=(e[7](e[24][0])+e[7](e[24][1]))/2),h(w,"dy","16"),h(w,"text-anchor","middle"),h(m,"class","horizontal-bar-text svelte-tg5p7i"),h(m,"y",E=e[8].bandwidth()/2),h(m,"x",$=(e[7](e[24][0])+e[7](e[24][1]))/2),h(m,"opacity",R=e[5]==="all"||e[5]===e[23]?"1":"0.25"),h(m,"text-anchor","middle")},m(k,F){O(k,t,F),O(k,f,F),O(k,m,F),b(m,v),b(m,w),b(w,C),b(m,S)},p(k,F){F&32&&n!==(n="horizontal-bar-rect "+(k[5]===k[23]?"selected":"unselected")+" svelte-tg5p7i")&&h(t,"class",n),F&320&&l!==(l=k[8](k[24].data.xVal))&&h(t,"y",l),F&192&&o!==(o=k[7](k[24][0]))&&h(t,"x",o),F&192&&r!==(r=k[7](k[24][1])-k[7](k[24][0]))&&h(t,"width",r),F&64&&s!==(s=k[10](k[21].key))&&h(t,"fill",s),F&32&&u!==(u=k[5]==="all"||k[5]===k[23]?"1":"0.25")&&h(t,"opacity",u),F&256&&a!==(a=k[8].bandwidth())&&h(t,"height",a),F&192&&c!==(c=k[7](k[24][0]))&&h(f,"x1",c),F&192&&d!==(d=k[7](k[24][0]))&&h(f,"x2",d),F&320&&g!==(g=k[8](k[24].data.xVal)-St)&&h(f,"y1",g),F&320&&p!==(p=k[8].bandwidth()+k[8](k[24].data.xVal)+St)&&h(f,"y2",p),F&64&&_!==(_=k[21].key+"")&&J(v,_),F&84&&y!==(y=k[11](k[25]/k[2])+"")&&J(C,y),F&192&&M!==(M=(k[7](k[24][0])+k[7](k[24][1]))/2)&&h(w,"x",M),F&256&&E!==(E=k[8].bandwidth()/2)&&h(m,"y",E),F&192&&$!==($=(k[7](k[24][0])+k[7](k[24][1]))/2)&&h(m,"x",$),F&32&&R!==(R=k[5]==="all"||k[5]===k[23]?"1":"0.25")&&h(m,"opacity",R)},d(k){k&&N(t),k&&N(f),k&&N(m)}}}function lr(e){let t,n,l,o,r,s,u,a,f=e[21],c=[];for(let p=0;p<f.length;p+=1)c[p]=nr(tr(e,f,p));function d(){return e[17](e[23],e[21])}function g(){return e[18](e[23],e[21])}return{c(){t=B("g");for(let p=0;p<c.length;p+=1)c[p].c();n=B("line"),h(n,"class","line svelte-tg5p7i"),h(n,"x1",l=e[3]-e[9].right),h(n,"x2",o=e[3]-e[9].right),h(n,"y1",r=e[8]("A")-St),h(n,"y2",s=e[8].bandwidth()+e[8]("A")+St),h(n,"stroke","black"),h(t,"class","series svelte-tg5p7i"),h(t,"role","button"),h(t,"tabindex","0")},m(p,m){O(p,t,m);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(t,null);b(t,n),u||(a=[x(t,"click",d),x(t,"keypress",g)],u=!0)},p(p,m){if(e=p,m&3572){f=e[21];let _;for(_=0;_<f.length;_+=1){const v=tr(e,f,_);c[_]?c[_].p(v,m):(c[_]=nr(v),c[_].c(),c[_].m(t,n))}for(;_<c.length;_+=1)c[_].d(1);c.length=f.length}m&8&&l!==(l=e[3]-e[9].right)&&h(n,"x1",l),m&8&&o!==(o=e[3]-e[9].right)&&h(n,"x2",o),m&256&&r!==(r=e[8]("A")-St)&&h(n,"y1",r),m&256&&s!==(s=e[8].bandwidth()+e[8]("A")+St)&&h(n,"y2",s)},d(p){p&&N(t),pe(c,p),u=!1,he(a)}}}function Eg(e){let t,n,l,o,r,s=e[6],u=[];for(let a=0;a<s.length;a+=1)u[a]=lr(er(e,s,a));return{c(){t=A("div"),t.innerHTML="<p>Feedback Distribution</p>",n=P(),l=A("div"),o=B("svg");for(let a=0;a<u.length;a+=1)u[a].c();h(o,"width",e[1]),h(o,"height",e[0]),h(l,"id","stackedrect-holder"),h(l,"class","svelte-tg5p7i"),Re(()=>e[19].call(l))},m(a,f){O(a,t,f),O(a,n,f),O(a,l,f),b(l,o);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(o,null);r=ft(l,e[19].bind(l))},p(a,[f]){if(f&8188){s=a[6];let c;for(c=0;c<s.length;c+=1){const d=er(a,s,c);u[c]?u[c].p(d,f):(u[c]=lr(d),u[c].c(),u[c].m(o,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=s.length}f&2&&h(o,"width",a[1]),f&1&&h(o,"height",a[0])},i:X,o:X,d(a){a&&N(t),a&&N(n),a&&N(l),pe(u,a),r()}}}const St=5;function Fg(e,t,n){let l,o,r,s,u,a,f,c,d,g,p;ae(e,at,R=>n(15,d=R)),ae(e,Zo,R=>n(4,g=R)),ae(e,Ge,R=>n(16,p=R));let m=300,_=300;const v={up:2,down:1,"n/a":0,all:"all"},w={top:10,bottom:10,left:25,right:5},y=Mt().range(["var(--yellow)","var(--red)","var(--green)"]),C=vt(".0%");function M(R,k){l===R?n(5,l="all"):n(5,l=R),De(at,d=l==="all"?"all":k,d)}const S=(R,k)=>M(R,k.key),E=(R,k)=>M(R,k.key);function $(){_=this.offsetWidth,m=this.offsetHeight,n(1,_),n(0,m)}return e.$$.update=()=>{e.$$.dirty&32768&&n(5,l=v[d]),e.$$.dirty&2&&n(3,o=_-w.left-w.right),e.$$.dirty&1&&n(14,r=m-w.top-w.bottom),e.$$.dirty&65552&&p.forEach(R=>{De(Zo,g[R.vote_status]++,g)}),e.$$.dirty&16&&n(2,s=g.up+g.down+g["n/a"]),e.$$.dirty&16384&&n(8,u=Lt().rangeRound([w.top,r-w.bottom]).padding(0).domain(["a"])),e.$$.dirty&12&&n(7,a=Xe().rangeRound([w.left,o-w.right]).domain([0,s])),e.$$.dirty&8208&&n(6,c=f([g]))},n(13,f=Mg().keys(["n/a","down","up"]).order(po).offset(go)),[m,_,s,o,g,l,c,a,u,w,y,C,M,f,r,d,p,S,E,$]}class Ua extends fe{constructor(t){super(),ce(this,t,Fg,Eg,ue,{})}}function Dg(e){let t,n,l,o,r,s,u,a,f,c,d,g=e[3][e[2]]+"",p,m;return{c(){t=A("div"),n=A("div"),l=q("Q: "),o=q(e[0]),r=P(),s=A("div"),u=q("A: "),a=q(e[1]),f=P(),c=A("div"),d=q("Rating: "),p=q(g),h(n,"class","question svelte-szi0e"),h(s,"class","answer svelte-szi0e"),h(c,"class",m="feedback "+e[2]+" svelte-szi0e"),h(t,"class","qa-card svelte-szi0e")},m(_,v){O(_,t,v),b(t,n),b(n,l),b(n,o),b(t,r),b(t,s),b(s,u),b(s,a),b(t,f),b(t,c),b(c,d),b(c,p)},p(_,[v]){v&1&&J(o,_[0]),v&2&&J(a,_[1]),v&4&&g!==(g=_[3][_[2]]+"")&&J(p,g),v&4&&m!==(m="feedback "+_[2]+" svelte-szi0e")&&h(c,"class",m)},i:X,o:X,d(_){_&&N(t)}}}function Ig(e,t,n){let{question:l="What is gradient descent?"}=t,{answer:o="Gradient descent is an algorithm used to minimize a loss function by taking small steps in the direction of steepest descent."}=t,{feedback:r="Good: üëç"}=t;const s={up:"Good üëç",down:"Bad üëé","n/a":"No Rating",all:"All"};return e.$$set=u=>{"question"in u&&n(0,l=u.question),"answer"in u&&n(1,o=u.answer),"feedback"in u&&n(2,r=u.feedback)},[l,o,r,s]}class Ng extends fe{constructor(t){super(),ce(this,t,Ig,Dg,ue,{question:0,answer:1,feedback:2})}}function or(e,t,n){const l=e.slice();return l[5]=t[n].question,l[6]=t[n].answer,l[7]=t[n].vote_status,l}function ir(e){let t,n,l,o,r;return n=new Ng({props:{question:e[5],answer:e[6],feedback:e[7]}}),{c(){t=A("div"),le(n.$$.fragment),l=P()},m(s,u){O(s,t,u),ee(n,t,null),b(t,l),r=!0},p(s,u){const a={};u&1&&(a.question=s[5]),u&1&&(a.answer=s[6]),u&1&&(a.feedback=s[7]),n.$set(a)},i(s){r||(z(n.$$.fragment,s),s&&Re(()=>{r&&(o||(o=ot(t,e[1],{duration:300},!0)),o.run(1))}),r=!0)},o(s){L(n.$$.fragment,s),s&&(o||(o=ot(t,e[1],{duration:300},!1)),o.run(0)),r=!1},d(s){s&&N(t),te(n),s&&o&&o.end()}}}function Pg(e){let t,n,l=e[0],o=[];for(let s=0;s<l.length;s+=1)o[s]=ir(or(e,l,s));const r=s=>L(o[s],1,1,()=>{o[s]=null});return{c(){t=A("div");for(let s=0;s<o.length;s+=1)o[s].c();h(t,"class","qa-container svelte-1xv9cfi")},m(s,u){O(s,t,u);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(t,null);n=!0},p(s,[u]){if(u&1){l=s[0];let a;for(a=0;a<l.length;a+=1){const f=or(s,l,a);o[a]?(o[a].p(f,u),z(o[a],1)):(o[a]=ir(f),o[a].c(),z(o[a],1),o[a].m(t,null))}for(_e(),a=l.length;a<o.length;a+=1)r(a);ve()}},i(s){if(!n){for(let u=0;u<l.length;u+=1)z(o[u]);n=!0}},o(s){o=o.filter(Boolean);for(let u=0;u<o.length;u+=1)L(o[u]);n=!1},d(s){s&&N(t),pe(o,s)}}}function Tg(e,t,n){let l,o,r,s;ae(e,lo,a=>n(4,o=a)),ae(e,at,a=>n(2,r=a)),ae(e,Rn,a=>n(3,s=a));const u=(a,{delay:f=0,duration:c=1e3,easing:d=Eo})=>En(a,{delay:f,duration:c,easing:d});return e.$$.update=()=>{e.$$.dirty&12&&n(0,l=r==="all"?s:s.filter(a=>a.vote_status===r)),e.$$.dirty&1&&De(lo,o=md(l),o)},[l,u,r,s]}class Wa extends fe{constructor(t){super(),ce(this,t,Tg,Pg,ue,{})}}function rr(e,t,n){const l=e.slice();return l[13]=t[n],l}function sr(e,t,n){const l=e.slice();return l[16]=t[n],l}function ar(e,t,n){const l=e.slice();return l[16]=t[n],l}function ur(e){let t,n,l,o,r=e[16]+"",s,u;return{c(){t=B("g"),n=B("line"),o=B("text"),s=q(r),h(n,"class","axis-tick svelte-1oikip4"),h(n,"x1","0"),h(n,"x2","0"),h(n,"y1",0),h(n,"y2",l=-e[2]+e[10].bottom+e[10].top),h(n,"stroke","var(--squidink)"),h(n,"stroke-dasharray","4"),h(o,"class","axis-text svelte-1oikip4"),h(o,"y","15"),h(o,"text-anchor","middle"),h(t,"transform",u=`translate(${e[6](e[16])+e[6].bandwidth()/2} ${e[2]-e[10].bottom})`)},m(a,f){O(a,t,f),b(t,n),b(t,o),b(o,s)},p(a,f){f&4&&l!==(l=-a[2]+a[10].bottom+a[10].top)&&h(n,"y2",l),f&16&&r!==(r=a[16]+"")&&J(s,r),f&84&&u!==(u=`translate(${a[6](a[16])+a[6].bandwidth()/2} ${a[2]-a[10].bottom})`)&&h(t,"transform",u)},d(a){a&&N(t)}}}function fr(e){let t,n,l,o;return{c(){t=B("g"),n=B("line"),h(n,"class","axis-tick svelte-1oikip4"),h(n,"x1",0),h(n,"x2",l=e[3]-e[10].right-e[10].left),h(n,"y1","0"),h(n,"y2","0"),h(n,"stroke","black"),h(t,"transform",o=`translate(${e[10].left} ${e[5](e[16])+0})`)},m(r,s){O(r,t,s),b(t,n)},p(r,s){s&8&&l!==(l=r[3]-r[10].right-r[10].left)&&h(n,"x2",l),s&32&&o!==(o=`translate(${r[10].left} ${r[5](r[16])+0})`)&&h(t,"transform",o)},d(r){r&&N(t)}}}function cr(e){let t,n,l,o,r,s,u,a,f=Math.round(e[11](e[13].count))+"",c,d,g;return{c(){t=B("g"),n=B("rect"),a=B("text"),c=q(f),h(n,"x",l=e[6](e[13].question)),h(n,"y",o=e[5](e[13].count)),h(n,"height",r=e[2]-e[5](e[13].count)-e[10].bottom),h(n,"fill",s=e[9][e[7]]),h(n,"fill-opacity","0.95"),h(n,"width",u=e[6].bandwidth()),h(n,"class","svelte-1oikip4"),h(a,"class","axis-text svelte-1oikip4"),h(a,"x",d=e[6](e[13].question)+e[6].bandwidth()/2),h(a,"y",g=e[5](e[13].count)-5),h(a,"text-anchor","middle"),h(t,"class","series")},m(p,m){O(p,t,m),b(t,n),b(t,a),b(a,c)},p(p,m){m&80&&l!==(l=p[6](p[13].question))&&h(n,"x",l),m&48&&o!==(o=p[5](p[13].count))&&h(n,"y",o),m&52&&r!==(r=p[2]-p[5](p[13].count)-p[10].bottom)&&h(n,"height",r),m&128&&s!==(s=p[9][p[7]])&&h(n,"fill",s),m&64&&u!==(u=p[6].bandwidth())&&h(n,"width",u),m&16&&f!==(f=Math.round(p[11](p[13].count))+"")&&J(c,f),m&80&&d!==(d=p[6](p[13].question)+p[6].bandwidth()/2)&&h(a,"x",d),m&48&&g!==(g=p[5](p[13].count)-5)&&h(a,"y",g)},d(p){p&&N(t)}}}function Og(e){let t,n,l,o,r,s,u=e[8][e[7]]+"",a,f,c,d,g,p,m,_,v,w=e[4].map(dr),y=[];for(let $=0;$<w.length;$+=1)y[$]=ur(ar(e,w,$));let C=e[5].ticks(),M=[];for(let $=0;$<C.length;$+=1)M[$]=fr(sr(e,C,$));let S=e[4],E=[];for(let $=0;$<S.length;$+=1)E[$]=cr(rr(e,S,$));return{c(){t=A("div"),n=B("svg");for(let $=0;$<y.length;$+=1)y[$].c();l=ke();for(let $=0;$<M.length;$+=1)M[$].c();o=ke();for(let $=0;$<E.length;$+=1)E[$].c();r=B("text"),s=q("Question Type: "),a=q(u),c=B("line"),m=B("line"),h(r,"class","chart-title svelte-1oikip4"),h(r,"y",e[10].top/2+1),h(r,"x",f=(e[3]+e[10].left)/2),h(r,"text-anchor","middle"),h(c,"class","axis-line svelte-1oikip4"),h(c,"x1",e[10].left),h(c,"x2",d=e[3]-e[10].right),h(c,"y1",g=e[2]-e[10].bottom),h(c,"y2",p=e[2]-e[10].bottom),h(m,"class","axis-line svelte-1oikip4"),h(m,"x1",e[10].left),h(m,"x2",e[10].left),h(m,"y1",e[10].top),h(m,"y2",_=e[2]-e[10].bottom),h(m,"opacity","0"),h(n,"width",e[1]),h(n,"height",e[0]),h(t,"id","stackedrect-holder"),h(t,"class","svelte-1oikip4"),Re(()=>e[12].call(t))},m($,R){O($,t,R),b(t,n);for(let k=0;k<y.length;k+=1)y[k]&&y[k].m(n,null);b(n,l);for(let k=0;k<M.length;k+=1)M[k]&&M[k].m(n,null);b(n,o);for(let k=0;k<E.length;k+=1)E[k]&&E[k].m(n,null);b(n,r),b(r,s),b(r,a),b(n,c),b(n,m),v=ft(t,e[12].bind(t))},p($,[R]){if(R&1108){w=$[4].map(dr);let k;for(k=0;k<w.length;k+=1){const F=ar($,w,k);y[k]?y[k].p(F,R):(y[k]=ur(F),y[k].c(),y[k].m(n,l))}for(;k<y.length;k+=1)y[k].d(1);y.length=w.length}if(R&1064){C=$[5].ticks();let k;for(k=0;k<C.length;k+=1){const F=sr($,C,k);M[k]?M[k].p(F,R):(M[k]=fr(F),M[k].c(),M[k].m(n,o))}for(;k<M.length;k+=1)M[k].d(1);M.length=C.length}if(R&3828){S=$[4];let k;for(k=0;k<S.length;k+=1){const F=rr($,S,k);E[k]?E[k].p(F,R):(E[k]=cr(F),E[k].c(),E[k].m(n,r))}for(;k<E.length;k+=1)E[k].d(1);E.length=S.length}R&128&&u!==(u=$[8][$[7]]+"")&&J(a,u),R&8&&f!==(f=($[3]+$[10].left)/2)&&h(r,"x",f),R&8&&d!==(d=$[3]-$[10].right)&&h(c,"x2",d),R&4&&g!==(g=$[2]-$[10].bottom)&&h(c,"y1",g),R&4&&p!==(p=$[2]-$[10].bottom)&&h(c,"y2",p),R&4&&_!==(_=$[2]-$[10].bottom)&&h(m,"y2",_),R&2&&h(n,"width",$[1]),R&1&&h(n,"height",$[0])},i:X,o:X,d($){$&&N(t),pe(y,$),pe(M,$),pe(E,$),v()}}}const dr=e=>e.question;function zg(e,t,n){let l,o,r,s,u,a;ae(e,lo,v=>n(4,u=v)),ae(e,at,v=>n(7,a=v));const f={up:"Good üëç",down:"Bad üëé","n/a":"No Rating",all:"All"},c={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let d=300,g=300,p={top:35,bottom:10,left:25,right:5};const m=vt(".1f");function _(){g=this.offsetWidth,d=this.offsetHeight,n(1,g),n(0,d)}return e.$$.update=()=>{e.$$.dirty&2&&n(3,l=g-p.left-p.right),e.$$.dirty&1&&n(2,o=d-p.top-p.bottom),e.$$.dirty&24&&n(6,r=Lt().rangeRound([p.left,l-p.right]).padding(.05).domain(u.map(v=>v.question))),e.$$.dirty&20&&n(5,s=Xe().rangeRound([o-p.bottom,p.top]).domain([0,mt(u,v=>v.count)])),e.$$.dirty&16&&console.log(u)},[d,g,o,l,u,s,r,a,f,c,p,m,_]}class Xa extends fe{constructor(t){super(),ce(this,t,zg,Og,ue,{})}}function hr(e,t,n){const l=e.slice();l[19]=t[n];const o=l[7](l[19].x1)-l[7](l[19].x0);return l[20]=o,l}function gr(e,t,n){const l=e.slice();return l[23]=t[n],l}function pr(e){let t,n,l,o,r=e[23]+"",s,u;return{c(){t=B("g"),n=B("line"),o=B("text"),s=q(r),h(n,"class","axis-tick svelte-kz2qh6"),h(n,"x1","0"),h(n,"x2","0"),h(n,"y1",0),h(n,"y2",l=-e[2]+e[9].bottom+e[9].top),h(n,"stroke","var(--squidink)"),h(n,"stroke-dasharray","4"),h(o,"class","axis-text svelte-kz2qh6"),h(o,"y","15"),h(o,"text-anchor","middle"),h(t,"transform",u=`translate(${e[7](e[23])+(e[7](1)-e[7](0))/2} ${e[2]-e[9].bottom})`),h(t,"class","svelte-kz2qh6")},m(a,f){O(a,t,f),b(t,n),b(t,o),b(o,s)},p(a,f){f&4&&l!==(l=-a[2]+a[9].bottom+a[9].top)&&h(n,"y2",l),f&128&&r!==(r=a[23]+"")&&J(s,r),f&132&&u!==(u=`translate(${a[7](a[23])+(a[7](1)-a[7](0))/2} ${a[2]-a[9].bottom})`)&&h(t,"transform",u)},d(a){a&&N(t)}}}function mr(e){let t,n,l,o,r,s,u;return{c(){t=B("g"),n=B("rect"),h(n,"x",l=e[7](e[19].x0)+1),h(n,"width",o=e[20]),h(n,"y",r=e[6](e[19].length)),h(n,"height",s=e[6](0)-e[6](e[19].length)),h(n,"fill",u=e[8][e[5]]),h(n,"class","svelte-kz2qh6"),h(t,"class","histogram-bin svelte-kz2qh6")},m(a,f){O(a,t,f),b(t,n)},p(a,f){f&136&&l!==(l=a[7](a[19].x0)+1)&&h(n,"x",l),f&136&&o!==(o=a[20])&&h(n,"width",o),f&72&&r!==(r=a[6](a[19].length))&&h(n,"y",r),f&72&&s!==(s=a[6](0)-a[6](a[19].length))&&h(n,"height",s),f&32&&u!==(u=a[8][a[5]])&&h(n,"fill",u)},d(a){a&&N(t)}}}function Vg(e){let t,n,l,o,r,s,u,a,f,c,d,g=e[7].ticks(),p=[];for(let v=0;v<g.length;v+=1)p[v]=pr(gr(e,g,v));let m=e[3],_=[];for(let v=0;v<m.length;v+=1)_[v]=mr(hr(e,m,v));return{c(){t=A("div"),n=B("svg");for(let v=0;v<p.length;v+=1)p[v].c();l=ke();for(let v=0;v<_.length;v+=1)_[v].c();o=B("text"),r=q("Answer Length"),u=B("line"),h(o,"class","chart-title svelte-kz2qh6"),h(o,"y",e[9].top/2+5),h(o,"x",s=(e[4]+e[9].left)/2),h(o,"text-anchor","middle"),h(u,"class","axis-line svelte-kz2qh6"),h(u,"x1",e[9].left),h(u,"x2",a=e[4]-e[9].right),h(u,"y1",f=e[2]-e[9].bottom),h(u,"y2",c=e[2]-e[9].bottom),h(n,"width",e[1]),h(n,"height",e[0]),h(n,"class","svelte-kz2qh6"),h(t,"class","histogram-container svelte-kz2qh6"),Re(()=>e[14].call(t))},m(v,w){O(v,t,w),b(t,n);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(n,null);b(n,l);for(let y=0;y<_.length;y+=1)_[y]&&_[y].m(n,null);b(n,o),b(o,r),b(n,u),d=ft(t,e[14].bind(t))},p(v,[w]){if(w&644){g=v[7].ticks();let y;for(y=0;y<g.length;y+=1){const C=gr(v,g,y);p[y]?p[y].p(C,w):(p[y]=pr(C),p[y].c(),p[y].m(n,l))}for(;y<p.length;y+=1)p[y].d(1);p.length=g.length}if(w&488){m=v[3];let y;for(y=0;y<m.length;y+=1){const C=hr(v,m,y);_[y]?_[y].p(C,w):(_[y]=mr(C),_[y].c(),_[y].m(n,o))}for(;y<_.length;y+=1)_[y].d(1);_.length=m.length}w&16&&s!==(s=(v[4]+v[9].left)/2)&&h(o,"x",s),w&16&&a!==(a=v[4]-v[9].right)&&h(u,"x2",a),w&4&&f!==(f=v[2]-v[9].bottom)&&h(u,"y1",f),w&4&&c!==(c=v[2]-v[9].bottom)&&h(u,"y2",c),w&2&&h(n,"width",v[1]),w&1&&h(n,"height",v[0])},i:X,o:X,d(v){v&&N(t),pe(p,v),pe(_,v),d()}}}let _r=100;function Lg(e,t,n){let l,o,r,s,u,a,f,c,d,g;ae(e,at,C=>n(5,d=C)),ae(e,Ge,C=>n(13,g=C));const p={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let m=300,_=300,v={top:15,bottom:10,left:25,right:5};vt(".1f");let w=Array.from({length:_r},(C,M)=>M);function y(){_=this.offsetWidth,m=this.offsetHeight,n(1,_),n(0,m)}return e.$$.update=()=>{e.$$.dirty&8224&&n(12,l=d==="all"?g:g.filter(C=>C.vote_status===d)),e.$$.dirty&4096&&n(11,o=Aa(l)),e.$$.dirty&2&&n(4,r=_-v.left-v.right),e.$$.dirty&1&&n(2,s=m-v.top-v.bottom),e.$$.dirty&2048&&n(3,u=Ia().thresholds(w).value(C=>C.answer)(o)),e.$$.dirty&16&&n(7,a=Xe().domain([3,_r]).range([v.left,r-v.right])),e.$$.dirty&12&&n(6,f=Xe().domain([0,mt(u,C=>C.length)]).range([s-v.bottom,v.top])),e.$$.dirty&2048&&n(10,c=mt(o,C=>C.length)),e.$$.dirty&1056&&Xe().domain([0,c]).range(["white",p[d]]).interpolate(Tn)},[m,_,s,u,r,d,f,a,p,v,c,o,l,g,y]}class Ya extends fe{constructor(t){super(),ce(this,t,Lg,Vg,ue,{})}}function vr(e,t,n){const l=e.slice();l[18]=t[n];const o=l[7](l[18].x1)-l[7](l[18].x0);return l[19]=o,l}function br(e,t,n){const l=e.slice();return l[22]=t[n],l}function wr(e){let t,n,l,o,r=e[22]+"",s,u;return{c(){t=B("g"),n=B("line"),o=B("text"),s=q(r),h(n,"class","axis-tick svelte-kz2qh6"),h(n,"x1","0"),h(n,"x2","0"),h(n,"y1",0),h(n,"y2",l=-e[2]+e[9].bottom+e[9].top),h(n,"stroke","var(--squidink)"),h(n,"stroke-dasharray","4"),h(o,"class","axis-text svelte-kz2qh6"),h(o,"y","15"),h(o,"text-anchor","middle"),h(t,"transform",u=`translate(${e[7](e[22])+(e[7](1)-e[7](0))/2} ${e[2]-e[9].bottom})`),h(t,"class","svelte-kz2qh6")},m(a,f){O(a,t,f),b(t,n),b(t,o),b(o,s)},p(a,f){f&4&&l!==(l=-a[2]+a[9].bottom+a[9].top)&&h(n,"y2",l),f&128&&r!==(r=a[22]+"")&&J(s,r),f&132&&u!==(u=`translate(${a[7](a[22])+(a[7](1)-a[7](0))/2} ${a[2]-a[9].bottom})`)&&h(t,"transform",u)},d(a){a&&N(t)}}}function yr(e){let t,n,l,o,r,s,u;return{c(){t=B("g"),n=B("rect"),h(n,"x",l=e[7](e[18].x0)+1),h(n,"width",o=e[19]),h(n,"y",r=e[6](e[18].length)),h(n,"height",s=e[6](0)-e[6](e[18].length)),h(n,"fill",u=e[8][e[5]]),h(n,"class","svelte-kz2qh6"),h(t,"class","histogram-bin svelte-kz2qh6")},m(a,f){O(a,t,f),b(t,n)},p(a,f){f&136&&l!==(l=a[7](a[18].x0)+1)&&h(n,"x",l),f&136&&o!==(o=a[19])&&h(n,"width",o),f&72&&r!==(r=a[6](a[18].length))&&h(n,"y",r),f&72&&s!==(s=a[6](0)-a[6](a[18].length))&&h(n,"height",s),f&32&&u!==(u=a[8][a[5]])&&h(n,"fill",u)},d(a){a&&N(t)}}}function qg(e){let t,n,l,o,r,s,u,a,f,c,d,g=e[7].ticks(),p=[];for(let v=0;v<g.length;v+=1)p[v]=wr(br(e,g,v));let m=e[3],_=[];for(let v=0;v<m.length;v+=1)_[v]=yr(vr(e,m,v));return{c(){t=A("div"),n=B("svg");for(let v=0;v<p.length;v+=1)p[v].c();l=ke();for(let v=0;v<_.length;v+=1)_[v].c();o=B("text"),r=q("Question Length"),u=B("line"),h(o,"class","chart-title svelte-kz2qh6"),h(o,"y",e[9].top/2+5),h(o,"x",s=(e[4]+e[9].left)/2),h(o,"text-anchor","middle"),h(u,"class","axis-line svelte-kz2qh6"),h(u,"x1",e[9].left),h(u,"x2",a=e[4]-e[9].right),h(u,"y1",f=e[2]-e[9].bottom),h(u,"y2",c=e[2]-e[9].bottom),h(n,"width",e[1]),h(n,"height",e[0]),h(n,"class","svelte-kz2qh6"),h(t,"class","histogram-container svelte-kz2qh6"),Re(()=>e[13].call(t))},m(v,w){O(v,t,w),b(t,n);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(n,null);b(n,l);for(let y=0;y<_.length;y+=1)_[y]&&_[y].m(n,null);b(n,o),b(o,r),b(n,u),d=ft(t,e[13].bind(t))},p(v,[w]){if(w&644){g=v[7].ticks();let y;for(y=0;y<g.length;y+=1){const C=br(v,g,y);p[y]?p[y].p(C,w):(p[y]=wr(C),p[y].c(),p[y].m(n,l))}for(;y<p.length;y+=1)p[y].d(1);p.length=g.length}if(w&488){m=v[3];let y;for(y=0;y<m.length;y+=1){const C=vr(v,m,y);_[y]?_[y].p(C,w):(_[y]=yr(C),_[y].c(),_[y].m(n,o))}for(;y<_.length;y+=1)_[y].d(1);_.length=m.length}w&16&&s!==(s=(v[4]+v[9].left)/2)&&h(o,"x",s),w&16&&a!==(a=v[4]-v[9].right)&&h(u,"x2",a),w&4&&f!==(f=v[2]-v[9].bottom)&&h(u,"y1",f),w&4&&c!==(c=v[2]-v[9].bottom)&&h(u,"y2",c),w&2&&h(n,"width",v[1]),w&1&&h(n,"height",v[0])},i:X,o:X,d(v){v&&N(t),pe(p,v),pe(_,v),d()}}}let kr=100;function Hg(e,t,n){let l,o,r,s,u,a,f,c,d;ae(e,at,y=>n(5,c=y)),ae(e,Ge,y=>n(12,d=y));const g={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"#bfbfbf"};let p=300,m=300,_={top:15,bottom:10,left:25,right:5},v=Array.from({length:kr},(y,C)=>C);Mt().range(["var(--yellow)","var(--red)","var(--green)"]);function w(){m=this.offsetWidth,p=this.offsetHeight,n(1,m),n(0,p)}return e.$$.update=()=>{e.$$.dirty&4128&&n(11,l=c==="all"?d:d.filter(y=>y.vote_status===c)),e.$$.dirty&2048&&n(10,o=Aa(l)),e.$$.dirty&2&&n(4,r=m-_.left-_.right),e.$$.dirty&1&&n(2,s=p-_.top-_.bottom),e.$$.dirty&1024&&n(3,u=Ia().thresholds(v).value(y=>y.question)(o)),e.$$.dirty&16&&n(7,a=Xe().domain([3,kr]).range([_.left,r-_.right])),e.$$.dirty&12&&n(6,f=Xe().domain([0,mt(u,y=>y.length)]).range([s-_.bottom,_.top])),e.$$.dirty&1024&&mt(o,y=>y.length)},[p,m,s,u,r,c,f,a,g,_,o,l,d,w]}class Qa extends fe{constructor(t){super(),ce(this,t,Hg,qg,ue,{})}}function Gg(e){let t,n,l,o,r,s,u,a,f,c,d,g,p,m=Math.round(e[5](e[3]))+"",_,v,w,y,C,M,S,E;return{c(){t=A("div"),n=A("div"),l=A("p"),l.textContent="Questions",o=P(),r=A("select"),s=A("option"),s.textContent="All",u=A("option"),u.textContent="Good",a=A("option"),a.textContent="Bad",f=A("option"),f.textContent="N/A",c=P(),d=A("div"),g=B("svg"),p=B("text"),_=q(m),C=P(),M=A("p"),M.textContent="number of responses",h(l,"class","card-text svelte-1pknxov"),s.__value="all",s.value=s.__value,h(s,"class","svelte-1pknxov"),u.__value="up",u.value=u.__value,h(u,"class","svelte-1pknxov"),a.__value="down",a.value=a.__value,h(a,"class","svelte-1pknxov"),f.__value="n/a",f.value=f.__value,h(f,"class","svelte-1pknxov"),h(r,"id","feedback-dropdown"),h(r,"name","feedback-dropdown"),ye(r,"background",e[6][e[0]]),h(r,"class","svelte-1pknxov"),e[0]===void 0&&Re(()=>e[9].call(r)),h(n,"class","svelte-1pknxov"),h(p,"dominant-baseline","middle"),h(p,"x",v=e[2]/2),h(p,"y",w=e[1]/2),h(p,"text-anchor","middle"),h(p,"class","svelte-1pknxov"),h(g,"width",e[2]),h(g,"height",e[1]),h(g,"class","svelte-1pknxov"),h(d,"class","svelte-1pknxov"),Re(()=>e[10].call(d)),h(M,"class","small svelte-1pknxov"),h(t,"class","card-container svelte-1pknxov"),ye(t,"background",e[6][e[0]])},m($,R){O($,t,R),b(t,n),b(n,l),b(n,o),b(n,r),b(r,s),b(r,u),b(r,a),b(r,f),ll(r,e[0],!0),b(t,c),b(t,d),b(d,g),b(g,p),b(p,_),y=ft(d,e[10].bind(d)),b(t,C),b(t,M),S||(E=x(r,"change",e[9]),S=!0)},p($,[R]){R&1&&ye(r,"background",$[6][$[0]]),R&1&&ll(r,$[0]),R&8&&m!==(m=Math.round($[5]($[3]))+"")&&J(_,m),R&4&&v!==(v=$[2]/2)&&h(p,"x",v),R&2&&w!==(w=$[1]/2)&&h(p,"y",w),R&4&&h(g,"width",$[2]),R&2&&h(g,"height",$[1]),R&1&&ye(t,"background",$[6][$[0]])},i:X,o:X,d($){$&&N(t),y(),S=!1,E()}}}function jg(e,t){return t==="all"?e.length:e.filter(l=>l.vote_status===t).length}function Bg(e,t,n){let l,o,r,s;ae(e,at,m=>n(0,o=m)),ae(e,Ge,m=>n(8,r=m));let u,a,f=Fo(0);ae(e,f,m=>n(3,s=m));const c=vt(".1f"),d={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"var(--white)"};function g(){o=sa(this),at.set(o)}function p(){a=this.clientWidth,u=this.clientHeight,n(2,a),n(1,u)}return e.$$.update=()=>{e.$$.dirty&257&&n(7,l=jg(r,o)),e.$$.dirty&128&&console.log("fbc",l),e.$$.dirty&128&&f.set(l)},[o,u,a,s,f,c,d,l,r,g,p]}class Ka extends fe{constructor(t){super(),ce(this,t,Bg,Gg,ue,{})}}function xg(e){let t,n,l,o,r,s,u,a,f,c,d,g,p,m=e[5](e[3])+"",_,v,w,y,C,M,S,E;return{c(){t=A("div"),n=A("div"),l=A("p"),l.textContent="Questions",o=P(),r=A("select"),s=A("option"),s.textContent="All",u=A("option"),u.textContent="Good",a=A("option"),a.textContent="Bad",f=A("option"),f.textContent="N/A",c=P(),d=A("div"),g=B("svg"),p=B("text"),_=q(m),C=P(),M=A("p"),M.textContent="percentage of responses",h(l,"class","card-text svelte-mchgj2"),s.__value="all",s.value=s.__value,u.__value="up",u.value=u.__value,a.__value="down",a.value=a.__value,f.__value="n/a",f.value=f.__value,h(r,"id","feedback-dropdown"),h(r,"name","feedback-dropdown"),ye(r,"background",e[6][e[0]]),h(r,"class","svelte-mchgj2"),e[0]===void 0&&Re(()=>e[9].call(r)),h(p,"dominant-baseline","middle"),h(p,"x",v=e[2]/2),h(p,"y",w=e[1]/2),h(p,"text-anchor","middle"),h(p,"class","svelte-mchgj2"),h(g,"width",e[2]),h(g,"height",e[1]),h(g,"class","svelte-mchgj2"),Re(()=>e[10].call(d)),h(M,"class","small svelte-mchgj2"),h(t,"class","card-container svelte-mchgj2"),ye(t,"background",e[6][e[0]])},m($,R){O($,t,R),b(t,n),b(n,l),b(n,o),b(n,r),b(r,s),b(r,u),b(r,a),b(r,f),ll(r,e[0],!0),b(t,c),b(t,d),b(d,g),b(g,p),b(p,_),y=ft(d,e[10].bind(d)),b(t,C),b(t,M),S||(E=x(r,"change",e[9]),S=!0)},p($,[R]){R&1&&ye(r,"background",$[6][$[0]]),R&1&&ll(r,$[0]),R&8&&m!==(m=$[5]($[3])+"")&&J(_,m),R&4&&v!==(v=$[2]/2)&&h(p,"x",v),R&2&&w!==(w=$[1]/2)&&h(p,"y",w),R&4&&h(g,"width",$[2]),R&2&&h(g,"height",$[1]),R&1&&ye(t,"background",$[6][$[0]])},i:X,o:X,d($){$&&N(t),y(),S=!1,E()}}}function Ug(e,t){const n=e.length;return t==="all"?1:e.filter(o=>o.vote_status===t).length/n}function Wg(e,t,n){let l,o,r,s;ae(e,at,m=>n(0,o=m)),ae(e,Ge,m=>n(8,r=m));let u,a,f=Fo(0);ae(e,f,m=>n(3,s=m));const c=vt(".1%"),d={up:"#00ebc7",down:"#FF5470","n/a":"#fde24f",all:"var(--white)"};function g(){o=sa(this),at.set(o)}function p(){a=this.clientWidth,u=this.clientHeight,n(2,a),n(1,u)}return e.$$.update=()=>{e.$$.dirty&257&&n(7,l=Ug(r,o)),e.$$.dirty&128&&f.set(l)},[o,u,a,s,f,c,d,l,r,g,p]}class Ja extends fe{constructor(t){super(),ce(this,t,Wg,xg,ue,{})}}function Xg(e){let t,n,l,o,r,s,u,a,f,c,d,g,p,m,_,v,w,y,C,M,S,E,$,R,k,F,T;return r=new Ka({}),a=new Ja({}),d=new Ua({}),m=new Xa({props:{feedback:"Bad"}}),w=new Qa({}),M=new Ya({}),F=new Wa({}),{c(){t=A("div"),n=A("div"),l=A("div"),o=A("div"),le(r.$$.fragment),s=P(),u=A("div"),le(a.$$.fragment),f=P(),c=A("div"),le(d.$$.fragment),g=P(),p=A("div"),le(m.$$.fragment),_=P(),v=A("div"),le(w.$$.fragment),y=P(),C=A("div"),le(M.$$.fragment),S=P(),E=A("div"),$=A("div"),$.innerHTML=`<div class="right-chart-1 svelte-14znspc"></div> 
      <div class="right-chart-2 svelte-14znspc"></div>`,R=P(),k=A("div"),le(F.$$.fragment),h(o,"class","card-1 svelte-14znspc"),h(u,"class","card-2"),h(l,"class","left-text svelte-14znspc"),h(c,"class","left-confidence svelte-14znspc"),h(p,"class","left-question svelte-14znspc"),h(v,"class","left-filter svelte-14znspc"),h(C,"class","left-filter2"),h(n,"class","feedback-left svelte-14znspc"),h($,"class","right-chart svelte-14znspc"),h(k,"class","right-table svelte-14znspc"),h(E,"class","feedback-right svelte-14znspc"),h(t,"class","feedback-container svelte-14znspc")},m(I,V){O(I,t,V),b(t,n),b(n,l),b(l,o),ee(r,o,null),b(l,s),b(l,u),ee(a,u,null),b(n,f),b(n,c),ee(d,c,null),b(n,g),b(n,p),ee(m,p,null),b(n,_),b(n,v),ee(w,v,null),b(n,y),b(n,C),ee(M,C,null),b(t,S),b(t,E),b(E,$),b(E,R),b(E,k),ee(F,k,null),T=!0},p:X,i(I){T||(z(r.$$.fragment,I),z(a.$$.fragment,I),z(d.$$.fragment,I),z(m.$$.fragment,I),z(w.$$.fragment,I),z(M.$$.fragment,I),z(F.$$.fragment,I),T=!0)},o(I){L(r.$$.fragment,I),L(a.$$.fragment,I),L(d.$$.fragment,I),L(m.$$.fragment,I),L(w.$$.fragment,I),L(M.$$.fragment,I),L(F.$$.fragment,I),T=!1},d(I){I&&N(t),te(r),te(a),te(d),te(m),te(w),te(M),te(F)}}}function Yg(e,t,n){let l;ae(e,Rn,r=>n(0,l=r)),ct(()=>{o()});async function o(){const a=(await(await fetch("/chat/qa_table/retrieve")).json()).rows.map(f=>({id:f[0],question:f[1],answer:f[2],vote_status:f[3]}));De(Rn,l=[...a],l)}return[]}class Za extends fe{constructor(t){super(),ce(this,t,Yg,Xg,ue,{})}}/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,l)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sr(Object(n),!0).forEach(function(l){Qg(e,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach(function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))})}return e}function Kn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kn=function(t){return typeof t}:Kn=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kn(e)}function Qg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(){return _t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},_t.apply(this,arguments)}function Kg(e,t){if(e==null)return{};var n={},l=Object.keys(e),o,r;for(r=0;r<l.length;r++)o=l[r],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Jg(e,t){if(e==null)return{};var n=Kg(e,t),l,o;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)l=r[o],!(t.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(e,l)&&(n[l]=e[l])}return n}var Zg="1.15.0";function gt(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var bt=gt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),On=gt(/Edge/i),Cr=gt(/firefox/i),bn=gt(/safari/i)&&!gt(/chrome/i)&&!gt(/android/i),eu=gt(/iP(ad|od|hone)/i),tu=gt(/chrome/i)&&gt(/android/i),nu={capture:!1,passive:!1};function ge(e,t,n){e.addEventListener(t,n,!bt&&nu)}function de(e,t,n){e.removeEventListener(t,n,!bt&&nu)}function gl(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function ep(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function nt(e,t,n,l){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&gl(e,t):gl(e,t))||l&&e===n)return e;if(e===n)break}while(e=ep(e))}return null}var $r=/\s+/g;function xe(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var l=(" "+e.className+" ").replace($r," ").replace(" "+t+" "," ");e.className=(l+(n?" "+t:"")).replace($r," ")}}function ne(e,t,n){var l=e&&e.style;if(l){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in l)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),l[t]=n+(typeof n=="string"?"":"px")}}function Jt(e,t){var n="";if(typeof e=="string")n=e;else do{var l=ne(e,"transform");l&&l!=="none"&&(n=l+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function lu(e,t,n){if(e){var l=e.getElementsByTagName(t),o=0,r=l.length;if(n)for(;o<r;o++)n(l[o],o);return l}return[]}function st(){var e=document.scrollingElement;return e||document.documentElement}function Ee(e,t,n,l,o){if(!(!e.getBoundingClientRect&&e!==window)){var r,s,u,a,f,c,d;if(e!==window&&e.parentNode&&e!==st()?(r=e.getBoundingClientRect(),s=r.top,u=r.left,a=r.bottom,f=r.right,c=r.height,d=r.width):(s=0,u=0,a=window.innerHeight,f=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!bt))do if(o&&o.getBoundingClientRect&&(ne(o,"transform")!=="none"||n&&ne(o,"position")!=="static")){var g=o.getBoundingClientRect();s-=g.top+parseInt(ne(o,"border-top-width")),u-=g.left+parseInt(ne(o,"border-left-width")),a=s+r.height,f=u+r.width;break}while(o=o.parentNode);if(l&&e!==window){var p=Jt(o||e),m=p&&p.a,_=p&&p.d;p&&(s/=_,u/=m,d/=m,c/=_,a=s+c,f=u+d)}return{top:s,left:u,bottom:a,right:f,width:d,height:c}}}function Ar(e,t,n){for(var l=Ct(e,!0),o=Ee(e)[t];l;){var r=Ee(l)[n],s=void 0;if(n==="top"||n==="left"?s=o>=r:s=o<=r,!s)return l;if(l===st())break;l=Ct(l,!1)}return!1}function ln(e,t,n,l){for(var o=0,r=0,s=e.children;r<s.length;){if(s[r].style.display!=="none"&&s[r]!==Z.ghost&&(l||s[r]!==Z.dragged)&&nt(s[r],n.draggable,e,!1)){if(o===t)return s[r];o++}r++}return null}function Vo(e,t){for(var n=e.lastElementChild;n&&(n===Z.ghost||ne(n,"display")==="none"||t&&!gl(n,t));)n=n.previousElementSibling;return n||null}function Ye(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Z.clone&&(!t||gl(e,t))&&n++;return n}function Rr(e){var t=0,n=0,l=st();if(e)do{var o=Jt(e),r=o.a,s=o.d;t+=e.scrollLeft*r,n+=e.scrollTop*s}while(e!==l&&(e=e.parentNode));return[t,n]}function tp(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var l in t)if(t.hasOwnProperty(l)&&t[l]===e[n][l])return Number(n)}return-1}function Ct(e,t){if(!e||!e.getBoundingClientRect)return st();var n=e,l=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=ne(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return st();if(l||t)return n;l=!0}}while(n=n.parentNode);return st()}function np(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function zl(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var wn;function ou(e,t){return function(){if(!wn){var n=arguments,l=this;n.length===1?e.call(l,n[0]):e.apply(l,n),wn=setTimeout(function(){wn=void 0},t)}}}function lp(){clearTimeout(wn),wn=void 0}function iu(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ru(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var We="Sortable"+new Date().getTime();function op(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var l=[].slice.call(this.el.children);l.forEach(function(o){if(!(ne(o,"display")==="none"||o===Z.ghost)){e.push({target:o,rect:Ee(o)});var r=ut({},e[e.length-1].rect);if(o.thisAnimationDuration){var s=Jt(o,!0);s&&(r.top-=s.f,r.left-=s.e)}o.fromRect=r}})}},addAnimationState:function(l){e.push(l)},removeAnimationState:function(l){e.splice(tp(e,{target:l}),1)},animateAll:function(l){var o=this;if(!this.options.animation){clearTimeout(t),typeof l=="function"&&l();return}var r=!1,s=0;e.forEach(function(u){var a=0,f=u.target,c=f.fromRect,d=Ee(f),g=f.prevFromRect,p=f.prevToRect,m=u.rect,_=Jt(f,!0);_&&(d.top-=_.f,d.left-=_.e),f.toRect=d,f.thisAnimationDuration&&zl(g,d)&&!zl(c,d)&&(m.top-d.top)/(m.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(a=rp(m,g,p,o.options)),zl(d,c)||(f.prevFromRect=c,f.prevToRect=d,a||(a=o.options.animation),o.animate(f,m,d,a)),a&&(r=!0,s=Math.max(s,a),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},a),f.thisAnimationDuration=a)}),clearTimeout(t),r?t=setTimeout(function(){typeof l=="function"&&l()},s):typeof l=="function"&&l(),e=[]},animate:function(l,o,r,s){if(s){ne(l,"transition",""),ne(l,"transform","");var u=Jt(this.el),a=u&&u.a,f=u&&u.d,c=(o.left-r.left)/(a||1),d=(o.top-r.top)/(f||1);l.animatingX=!!c,l.animatingY=!!d,ne(l,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=ip(l),ne(l,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),ne(l,"transform","translate3d(0,0,0)"),typeof l.animated=="number"&&clearTimeout(l.animated),l.animated=setTimeout(function(){ne(l,"transition",""),ne(l,"transform",""),l.animated=!1,l.animatingX=!1,l.animatingY=!1},s)}}}}function ip(e){return e.offsetWidth}function rp(e,t,n,l){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*l.animation}var jt=[],Vl={initializeByDefault:!0},zn={mount:function(t){for(var n in Vl)Vl.hasOwnProperty(n)&&!(n in t)&&(t[n]=Vl[n]);jt.forEach(function(l){if(l.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),jt.push(t)},pluginEvent:function(t,n,l){var o=this;this.eventCanceled=!1,l.cancel=function(){o.eventCanceled=!0};var r=t+"Global";jt.forEach(function(s){n[s.pluginName]&&(n[s.pluginName][r]&&n[s.pluginName][r](ut({sortable:n},l)),n.options[s.pluginName]&&n[s.pluginName][t]&&n[s.pluginName][t](ut({sortable:n},l)))})},initializePlugins:function(t,n,l,o){jt.forEach(function(u){var a=u.pluginName;if(!(!t.options[a]&&!u.initializeByDefault)){var f=new u(t,n,t.options);f.sortable=t,f.options=t.options,t[a]=f,_t(l,f.defaults)}});for(var r in t.options)if(t.options.hasOwnProperty(r)){var s=this.modifyOption(t,r,t.options[r]);typeof s<"u"&&(t.options[r]=s)}},getEventProperties:function(t,n){var l={};return jt.forEach(function(o){typeof o.eventProperties=="function"&&_t(l,o.eventProperties.call(n[o.pluginName],t))}),l},modifyOption:function(t,n,l){var o;return jt.forEach(function(r){t[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[n]=="function"&&(o=r.optionListeners[n].call(t[r.pluginName],l))}),o}};function sp(e){var t=e.sortable,n=e.rootEl,l=e.name,o=e.targetEl,r=e.cloneEl,s=e.toEl,u=e.fromEl,a=e.oldIndex,f=e.newIndex,c=e.oldDraggableIndex,d=e.newDraggableIndex,g=e.originalEvent,p=e.putSortable,m=e.extraEventProperties;if(t=t||n&&n[We],!!t){var _,v=t.options,w="on"+l.charAt(0).toUpperCase()+l.substr(1);window.CustomEvent&&!bt&&!On?_=new CustomEvent(l,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(l,!0,!0)),_.to=s||n,_.from=u||n,_.item=o||n,_.clone=r,_.oldIndex=a,_.newIndex=f,_.oldDraggableIndex=c,_.newDraggableIndex=d,_.originalEvent=g,_.pullMode=p?p.lastPutMode:void 0;var y=ut(ut({},m),zn.getEventProperties(l,t));for(var C in y)_[C]=y[C];n&&n.dispatchEvent(_),v[w]&&v[w].call(t,_)}}var ap=["evt"],qe=function(t,n){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=l.evt,r=Jg(l,ap);zn.pluginEvent.bind(Z)(t,n,ut({dragEl:H,parentEl:Ae,ghostEl:re,rootEl:be,nextEl:Pt,lastDownEl:Jn,cloneEl:we,cloneHidden:yt,dragStarted:hn,putSortable:Ne,activeSortable:Z.active,originalEvent:o,oldIndex:Wt,oldDraggableIndex:yn,newIndex:Ue,newDraggableIndex:wt,hideGhostForTarget:fu,unhideGhostForTarget:cu,cloneNowHidden:function(){yt=!0},cloneNowShown:function(){yt=!1},dispatchSortableEvent:function(u){Te({sortable:n,name:u,originalEvent:o})}},r))};function Te(e){sp(ut({putSortable:Ne,cloneEl:we,targetEl:H,rootEl:be,oldIndex:Wt,oldDraggableIndex:yn,newIndex:Ue,newDraggableIndex:wt},e))}var H,Ae,re,be,Pt,Jn,we,yt,Wt,Ue,yn,wt,jn,Ne,Ut=!1,pl=!1,ml=[],Ft,Je,Ll,ql,Mr,Er,hn,Bt,kn,Sn=!1,Bn=!1,Zn,Pe,Hl=[],mo=!1,_l=[],Rl=typeof document<"u",xn=eu,Fr=On||bt?"cssFloat":"float",up=Rl&&!tu&&!eu&&"draggable"in document.createElement("div"),su=function(){if(Rl){if(bt)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),au=function(t,n){var l=ne(t),o=parseInt(l.width)-parseInt(l.paddingLeft)-parseInt(l.paddingRight)-parseInt(l.borderLeftWidth)-parseInt(l.borderRightWidth),r=ln(t,0,n),s=ln(t,1,n),u=r&&ne(r),a=s&&ne(s),f=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+Ee(r).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Ee(s).width;if(l.display==="flex")return l.flexDirection==="column"||l.flexDirection==="column-reverse"?"vertical":"horizontal";if(l.display==="grid")return l.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&u.float&&u.float!=="none"){var d=u.float==="left"?"left":"right";return s&&(a.clear==="both"||a.clear===d)?"vertical":"horizontal"}return r&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||f>=o&&l[Fr]==="none"||s&&l[Fr]==="none"&&f+c>o)?"vertical":"horizontal"},fp=function(t,n,l){var o=l?t.left:t.top,r=l?t.right:t.bottom,s=l?t.width:t.height,u=l?n.left:n.top,a=l?n.right:n.bottom,f=l?n.width:n.height;return o===u||r===a||o+s/2===u+f/2},cp=function(t,n){var l;return ml.some(function(o){var r=o[We].options.emptyInsertThreshold;if(!(!r||Vo(o))){var s=Ee(o),u=t>=s.left-r&&t<=s.right+r,a=n>=s.top-r&&n<=s.bottom+r;if(u&&a)return l=o}}),l},uu=function(t){function n(r,s){return function(u,a,f,c){var d=u.options.group.name&&a.options.group.name&&u.options.group.name===a.options.group.name;if(r==null&&(s||d))return!0;if(r==null||r===!1)return!1;if(s&&r==="clone")return r;if(typeof r=="function")return n(r(u,a,f,c),s)(u,a,f,c);var g=(s?u:a).options.group.name;return r===!0||typeof r=="string"&&r===g||r.join&&r.indexOf(g)>-1}}var l={},o=t.group;(!o||Kn(o)!="object")&&(o={name:o}),l.name=o.name,l.checkPull=n(o.pull,!0),l.checkPut=n(o.put),l.revertClone=o.revertClone,t.group=l},fu=function(){!su&&re&&ne(re,"display","none")},cu=function(){!su&&re&&ne(re,"display","")};Rl&&!tu&&document.addEventListener("click",function(e){if(pl)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),pl=!1,!1},!0);var Dt=function(t){if(H){t=t.touches?t.touches[0]:t;var n=cp(t.clientX,t.clientY);if(n){var l={};for(var o in t)t.hasOwnProperty(o)&&(l[o]=t[o]);l.target=l.rootEl=n,l.preventDefault=void 0,l.stopPropagation=void 0,n[We]._onDragOver(l)}}},dp=function(t){H&&H.parentNode[We]._isOutsideThisEl(t.target)};function Z(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=_t({},t),e[We]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return au(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,u){s.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Z.supportPointer!==!1&&"PointerEvent"in window&&!bn,emptyInsertThreshold:5};zn.initializePlugins(this,e,n);for(var l in n)!(l in t)&&(t[l]=n[l]);uu(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:up,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?ge(e,"pointerdown",this._onTapStart):(ge(e,"mousedown",this._onTapStart),ge(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(ge(e,"dragover",this),ge(e,"dragenter",this)),ml.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),_t(this,op())}Z.prototype={constructor:Z,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Bt=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,H):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,l=this.el,o=this.options,r=o.preventOnFilter,s=t.type,u=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,a=(u||t).target,f=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,c=o.filter;if(wp(l),!H&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||o.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&bn&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=nt(a,o.draggable,l,!1),!(a&&a.animated)&&Jn!==a)){if(Wt=Ye(a),yn=Ye(a,o.draggable),typeof c=="function"){if(c.call(this,t,a,this)){Te({sortable:n,rootEl:f,name:"filter",targetEl:a,toEl:l,fromEl:l}),qe("filter",n,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=nt(f,d.trim(),l,!1),d)return Te({sortable:n,rootEl:d,name:"filter",targetEl:a,fromEl:l,toEl:l}),qe("filter",n,{evt:t}),!0}),c)){r&&t.cancelable&&t.preventDefault();return}o.handle&&!nt(f,o.handle,l,!1)||this._prepareDragStart(t,u,a)}}},_prepareDragStart:function(t,n,l){var o=this,r=o.el,s=o.options,u=r.ownerDocument,a;if(l&&!H&&l.parentNode===r){var f=Ee(l);if(be=r,H=l,Ae=H.parentNode,Pt=H.nextSibling,Jn=l,jn=s.group,Z.dragged=H,Ft={target:H,clientX:(n||t).clientX,clientY:(n||t).clientY},Mr=Ft.clientX-f.left,Er=Ft.clientY-f.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,H.style["will-change"]="all",a=function(){if(qe("delayEnded",o,{evt:t}),Z.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Cr&&o.nativeDraggable&&(H.draggable=!0),o._triggerDragStart(t,n),Te({sortable:o,name:"choose",originalEvent:t}),xe(H,s.chosenClass,!0)},s.ignore.split(",").forEach(function(c){lu(H,c.trim(),Gl)}),ge(u,"dragover",Dt),ge(u,"mousemove",Dt),ge(u,"touchmove",Dt),ge(u,"mouseup",o._onDrop),ge(u,"touchend",o._onDrop),ge(u,"touchcancel",o._onDrop),Cr&&this.nativeDraggable&&(this.options.touchStartThreshold=4,H.draggable=!0),qe("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(On||bt))){if(Z.eventCanceled){this._onDrop();return}ge(u,"mouseup",o._disableDelayedDrag),ge(u,"touchend",o._disableDelayedDrag),ge(u,"touchcancel",o._disableDelayedDrag),ge(u,"mousemove",o._delayedDragTouchMoveHandler),ge(u,"touchmove",o._delayedDragTouchMoveHandler),s.supportPointer&&ge(u,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(a,s.delay)}else a()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){H&&Gl(H),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;de(t,"mouseup",this._disableDelayedDrag),de(t,"touchend",this._disableDelayedDrag),de(t,"touchcancel",this._disableDelayedDrag),de(t,"mousemove",this._delayedDragTouchMoveHandler),de(t,"touchmove",this._delayedDragTouchMoveHandler),de(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?ge(document,"pointermove",this._onTouchMove):n?ge(document,"touchmove",this._onTouchMove):ge(document,"mousemove",this._onTouchMove):(ge(H,"dragend",this),ge(be,"dragstart",this._onDragStart));try{document.selection?el(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Ut=!1,be&&H){qe("dragStarted",this,{evt:n}),this.nativeDraggable&&ge(document,"dragover",dp);var l=this.options;!t&&xe(H,l.dragClass,!1),xe(H,l.ghostClass,!0),Z.active=this,t&&this._appendGhost(),Te({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Je){this._lastX=Je.clientX,this._lastY=Je.clientY,fu();for(var t=document.elementFromPoint(Je.clientX,Je.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Je.clientX,Je.clientY),t!==n);)n=t;if(H.parentNode[We]._isOutsideThisEl(t),n)do{if(n[We]){var l=void 0;if(l=n[We]._onDragOver({clientX:Je.clientX,clientY:Je.clientY,target:t,rootEl:n}),l&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);cu()}},_onTouchMove:function(t){if(Ft){var n=this.options,l=n.fallbackTolerance,o=n.fallbackOffset,r=t.touches?t.touches[0]:t,s=re&&Jt(re,!0),u=re&&s&&s.a,a=re&&s&&s.d,f=xn&&Pe&&Rr(Pe),c=(r.clientX-Ft.clientX+o.x)/(u||1)+(f?f[0]-Hl[0]:0)/(u||1),d=(r.clientY-Ft.clientY+o.y)/(a||1)+(f?f[1]-Hl[1]:0)/(a||1);if(!Z.active&&!Ut){if(l&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<l)return;this._onDragStart(t,!0)}if(re){s?(s.e+=c-(Ll||0),s.f+=d-(ql||0)):s={a:1,b:0,c:0,d:1,e:c,f:d};var g="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");ne(re,"webkitTransform",g),ne(re,"mozTransform",g),ne(re,"msTransform",g),ne(re,"transform",g),Ll=c,ql=d,Je=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!re){var t=this.options.fallbackOnBody?document.body:be,n=Ee(H,!0,xn,!0,t),l=this.options;if(xn){for(Pe=t;ne(Pe,"position")==="static"&&ne(Pe,"transform")==="none"&&Pe!==document;)Pe=Pe.parentNode;Pe!==document.body&&Pe!==document.documentElement?(Pe===document&&(Pe=st()),n.top+=Pe.scrollTop,n.left+=Pe.scrollLeft):Pe=st(),Hl=Rr(Pe)}re=H.cloneNode(!0),xe(re,l.ghostClass,!1),xe(re,l.fallbackClass,!0),xe(re,l.dragClass,!0),ne(re,"transition",""),ne(re,"transform",""),ne(re,"box-sizing","border-box"),ne(re,"margin",0),ne(re,"top",n.top),ne(re,"left",n.left),ne(re,"width",n.width),ne(re,"height",n.height),ne(re,"opacity","0.8"),ne(re,"position",xn?"absolute":"fixed"),ne(re,"zIndex","100000"),ne(re,"pointerEvents","none"),Z.ghost=re,t.appendChild(re),ne(re,"transform-origin",Mr/parseInt(re.style.width)*100+"% "+Er/parseInt(re.style.height)*100+"%")}},_onDragStart:function(t,n){var l=this,o=t.dataTransfer,r=l.options;if(qe("dragStart",this,{evt:t}),Z.eventCanceled){this._onDrop();return}qe("setupClone",this),Z.eventCanceled||(we=ru(H),we.removeAttribute("id"),we.draggable=!1,we.style["will-change"]="",this._hideClone(),xe(we,this.options.chosenClass,!1),Z.clone=we),l.cloneId=el(function(){qe("clone",l),!Z.eventCanceled&&(l.options.removeCloneOnHide||be.insertBefore(we,H),l._hideClone(),Te({sortable:l,name:"clone"}))}),!n&&xe(H,r.dragClass,!0),n?(pl=!0,l._loopId=setInterval(l._emulateDragOver,50)):(de(document,"mouseup",l._onDrop),de(document,"touchend",l._onDrop),de(document,"touchcancel",l._onDrop),o&&(o.effectAllowed="move",r.setData&&r.setData.call(l,o,H)),ge(document,"drop",l),ne(H,"transform","translateZ(0)")),Ut=!0,l._dragStartId=el(l._dragStarted.bind(l,n,t)),ge(document,"selectstart",l),hn=!0,bn&&ne(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,l=t.target,o,r,s,u=this.options,a=u.group,f=Z.active,c=jn===a,d=u.sort,g=Ne||f,p,m=this,_=!1;if(mo)return;function v(K,W){qe(K,m,ut({evt:t,isOwner:c,axis:p?"vertical":"horizontal",revert:s,dragRect:o,targetRect:r,canSort:d,fromSortable:g,target:l,completed:y,onMove:function(Q,Se){return Un(be,n,H,o,Q,Ee(Q),t,Se)},changed:C},W))}function w(){v("dragOverAnimationCapture"),m.captureAnimationState(),m!==g&&g.captureAnimationState()}function y(K){return v("dragOverCompleted",{insertion:K}),K&&(c?f._hideClone():f._showClone(m),m!==g&&(xe(H,Ne?Ne.options.ghostClass:f.options.ghostClass,!1),xe(H,u.ghostClass,!0)),Ne!==m&&m!==Z.active?Ne=m:m===Z.active&&Ne&&(Ne=null),g===m&&(m._ignoreWhileAnimating=l),m.animateAll(function(){v("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(l===H&&!H.animated||l===n&&!l.animated)&&(Bt=null),!u.dragoverBubble&&!t.rootEl&&l!==document&&(H.parentNode[We]._isOutsideThisEl(t.target),!K&&Dt(t)),!u.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),_=!0}function C(){Ue=Ye(H),wt=Ye(H,u.draggable),Te({sortable:m,name:"change",toEl:n,newIndex:Ue,newDraggableIndex:wt,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),l=nt(l,u.draggable,n,!0),v("dragOver"),Z.eventCanceled)return _;if(H.contains(t.target)||l.animated&&l.animatingX&&l.animatingY||m._ignoreWhileAnimating===l)return y(!1);if(pl=!1,f&&!u.disabled&&(c?d||(s=Ae!==be):Ne===this||(this.lastPutMode=jn.checkPull(this,f,H,t))&&a.checkPut(this,f,H,t))){if(p=this._getDirection(t,l)==="vertical",o=Ee(H),v("dragOverValid"),Z.eventCanceled)return _;if(s)return Ae=be,w(),this._hideClone(),v("revert"),Z.eventCanceled||(Pt?be.insertBefore(H,Pt):be.appendChild(H)),y(!0);var M=Vo(n,u.draggable);if(!M||mp(t,p,this)&&!M.animated){if(M===H)return y(!1);if(M&&n===t.target&&(l=M),l&&(r=Ee(l)),Un(be,n,H,o,l,r,t,!!l)!==!1)return w(),M&&M.nextSibling?n.insertBefore(H,M.nextSibling):n.appendChild(H),Ae=n,C(),y(!0)}else if(M&&pp(t,p,this)){var S=ln(n,0,u,!0);if(S===H)return y(!1);if(l=S,r=Ee(l),Un(be,n,H,o,l,r,t,!1)!==!1)return w(),n.insertBefore(H,S),Ae=n,C(),y(!0)}else if(l.parentNode===n){r=Ee(l);var E=0,$,R=H.parentNode!==n,k=!fp(H.animated&&H.toRect||o,l.animated&&l.toRect||r,p),F=p?"top":"left",T=Ar(l,"top","top")||Ar(H,"top","top"),I=T?T.scrollTop:void 0;Bt!==l&&($=r[F],Sn=!1,Bn=!k&&u.invertSwap||R),E=_p(t,l,r,p,k?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,Bn,Bt===l);var V;if(E!==0){var D=Ye(H);do D-=E,V=Ae.children[D];while(V&&(ne(V,"display")==="none"||V===re))}if(E===0||V===l)return y(!1);Bt=l,kn=E;var G=l.nextElementSibling,U=!1;U=E===1;var j=Un(be,n,H,o,l,r,t,U);if(j!==!1)return(j===1||j===-1)&&(U=j===1),mo=!0,setTimeout(gp,30),w(),U&&!G?n.appendChild(H):l.parentNode.insertBefore(H,U?G:l),T&&iu(T,0,I-T.scrollTop),Ae=H.parentNode,$!==void 0&&!Bn&&(Zn=Math.abs($-Ee(l)[F])),C(),y(!0)}if(n.contains(H))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){de(document,"mousemove",this._onTouchMove),de(document,"touchmove",this._onTouchMove),de(document,"pointermove",this._onTouchMove),de(document,"dragover",Dt),de(document,"mousemove",Dt),de(document,"touchmove",Dt)},_offUpEvents:function(){var t=this.el.ownerDocument;de(t,"mouseup",this._onDrop),de(t,"touchend",this._onDrop),de(t,"pointerup",this._onDrop),de(t,"touchcancel",this._onDrop),de(document,"selectstart",this)},_onDrop:function(t){var n=this.el,l=this.options;if(Ue=Ye(H),wt=Ye(H,l.draggable),qe("drop",this,{evt:t}),Ae=H&&H.parentNode,Ue=Ye(H),wt=Ye(H,l.draggable),Z.eventCanceled){this._nulling();return}Ut=!1,Bn=!1,Sn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_o(this.cloneId),_o(this._dragStartId),this.nativeDraggable&&(de(document,"drop",this),de(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),bn&&ne(document.body,"user-select",""),ne(H,"transform",""),t&&(hn&&(t.cancelable&&t.preventDefault(),!l.dropBubble&&t.stopPropagation()),re&&re.parentNode&&re.parentNode.removeChild(re),(be===Ae||Ne&&Ne.lastPutMode!=="clone")&&we&&we.parentNode&&we.parentNode.removeChild(we),H&&(this.nativeDraggable&&de(H,"dragend",this),Gl(H),H.style["will-change"]="",hn&&!Ut&&xe(H,Ne?Ne.options.ghostClass:this.options.ghostClass,!1),xe(H,this.options.chosenClass,!1),Te({sortable:this,name:"unchoose",toEl:Ae,newIndex:null,newDraggableIndex:null,originalEvent:t}),be!==Ae?(Ue>=0&&(Te({rootEl:Ae,name:"add",toEl:Ae,fromEl:be,originalEvent:t}),Te({sortable:this,name:"remove",toEl:Ae,originalEvent:t}),Te({rootEl:Ae,name:"sort",toEl:Ae,fromEl:be,originalEvent:t}),Te({sortable:this,name:"sort",toEl:Ae,originalEvent:t})),Ne&&Ne.save()):Ue!==Wt&&Ue>=0&&(Te({sortable:this,name:"update",toEl:Ae,originalEvent:t}),Te({sortable:this,name:"sort",toEl:Ae,originalEvent:t})),Z.active&&((Ue==null||Ue===-1)&&(Ue=Wt,wt=yn),Te({sortable:this,name:"end",toEl:Ae,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){qe("nulling",this),be=H=Ae=re=Pt=we=Jn=yt=Ft=Je=hn=Ue=wt=Wt=yn=Bt=kn=Ne=jn=Z.dragged=Z.ghost=Z.clone=Z.active=null,_l.forEach(function(t){t.checked=!0}),_l.length=Ll=ql=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":H&&(this._onDragOver(t),hp(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,l=this.el.children,o=0,r=l.length,s=this.options;o<r;o++)n=l[o],nt(n,s.draggable,this.el,!1)&&t.push(n.getAttribute(s.dataIdAttr)||bp(n));return t},sort:function(t,n){var l={},o=this.el;this.toArray().forEach(function(r,s){var u=o.children[s];nt(u,this.options.draggable,o,!1)&&(l[r]=u)},this),n&&this.captureAnimationState(),t.forEach(function(r){l[r]&&(o.removeChild(l[r]),o.appendChild(l[r]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return nt(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var l=this.options;if(n===void 0)return l[t];var o=zn.modifyOption(this,t,n);typeof o<"u"?l[t]=o:l[t]=n,t==="group"&&uu(l)},destroy:function(){qe("destroy",this);var t=this.el;t[We]=null,de(t,"mousedown",this._onTapStart),de(t,"touchstart",this._onTapStart),de(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(de(t,"dragover",this),de(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),ml.splice(ml.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!yt){if(qe("hideClone",this),Z.eventCanceled)return;ne(we,"display","none"),this.options.removeCloneOnHide&&we.parentNode&&we.parentNode.removeChild(we),yt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(yt){if(qe("showClone",this),Z.eventCanceled)return;H.parentNode==be&&!this.options.group.revertClone?be.insertBefore(we,H):Pt?be.insertBefore(we,Pt):be.appendChild(we),this.options.group.revertClone&&this.animate(H,we),ne(we,"display",""),yt=!1}}};function hp(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Un(e,t,n,l,o,r,s,u){var a,f=e[We],c=f.options.onMove,d;return window.CustomEvent&&!bt&&!On?a=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("move",!0,!0)),a.to=t,a.from=e,a.dragged=n,a.draggedRect=l,a.related=o||t,a.relatedRect=r||Ee(t),a.willInsertAfter=u,a.originalEvent=s,e.dispatchEvent(a),c&&(d=c.call(f,a,s)),d}function Gl(e){e.draggable=!1}function gp(){mo=!1}function pp(e,t,n){var l=Ee(ln(n.el,0,n.options,!0)),o=10;return t?e.clientX<l.left-o||e.clientY<l.top&&e.clientX<l.right:e.clientY<l.top-o||e.clientY<l.bottom&&e.clientX<l.left}function mp(e,t,n){var l=Ee(Vo(n.el,n.options.draggable)),o=10;return t?e.clientX>l.right+o||e.clientX<=l.right&&e.clientY>l.bottom&&e.clientX>=l.left:e.clientX>l.right&&e.clientY>l.top||e.clientX<=l.right&&e.clientY>l.bottom+o}function _p(e,t,n,l,o,r,s,u){var a=l?e.clientY:e.clientX,f=l?n.height:n.width,c=l?n.top:n.left,d=l?n.bottom:n.right,g=!1;if(!s){if(u&&Zn<f*o){if(!Sn&&(kn===1?a>c+f*r/2:a<d-f*r/2)&&(Sn=!0),Sn)g=!0;else if(kn===1?a<c+Zn:a>d-Zn)return-kn}else if(a>c+f*(1-o)/2&&a<d-f*(1-o)/2)return vp(t)}return g=g||s,g&&(a<c+f*r/2||a>d-f*r/2)?a>c+f/2?1:-1:0}function vp(e){return Ye(H)<Ye(e)?1:-1}function bp(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,l=0;n--;)l+=t.charCodeAt(n);return l.toString(36)}function wp(e){_l.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var l=t[n];l.checked&&_l.push(l)}}function el(e){return setTimeout(e,0)}function _o(e){return clearTimeout(e)}Rl&&ge(document,"touchmove",function(e){(Z.active||Ut)&&e.cancelable&&e.preventDefault()});Z.utils={on:ge,off:de,css:ne,find:lu,is:function(t,n){return!!nt(t,n,t,!1)},extend:np,throttle:ou,closest:nt,toggleClass:xe,clone:ru,index:Ye,nextTick:el,cancelNextTick:_o,detectDirection:au,getChild:ln};Z.get=function(e){return e[We]};Z.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(l){if(!l.prototype||!l.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(l));l.utils&&(Z.utils=ut(ut({},Z.utils),l.utils)),zn.mount(l)})};Z.create=function(e,t){return new Z(e,t)};Z.version=Zg;var Me=[],gn,vo,bo=!1,jl,Bl,vl,pn;function yp(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var l=n.originalEvent;this.sortable.nativeDraggable?ge(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ge(document,"pointermove",this._handleFallbackAutoScroll):l.touches?ge(document,"touchmove",this._handleFallbackAutoScroll):ge(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var l=n.originalEvent;!this.options.dragOverBubble&&!l.rootEl&&this._handleAutoScroll(l)},drop:function(){this.sortable.nativeDraggable?de(document,"dragover",this._handleAutoScroll):(de(document,"pointermove",this._handleFallbackAutoScroll),de(document,"touchmove",this._handleFallbackAutoScroll),de(document,"mousemove",this._handleFallbackAutoScroll)),Dr(),tl(),lp()},nulling:function(){vl=vo=gn=bo=pn=jl=Bl=null,Me.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,l){var o=this,r=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,u=document.elementFromPoint(r,s);if(vl=n,l||this.options.forceAutoScrollFallback||On||bt||bn){xl(n,this.options,u,l);var a=Ct(u,!0);bo&&(!pn||r!==jl||s!==Bl)&&(pn&&Dr(),pn=setInterval(function(){var f=Ct(document.elementFromPoint(r,s),!0);f!==a&&(a=f,tl()),xl(n,o.options,f,l)},10),jl=r,Bl=s)}else{if(!this.options.bubbleScroll||Ct(u,!0)===st()){tl();return}xl(n,this.options,Ct(u,!1),!1)}}},_t(e,{pluginName:"scroll",initializeByDefault:!0})}function tl(){Me.forEach(function(e){clearInterval(e.pid)}),Me=[]}function Dr(){clearInterval(pn)}var xl=ou(function(e,t,n,l){if(t.scroll){var o=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,u=t.scrollSpeed,a=st(),f=!1,c;vo!==n&&(vo=n,tl(),gn=t.scroll,c=t.scrollFn,gn===!0&&(gn=Ct(n,!0)));var d=0,g=gn;do{var p=g,m=Ee(p),_=m.top,v=m.bottom,w=m.left,y=m.right,C=m.width,M=m.height,S=void 0,E=void 0,$=p.scrollWidth,R=p.scrollHeight,k=ne(p),F=p.scrollLeft,T=p.scrollTop;p===a?(S=C<$&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),E=M<R&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(S=C<$&&(k.overflowX==="auto"||k.overflowX==="scroll"),E=M<R&&(k.overflowY==="auto"||k.overflowY==="scroll"));var I=S&&(Math.abs(y-o)<=s&&F+C<$)-(Math.abs(w-o)<=s&&!!F),V=E&&(Math.abs(v-r)<=s&&T+M<R)-(Math.abs(_-r)<=s&&!!T);if(!Me[d])for(var D=0;D<=d;D++)Me[D]||(Me[D]={});(Me[d].vx!=I||Me[d].vy!=V||Me[d].el!==p)&&(Me[d].el=p,Me[d].vx=I,Me[d].vy=V,clearInterval(Me[d].pid),(I!=0||V!=0)&&(f=!0,Me[d].pid=setInterval((function(){l&&this.layer===0&&Z.active._onTouchMove(vl);var G=Me[this.layer].vy?Me[this.layer].vy*u:0,U=Me[this.layer].vx?Me[this.layer].vx*u:0;typeof c=="function"&&c.call(Z.dragged.parentNode[We],U,G,e,vl,Me[this.layer].el)!=="continue"||iu(Me[this.layer].el,U,G)}).bind({layer:d}),24))),d++}while(t.bubbleScroll&&g!==a&&(g=Ct(g,!1)));bo=f}},30),du=function(t){var n=t.originalEvent,l=t.putSortable,o=t.dragEl,r=t.activeSortable,s=t.dispatchSortableEvent,u=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(n){var f=l||r;u();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);a(),f&&!f.el.contains(d)&&(s("spill"),this.onSpill({dragEl:o,putSortable:l}))}};function Lo(){}Lo.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,l=t.putSortable;this.sortable.captureAnimationState(),l&&l.captureAnimationState();var o=ln(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),l&&l.animateAll()},drop:du};_t(Lo,{pluginName:"revertOnSpill"});function qo(){}qo.prototype={onSpill:function(t){var n=t.dragEl,l=t.putSortable,o=l||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:du};_t(qo,{pluginName:"removeOnSpill"});Z.mount(new yp);Z.mount(qo,Lo);function Ir(e,t,n){const l=e.slice();return l[23]=t[n],l[25]=n,l}function Nr(e,t,n){const l=e.slice();return l[26]=t[n],l[28]=n,l}function Pr(e,t,n){const l=e.slice();return l[29]=t[n],l[28]=n,l}function Tr(e){let t,n=e[28]+1+"",l;return{c(){t=A("option"),l=q(n),t.__value=e[28]+1,t.value=t.__value,h(t,"class","svelte-1nj8mt0")},m(o,r){O(o,t,r),b(t,l)},p:X,d(o){o&&N(t)}}}function Or(e,t){let n,l,o=t[1][t[28]]+"",r,s,u,a,f=t[23][t[1][t[28]]]+"",c,d,g,p,m,_,v,w,y,C=Array(t[0]).fill(),M=[];for(let $=0;$<C.length;$+=1)M[$]=Tr(Pr(t,C,$));function S(...$){return t[16](t[23],t[28],...$)}function E(...$){return t[17](t[23],...$)}return{key:e,first:null,c(){n=A("div"),l=A("h5"),r=q(o),s=q(":"),u=P(),a=A("p"),c=q(f),d=P(),g=A("div"),p=q(`Rank:
                        `),m=A("select");for(let $=0;$<M.length;$+=1)M[$].c();_=P(),h(l,"class","bold underline svelte-1nj8mt0"),h(a,"class","svelte-1nj8mt0"),h(m,"class","answer-rank"),h(n,"class","answer svelte-1nj8mt0"),h(n,"id",v=`answer-${t[28]}-${t[23].qid}`),this.first=n},m($,R){O($,n,R),b(n,l),b(l,r),b(l,s),b(n,u),b(n,a),b(a,c),b(n,d),b(n,g),b(g,p),b(g,m);for(let k=0;k<M.length;k+=1)M[k]&&M[k].m(m,null);b(n,_),w||(y=[x(m,"change",S),x(n,"dragend",E)],w=!0)},p($,R){if(t=$,R&3&&o!==(o=t[1][t[28]]+"")&&J(r,o),R&259&&f!==(f=t[23][t[1][t[28]]]+"")&&J(c,f),R&1){C=Array(t[0]).fill();let k;for(k=0;k<C.length;k+=1){const F=Pr(t,C,k);M[k]?M[k].p(F,R):(M[k]=Tr(F),M[k].c(),M[k].m(m,null))}for(;k<M.length;k+=1)M[k].d(1);M.length=C.length}R&257&&v!==(v=`answer-${t[28]}-${t[23].qid}`)&&h(n,"id",v)},d($){$&&N(n),pe(M,$),w=!1,he(y)}}}function zr(e,t){let n,l,o,r,s,u,a=t[23].qid+"",f,c,d,g=t[23].question+"",p,m,_,v=[],w=new Map,y,C,M,S,E=Array(t[0]).fill();const $=R=>R[28];for(let R=0;R<E.length;R+=1){let k=Nr(t,E,R),F=$(k);w.set(F,v[R]=Or(F,k))}return{key:e,first:null,c(){n=A("div"),l=A("div"),o=A("div"),r=A("div"),s=A("h5"),u=q("Question: "),f=q(a),c=P(),d=A("p"),p=q(g),m=P(),_=A("div");for(let R=0;R<v.length;R+=1)v[R].c();y=P(),h(s,"class","bold svelte-1nj8mt0"),h(d,"class","svelte-1nj8mt0"),h(r,"class","question svelte-1nj8mt0"),h(_,"class","answers"),ye(_,"display","grid"),ye(_,"grid-template-columns",t[7]),ye(_,"gap",".25%"),ye(_,"width","100%"),ye(_,"margin","auto"),h(o,"class","message-content svelte-1nj8mt0"),h(l,"class","chat-message-center svelte-1nj8mt0"),h(n,"class","chat-message svelte-1nj8mt0"),this.first=n},m(R,k){O(R,n,k),b(n,l),b(l,o),b(o,r),b(r,s),b(s,u),b(s,f),b(r,c),b(r,d),b(d,p),b(o,m),b(o,_);for(let F=0;F<v.length;F+=1)v[F]&&v[F].m(_,null);t[18](_),b(n,y),M||(S=Vt(C=Sp.call(null,n,t[25]===t[8].length-1)),M=!0)},p(R,k){t=R,k&256&&a!==(a=t[23].qid+"")&&J(f,a),k&256&&g!==(g=t[23].question+"")&&J(p,g),k&3331&&(E=Array(t[0]).fill(),v=pt(v,k,$,1,t,E,w,_,en,Or,null,Nr)),k&128&&ye(_,"grid-template-columns",t[7]),C&&Ve(C.update)&&k&256&&C.update.call(null,t[25]===t[8].length-1)},d(R){R&&N(n);for(let k=0;k<v.length;k+=1)v[k].d();t[18](null),M=!1,S()}}}function kp(e){let t,n,l,o,r,s,u,a,f,c,d,g,p,m,_,v,w,y,C=[],M=new Map,S,E,$,R,k,F,T=(e[4]?e[6]:"Send")+"",I,V,D,G,U;function j(Q){e[15](Q)}let K={table:"comparator/db"};e[5]!==void 0&&(K.showModal=e[5]),t=new Io({props:K}),tt.push(()=>An(t,"showModal",j));let W=e[8];const Y=Q=>Q[25];for(let Q=0;Q<W.length;Q+=1){let Se=Ir(e,W,Q),Fe=Y(Se);M.set(Fe,C[Q]=zr(Fe,Se))}return{c(){le(t.$$.fragment),l=P(),o=A("div"),r=A("div"),s=A("h5"),s.textContent="Q & A Comparison Instructions",u=P(),a=A("br"),f=P(),c=A("p"),c.textContent=`Ask a question and rank the answers across the models. Drag each answer to
      rank it, in ascending order, from left-to-right. Optionally, select the
      rank for each via the corresponding dropdown.`,d=P(),g=A("br"),p=P(),m=A("button"),m.textContent="Download Data",_=P(),v=A("div"),w=A("section"),y=A("div");for(let Q=0;Q<C.length;Q+=1)C[Q].c();S=P(),E=A("div"),$=A("form"),R=A("input"),k=P(),F=A("button"),I=q(T),h(s,"class","underline bold svelte-1nj8mt0"),h(c,"class","svelte-1nj8mt0"),h(m,"class","svelte-1nj8mt0"),h(r,"class","instructions svelte-1nj8mt0"),h(y,"class","chat-log svelte-1nj8mt0"),h(w,"class","chatbox svelte-1nj8mt0"),h(R,"class","chat-input-textarea svelte-1nj8mt0"),h(R,"placeholder","Type Message Here"),h(F,"class",V="btnyousend "+(e[3]===""?"":"active")+" svelte-1nj8mt0"),h(F,"type","submit"),h($,"class","chat-input-form svelte-1nj8mt0"),h(E,"class","chat-input-holder svelte-1nj8mt0"),h(v,"class","ranked-chat svelte-1nj8mt0"),h(o,"class","ranked-feedback-container svelte-1nj8mt0")},m(Q,Se){ee(t,Q,Se),O(Q,l,Se),O(Q,o,Se),b(o,r),b(r,s),b(r,u),b(r,a),b(r,f),b(r,c),b(r,d),b(r,g),b(r,p),b(r,m),b(o,_),b(o,v),b(v,w),b(w,y);for(let Fe=0;Fe<C.length;Fe+=1)C[Fe]&&C[Fe].m(y,null);b(v,S),b(v,E),b(E,$),b($,R),Qe(R,e[3]),b($,k),b($,F),b(F,I),D=!0,G||(U=[x(m,"click",e[12]),x(R,"input",e[19]),x($,"submit",e[9])],G=!0)},p(Q,[Se]){const Fe={};!n&&Se&32&&(n=!0,Fe.showModal=Q[5],$n(()=>n=!1)),t.$set(Fe),Se&3463&&(W=Q[8],C=pt(C,Se,Y,1,Q,W,M,y,en,zr,null,Ir)),Se&8&&R.value!==Q[3]&&Qe(R,Q[3]),(!D||Se&80)&&T!==(T=(Q[4]?Q[6]:"Send")+"")&&J(I,T),(!D||Se&8&&V!==(V="btnyousend "+(Q[3]===""?"":"active")+" svelte-1nj8mt0"))&&h(F,"class",V)},i(Q){D||(z(t.$$.fragment,Q),D=!0)},o(Q){L(t.$$.fragment,Q),D=!1},d(Q){te(t,Q),Q&&N(l),Q&&N(o);for(let Se=0;Se<C.length;Se+=1)C[Se].d();G=!1,he(U)}}}function Sp(e){setTimeout(()=>{e.scrollIntoView({behavior:"smooth"})},0)}async function Vr(e){console.log("run update",e);const n=await fetch("/chat/comparator/db/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:e})});if(n.ok)console.log("ok",n);else{const l=await n.text();alert(l)}}function Cp(e,t,n){let l,o,r;ae(e,un,k=>n(8,r=k));let{numModels:s=1}=t,{models:u=[0]}=t,a="",f="",c=!1,d=!1;ct(async()=>{if(await new Promise(k=>setTimeout(k,200)),_){const k=new Z(_,{animation:150,onUpdate(F){k.toArray()}});k.toArray()}g()});async function g(){const F=await(await fetch("/chat/comparator/db/retrieve")).json();console.log(F);const T=F.data;let I={},V=new Set;for(const D of T)V.add(D.model),I[D.qid]||(I[D.qid]={},I[D.qid].qid=D.qid,I[D.qid].question=D.question),I[D.qid][D.model]=D.answer,console.log(I);n(1,u=Array.from(V)),n(0,s=u.length),console.log(Object.values(I)),De(un,r=[...Object.values(I)],r)}const p=async k=>{k.preventDefault(),a=f,n(3,f=""),n(4,c=!0);let F={question:a};for(let I of u)F[I]="Loading...";De(un,r=[...r,F],r),console.log("compare chat log",un);const T=await fetch(`/chat/comparator/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:a})});if(T.ok){const I=await T.json();n(1,u=Object.keys(I.answer)),n(0,s=u.length);for(let V of u)F[V]=I.answer[V];F.qid=I.qid,un.update(V=>(V[V.length-1]=F,V))}else{const I=await T.text();alert(I)}n(4,c=!1)};let m=0;setInterval(()=>{n(13,m=(m+1)%4)},200);let _,v;function w(k,F){const T=F,V=Mn(k.currentTarget.parentNode).selectAll("div.answer").nodes().map(j=>j.id);V.forEach((j,K)=>{Mn(`#${j}`).select(".answer-rank").property("value",K+1)});let D=[];for(let[j,K]of V.entries()){const W=parseInt(K.split("-")[1]),Y=u[W],Q={rank:j,model:Y};D.push(Q)}let G=r.filter(j=>j.qid===T),U=[];for(let j of D){const K={model:j.model,qid:parseInt(T),rank:parseInt(j.rank)+1,answer:G[0][j.model]};U.push(K)}Vr(U)}function y(k,F,T){const I=F,V=parseInt(k.target.value),D=u[T],G={qid:I,rank:parseInt(V),model:D};let U=[],K=r.filter(Y=>Y.qid===G.qid)[0][G.model];const W={model:G.model,qid:parseInt(G.qid),rank:parseInt(G.rank),answer:K};U.push(W),Vr(U)}function C(){n(5,d=!0)}function M(k){d=k,n(5,d)}const S=(k,F,T)=>y(T,k.qid,F),E=(k,F)=>w(F,k.qid);function $(k){tt[k?"unshift":"push"](()=>{_=k,n(2,_)})}function R(){f=this.value,n(3,f)}return e.$$set=k=>{"numModels"in k&&n(0,s=k.numModels),"models"in k&&n(1,u=k.models)},e.$$.update=()=>{e.$$.dirty&1&&n(7,l="1fr ".repeat(s).trim()),e.$$.dirty&8192&&n(6,o=".".repeat(m).padEnd(3)),e.$$.dirty&16388&&_&&(n(14,v=new Z(_,{animation:150,dataIdAttr:"id",onUpdate(k){v.toArray()}})),v.toArray())},[s,u,_,f,c,d,o,l,r,p,w,y,C,m,v,M,S,E,$,R]}class $p extends fe{constructor(t){super(),ce(this,t,Cp,kp,ue,{numModels:0,models:1})}}const on=Ie([{model:"llama",qid:1,rank:1,answer:"Llama's first unique answer."},{model:"gpt3.5",qid:1,rank:2,answer:"GPT-3.5's first unique answer."},{model:"gpt4",qid:1,rank:3,answer:"GPT-4's first unique answer."},{model:"claude",qid:1,rank:4,answer:"Claude's first unique answer."},{model:"llama",qid:2,rank:4,answer:"Llama's second unique answer."},{model:"gpt3.5",qid:2,rank:2,answer:"GPT-3.5's second unique answer."},{model:"gpt4",qid:2,rank:4,answer:"GPT-4's second unique answer."},{model:"claude",qid:2,rank:3,answer:"'s second unique answer."}]);function Lr(e,t,n){const l=e.slice();return l[20]=t[n],l}function qr(e,t,n){const l=e.slice();return l[20]=t[n],l[24]=n,l}function Hr(e,t,n){const l=e.slice();return l[25]=t[n],l}function Gr(e){let t,n,l,o,r=`Q.${e[25]}`,s,u;return{c(){t=B("g"),n=B("line"),o=B("text"),s=q(r),h(n,"class","axis-tick svelte-1nna9rx"),h(n,"x1","0"),h(n,"x2","0"),h(n,"y1",0),h(n,"y2",l=-e[5]+e[12].bottom+e[12].top),h(n,"stroke","black"),h(n,"stroke-dasharray","4"),h(o,"class","axis-text svelte-1nna9rx"),h(o,"y","15"),h(o,"text-anchor","middle"),h(t,"transform",u=`translate(${e[3](e[25])+0} ${e[5]-e[12].bottom})`),h(t,"class","svelte-1nna9rx")},m(a,f){O(a,t,f),b(t,n),b(t,o),b(o,s)},p(a,f){f&32&&l!==(l=-a[5]+a[12].bottom+a[12].top)&&h(n,"y2",l),f&256&&r!==(r=`Q.${a[25]}`)&&J(s,r),f&296&&u!==(u=`translate(${a[3](a[25])+0} ${a[5]-a[12].bottom})`)&&h(t,"transform",u)},d(a){a&&N(t)}}}function jr(e){let t=Number.isInteger(e[25]),n,l=t&&Gr(e);return{c(){l&&l.c(),n=ke()},m(o,r){l&&l.m(o,r),O(o,n,r)},p(o,r){r&256&&(t=Number.isInteger(o[25])),t?l?l.p(o,r):(l=Gr(o),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(o){l&&l.d(o),o&&N(n)}}}function Br(e,t){let n,l,o,r,s,u,a,f,c;function d(){return t[15](t[24])}function g(){return t[16](t[24])}return{key:e,first:null,c(){n=B("path"),r=B("path"),h(n,"class","model-path-outer svelte-1nna9rx"),h(n,"d",l=t[10](t[20])),h(n,"stroke","white"),h(n,"data-model",o=t[2][t[24]]),h(r,"class","model-path svelte-1nna9rx"),h(r,"d",s=t[10](t[20])),h(r,"role","img"),h(r,"stroke",u=t[11](t[2][t[24]])),h(r,"data-model",a=t[2][t[24]]),this.first=n},m(p,m){O(p,n,m),O(p,r,m),f||(c=[x(r,"mouseover",d),x(r,"focus",g),x(r,"mouseout",bl),x(r,"blur",bl)],f=!0)},p(p,m){t=p,m&1536&&l!==(l=t[10](t[20]))&&h(n,"d",l),m&516&&o!==(o=t[2][t[24]])&&h(n,"data-model",o),m&1536&&s!==(s=t[10](t[20]))&&h(r,"d",s),m&2564&&u!==(u=t[11](t[2][t[24]]))&&h(r,"stroke",u),m&516&&a!==(a=t[2][t[24]])&&h(r,"data-model",a)},d(p){p&&N(n),p&&N(r),f=!1,he(c)}}}function xr(e,t){let n,l,o,r,s,u,a=t[20].rank+"",f,c,d,g;return{key:e,first:null,c(){n=B("g"),l=B("circle"),u=B("text"),f=q(a),h(l,"r",o=t[20].answer.length/2*0+12),h(l,"fill",r=t[11](t[20].model)),h(l,"stroke","white"),h(l,"class","model-circle svelte-1nna9rx"),h(l,"role","img"),h(l,"data-model",s=t[20].model),h(u,"class","bump-text svelte-1nna9rx"),h(u,"text-anchor","middle"),h(u,"alignment-baseline","middle"),h(u,"color","white"),h(u,"fill","white"),h(n,"transform",c=`translate(${t[3](t[20].qid)}, ${t[4](t[20].rank)})`),h(n,"class","svelte-1nna9rx"),this.first=n},m(p,m){O(p,n,m),b(n,l),b(n,u),b(u,f),d||(g=[x(l,"mouseover",t[17]),x(l,"focus",t[18]),x(l,"mouseout",bl),x(l,"blur",bl)],d=!0)},p(p,m){t=p,m&128&&o!==(o=t[20].answer.length/2*0+12)&&h(l,"r",o),m&2176&&r!==(r=t[11](t[20].model))&&h(l,"fill",r),m&128&&s!==(s=t[20].model)&&h(l,"data-model",s),m&128&&a!==(a=t[20].rank+"")&&J(f,a),m&152&&c!==(c=`translate(${t[3](t[20].qid)}, ${t[4](t[20].rank)})`)&&h(n,"transform",c)},d(p){p&&N(n),d=!1,he(g)}}}function Ap(e){let t,n,l,o,r,s,u,a,f,c,d,g,p,m=[],_=new Map,v,w=[],y=new Map,C,M,S,E,$,R=e[8],k=[];for(let D=0;D<R.length;D+=1)k[D]=jr(Hr(e,R,D));let F=e[9];const T=D=>D[24];for(let D=0;D<F.length;D+=1){let G=qr(e,F,D),U=T(G);_.set(U,m[D]=Br(U,G))}let I=e[7];const V=D=>D[20].model+D[20].qid;for(let D=0;D<I.length;D+=1){let G=Lr(e,I,D),U=V(G);y.set(U,w[D]=xr(U,G))}return{c(){t=A("div"),n=B("svg"),l=B("line");for(let D=0;D<k.length;D+=1)k[D].c();u=B("text"),f=B("text"),g=B("text");for(let D=0;D<m.length;D+=1)m[D].c();v=ke();for(let D=0;D<w.length;D+=1)w[D].c();C=B("text"),M=q("Per-Question Ranks"),S=B("text"),E=q("Answer ranks over time, by model."),h(l,"class","axis-line svelte-1nna9rx"),h(l,"x1",e[12].left),h(l,"x2",o=e[6]-e[12].right),h(l,"y1",r=e[5]-e[12].bottom),h(l,"y2",s=e[5]-e[12].bottom),h(u,"class","chart-title svelte-1nna9rx"),h(u,"y",e[12].top/2),h(u,"x",a=(e[6]+e[12].left)/2),h(u,"text-anchor","middle"),h(f,"class","axis-label svelte-1nna9rx"),h(f,"y",c=e[5]+e[12].bottom+10),h(f,"x",d=(e[6]+e[12].left)/2),h(f,"text-anchor","middle"),h(g,"class","axis-label svelte-1nna9rx"),h(g,"y",e[12].left/2),h(g,"x",p=-(e[5]/2)),h(g,"text-anchor","middle"),h(g,"transform","rotate(-90)"),h(C,"class","chart-title svelte-1nna9rx"),h(C,"y",e[12].top/2),h(C,"x",e[12].left),h(C,"text-anchor","start"),h(S,"class","chart-subtitle svelte-1nna9rx"),h(S,"y",e[12].top/2+15),h(S,"x",e[12].left),h(S,"opacity",".6"),h(S,"text-anchor","start"),h(n,"width",e[1]),h(n,"height",e[0]),h(n,"class","svelte-1nna9rx"),h(t,"id","chart-holder"),h(t,"class","svelte-1nna9rx"),Re(()=>e[19].call(t))},m(D,G){O(D,t,G),b(t,n),b(n,l);for(let U=0;U<k.length;U+=1)k[U]&&k[U].m(n,null);b(n,u),b(n,f),b(n,g);for(let U=0;U<m.length;U+=1)m[U]&&m[U].m(n,null);b(n,v);for(let U=0;U<w.length;U+=1)w[U]&&w[U].m(n,null);b(n,C),b(C,M),b(n,S),b(S,E),$=ft(t,e[19].bind(t))},p(D,[G]){if(G&64&&o!==(o=D[6]-D[12].right)&&h(l,"x2",o),G&32&&r!==(r=D[5]-D[12].bottom)&&h(l,"y1",r),G&32&&s!==(s=D[5]-D[12].bottom)&&h(l,"y2",s),G&4392){R=D[8];let U;for(U=0;U<R.length;U+=1){const j=Hr(D,R,U);k[U]?k[U].p(j,G):(k[U]=jr(j),k[U].c(),k[U].m(n,u))}for(;U<k.length;U+=1)k[U].d(1);k.length=R.length}G&64&&a!==(a=(D[6]+D[12].left)/2)&&h(u,"x",a),G&32&&c!==(c=D[5]+D[12].bottom+10)&&h(f,"y",c),G&64&&d!==(d=(D[6]+D[12].left)/2)&&h(f,"x",d),G&32&&p!==(p=-(D[5]/2))&&h(g,"x",p),G&11780&&(F=D[9],m=pt(m,G,T,1,D,F,_,n,en,Br,v,qr)),G&16787608&&(I=D[7],w=pt(w,G,V,1,D,I,y,n,en,xr,C,Lr)),G&2&&h(n,"width",D[1]),G&1&&h(n,"height",D[0])},i:X,o:X,d(D){D&&N(t),pe(k,D);for(let G=0;G<m.length;G+=1)m[G].d();for(let G=0;G<w.length;G+=1)w[G].d();$()}}}function bl(){document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(e=>{e.style.opacity=1})}function Rp(e,t,n){let l,o,r,s,u,a,f,c,d,g,p;ae(e,on,$=>n(7,p=$));let m,_,v={top:35,bottom:15,left:10,right:0};function w($){document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(R=>{R.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${l[$]}"], .model-circle[data-model="${l[$]}"]`).forEach(R=>{R.style.opacity=1})}const y=$=>w($),C=$=>w($),M=()=>w(i),S=()=>w(i);function E(){_=this.offsetWidth,m=this.offsetHeight,n(1,_),n(0,m)}return e.$$.update=()=>{e.$$.dirty&128&&n(2,l=Array.from(new Set(p.map($=>$.model)))),e.$$.dirty&2&&n(6,o=_-v.left-v.right),e.$$.dirty&1&&n(5,r=m-v.top-v.bottom),e.$$.dirty&192&&n(3,s=Bi().domain(p.map($=>$.qid)).padding(.3).range([v.left,o-v.right])),e.$$.dirty&128&&n(14,u=p.map($=>$.rank).sort(($,R)=>$-R)),e.$$.dirty&16416&&n(4,a=Bi().domain(u).padding(1).range([v.top,r-v.bottom])),e.$$.dirty&128&&n(11,f=Mt().domain(p.map($=>$.model)).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F","red"])),e.$$.dirty&24&&n(10,c=$g().x($=>s($.qid)).y($=>a($.rank))),e.$$.dirty&132&&n(9,d=l.map($=>p.filter(R=>R.model===$))),e.$$.dirty&8&&n(8,g=s.domain().length>10?s.domain().filter(($,R)=>R%2===0):s.domain())},[m,_,l,s,a,r,o,p,g,d,c,f,v,w,u,y,C,M,S,E]}class Mp extends fe{constructor(t){super(),ce(this,t,Rp,Ap,ue,{})}}function Ur(e,t,n){const l=e.slice();return l[13]=t[n],l[15]=n,l}function Wr(e,t,n){const l=e.slice();return l[16]=t[n],l}function Xr(e,t,n){const l=e.slice();return l[16]=t[n],l}function Yr(e){let t,n,l=e[16]+"",o,r;return{c(){t=B("g"),n=B("text"),o=q(l),h(n,"class","axis-text svelte-1y9gffu"),h(n,"x","-5"),h(n,"y","0"),h(n,"text-anchor","end"),h(t,"transform",r=`translate(${e[9].left} ${e[8](e[16])+e[8].bandwidth()/2})`)},m(s,u){O(s,t,u),b(t,n),b(n,o)},p(s,u){u&4&&l!==(l=s[16]+"")&&J(o,l),u&260&&r!==(r=`translate(${s[9].left} ${s[8](s[16])+s[8].bandwidth()/2})`)&&h(t,"transform",r)},d(s){s&&N(t)}}}function Qr(e){let t,n,l=e[16]+"",o,r;return{c(){t=B("g"),n=B("text"),o=q(l),h(n,"class","axis-text svelte-1y9gffu"),h(n,"y","15"),h(n,"text-anchor","middle"),h(t,"transform",r=`translate(${e[7](e[16])}, ${e[4]-e[9].bottom})`)},m(s,u){O(s,t,u),b(t,n),b(n,o)},p(s,u){u&128&&l!==(l=s[16]+"")&&J(o,l),u&144&&r!==(r=`translate(${s[7](s[16])}, ${s[4]-s[9].bottom})`)&&h(t,"transform",r)},d(s){s&&N(t)}}}function Kr(e){let t,n=e[16]%2==0&&Qr(e);return{c(){n&&n.c(),t=ke()},m(l,o){n&&n.m(l,o),O(l,t,o)},p(l,o){l[16]%2==0?n?n.p(l,o):(n=Qr(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(l){n&&n.d(l),l&&N(t)}}}function Jr(e){let t,n,l,o,r,s,u,a=e[13].avgRank.toFixed(2)+"",f,c,d;return{c(){t=B("rect"),u=B("text"),f=q(a),h(t,"y",n=e[8](e[13].model)),h(t,"x",e[9].left),h(t,"width",l=e[7](e[13].avgRank)-e[9].left),h(t,"height",o=e[8].bandwidth()),h(t,"fill",r=e[6](e[13].model)),h(t,"class","model-path"),h(t,"data-model",s=e[5][e[15]]),h(u,"class","label-text svelte-1y9gffu"),h(u,"y",c=e[8](e[13].model)+e[8].bandwidth()/2),h(u,"x",d=e[7](e[13].avgRank)+5),h(u,"text-anchor","start"),h(u,"dominant-baseline","middle")},m(g,p){O(g,t,p),O(g,u,p),b(u,f)},p(g,p){p&260&&n!==(n=g[8](g[13].model))&&h(t,"y",n),p&132&&l!==(l=g[7](g[13].avgRank)-g[9].left)&&h(t,"width",l),p&256&&o!==(o=g[8].bandwidth())&&h(t,"height",o),p&68&&r!==(r=g[6](g[13].model))&&h(t,"fill",r),p&32&&s!==(s=g[5][g[15]])&&h(t,"data-model",s),p&4&&a!==(a=g[13].avgRank.toFixed(2)+"")&&J(f,a),p&260&&c!==(c=g[8](g[13].model)+g[8].bandwidth()/2)&&h(u,"y",c),p&132&&d!==(d=g[7](g[13].avgRank)+5)&&h(u,"x",d)},d(g){g&&N(t),g&&N(u)}}}function Ep(e){let t,n,l,o,r,s,u,a,f,c,d,g,p=e[2].map(Zr),m=[];for(let C=0;C<p.length;C+=1)m[C]=Yr(Xr(e,p,C));let _=e[7].ticks(),v=[];for(let C=0;C<_.length;C+=1)v[C]=Kr(Wr(e,_,C));let w=e[2],y=[];for(let C=0;C<w.length;C+=1)y[C]=Jr(Ur(e,w,C));return{c(){t=A("div"),n=B("svg");for(let C=0;C<m.length;C+=1)m[C].c();l=ke();for(let C=0;C<v.length;C+=1)v[C].c();o=ke();for(let C=0;C<y.length;C+=1)y[C].c();r=B("line"),f=B("text"),c=q("Average Rank"),d=B("text"),h(r,"class","axis-line svelte-1y9gffu"),h(r,"x1",e[9].left),h(r,"x2",s=e[3]-e[9].right),h(r,"y1",u=e[4]-e[9].bottom),h(r,"y2",a=e[4]-e[9].bottom),h(f,"class","chart-title"),h(f,"y",e[9].top/2),h(f,"x",e[9].left),h(f,"text-anchor","start"),h(d,"class","chart-subtitle"),h(d,"y",e[9].top/2+15),h(d,"x",e[9].left),h(d,"opacity",".6"),h(d,"text-anchor","start"),h(n,"width",e[1]),h(n,"height",e[0]),h(t,"id","bar-chart-holder"),h(t,"class","svelte-1y9gffu"),Re(()=>e[12].call(t))},m(C,M){O(C,t,M),b(t,n);for(let S=0;S<m.length;S+=1)m[S]&&m[S].m(n,null);b(n,l);for(let S=0;S<v.length;S+=1)v[S]&&v[S].m(n,null);b(n,o);for(let S=0;S<y.length;S+=1)y[S]&&y[S].m(n,null);b(n,r),b(n,f),b(f,c),b(n,d),g=ft(t,e[12].bind(t))},p(C,[M]){if(M&772){p=C[2].map(Zr);let S;for(S=0;S<p.length;S+=1){const E=Xr(C,p,S);m[S]?m[S].p(E,M):(m[S]=Yr(E),m[S].c(),m[S].m(n,l))}for(;S<m.length;S+=1)m[S].d(1);m.length=p.length}if(M&656){_=C[7].ticks();let S;for(S=0;S<_.length;S+=1){const E=Wr(C,_,S);v[S]?v[S].p(E,M):(v[S]=Kr(E),v[S].c(),v[S].m(n,o))}for(;S<v.length;S+=1)v[S].d(1);v.length=_.length}if(M&996){w=C[2];let S;for(S=0;S<w.length;S+=1){const E=Ur(C,w,S);y[S]?y[S].p(E,M):(y[S]=Jr(E),y[S].c(),y[S].m(n,r))}for(;S<y.length;S+=1)y[S].d(1);y.length=w.length}M&8&&s!==(s=C[3]-C[9].right)&&h(r,"x2",s),M&16&&u!==(u=C[4]-C[9].bottom)&&h(r,"y1",u),M&16&&a!==(a=C[4]-C[9].bottom)&&h(r,"y2",a),M&2&&h(n,"width",C[1]),M&1&&h(n,"height",C[0])},i:X,o:X,d(C){C&&N(t),pe(m,C),pe(v,C),pe(y,C),g()}}}const Zr=e=>e.model;function Fp(e,t,n){let l,o,r,s,u,a,f,c,d;ae(e,on,v=>n(11,d=v));let g=300,p=500,m={top:50,bottom:0,left:100,right:0};function _(){p=this.offsetWidth,g=this.offsetHeight,n(1,p),n(0,g)}return e.$$.update=()=>{e.$$.dirty&2048&&n(10,l=d.reduce((v,w)=>(v[w.model]?(v[w.model].sum+=w.rank,v[w.model].count++):v[w.model]={sum:w.rank,count:1},v),{})),e.$$.dirty&1024&&n(2,o=Object.keys(l).map(v=>({model:v,avgRank:l[v].sum/l[v].count}))),e.$$.dirty&2&&n(3,r=p-m.left-m.right),e.$$.dirty&1&&n(4,s=g-m.top-m.bottom),e.$$.dirty&20&&n(8,u=Lt().rangeRound([m.top,s-m.bottom]).padding(.05).domain(o.map(v=>v.model))),e.$$.dirty&12&&n(7,a=Xe().rangeRound([m.left,r-m.right]).domain([0,mt(o,v=>v.avgRank)])),e.$$.dirty&4&&n(6,f=Mt().domain(o.map(v=>v.model)).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F"])),e.$$.dirty&2048&&n(5,c=Array.from(new Set(d.map(v=>v.model))))},[g,p,o,r,s,c,f,a,u,m,l,d,_]}class Dp extends fe{constructor(t){super(),ce(this,t,Fp,Ep,ue,{})}}function es(e,t,n){const l=e.slice();return l[20]=t[n],l[22]=n,l}function ts(e,t,n){const l=e.slice();return l[23]=t[n],l[25]=n,l}function ns(e,t,n){const l=e.slice();return l[23]=t[n],l}function ls(e){let t,n=e[23].key+"",l,o,r;function s(){return e[10](e[23])}return{c(){t=A("th"),l=q(n),h(t,"class","svelte-owgjbp")},m(u,a){O(u,t,a),b(t,l),o||(r=x(t,"click",s),o=!0)},p(u,a){e=u,a&64&&n!==(n=e[23].key+"")&&J(l,n)},d(u){u&&N(t),o=!1,r()}}}function os(e,t){let n,l=(t[20][t[23].key].length>rs&&t[4]!==`${t[22]}-${t[25]}`?`${t[20][t[23].key].substring(0,40)}...`:t[20][t[23].key])+"",o,r,s,u;function a(){return t[11](t[22],t[25])}return{key:e,first:null,c(){n=A("td"),o=q(l),h(n,"class",r="cell-type-"+t[23].type+" svelte-owgjbp"),ye(n,"background",t[23].key==="change"?t[7](t[20][t[23].key]):"none"),Oe(n,"active",t[4]===`${t[22]}-${t[25]}`),this.first=n},m(f,c){O(f,n,c),b(n,o),s||(u=x(n,"click",a),s=!0)},p(f,c){t=f,c&112&&l!==(l=(t[20][t[23].key].length>rs&&t[4]!==`${t[22]}-${t[25]}`?`${t[20][t[23].key].substring(0,40)}...`:t[20][t[23].key])+"")&&J(o,l),c&64&&r!==(r="cell-type-"+t[23].type+" svelte-owgjbp")&&h(n,"class",r),c&96&&ye(n,"background",t[23].key==="change"?t[7](t[20][t[23].key]):"none"),c&80&&Oe(n,"active",t[4]===`${t[22]}-${t[25]}`)},d(f){f&&N(n),s=!1,u()}}}function is(e){let t,n=[],l=new Map,o,r=e[6];const s=u=>u[23].key;for(let u=0;u<r.length;u+=1){let a=ts(e,r,u),f=s(a);l.set(f,n[u]=os(f,a))}return{c(){t=A("tr");for(let u=0;u<n.length;u+=1)n[u].c();o=P(),h(t,"class","svelte-owgjbp")},m(u,a){O(u,t,a);for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(t,null);b(t,o)},p(u,a){a&240&&(r=u[6],n=pt(n,a,s,1,u,r,l,t,en,os,o,ts))},d(u){u&&N(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Ip(e){let t,n,l,o,r,s,u,a,f,c=e[6],d=[];for(let m=0;m<c.length;m+=1)d[m]=ls(ns(e,c,m));let g=e[5],p=[];for(let m=0;m<g.length;m+=1)p[m]=is(es(e,g,m));return{c(){t=A("div"),n=A("div"),l=A("table"),o=A("thead");for(let m=0;m<d.length;m+=1)d[m].c();r=P(),s=A("tbody");for(let m=0;m<p.length;m+=1)p[m].c();a=P(),f=A("br"),h(o,"class","svelte-owgjbp"),h(s,"class","svelte-owgjbp"),h(l,"class",u="pretty-table "+e[0].style+" svelte-owgjbp"),h(n,"class","svelte-owgjbp"),h(f,"class","svelte-owgjbp"),h(t,"class","table svelte-owgjbp")},m(m,_){O(m,t,_),b(t,n),b(n,l),b(l,o);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(o,null);b(l,r),b(l,s);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(s,null);b(t,a),b(t,f)},p(m,[_]){if(_&78){c=m[6];let v;for(v=0;v<c.length;v+=1){const w=ns(m,c,v);d[v]?d[v].p(w,_):(d[v]=ls(w),d[v].c(),d[v].m(o,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=c.length}if(_&240){g=m[5];let v;for(v=0;v<g.length;v+=1){const w=es(m,g,v);p[v]?p[v].p(w,_):(p[v]=is(w),p[v].c(),p[v].m(s,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=g.length}_&1&&u!==(u="pretty-table "+m[0].style+" svelte-owgjbp")&&h(l,"class",u)},i:X,o:X,d(m){m&&N(t),pe(d,m),pe(p,m)}}}let rs=25,Np=0;function Pp(e,t,n){let l,o,r,s;ae(e,on,M=>n(9,s=M));let u={};const a=vt(".2f");function f(M){let S=M.reduce(($,R)=>($[R.model]||($[R.model]=[]),$[R.model].push(R.rank),$),{});return Object.entries(S).map(([$,R])=>{let k=R.reduce((T,I)=>(T[I]=(T[I]||0)+1,T),{}),F=Object.entries(k).reduce((T,I)=>I[1]>T[1]?I:T)[0];return{model:$,overall_rank:Number(F),average_rank:a(Ch(R)),standard_deviation_rank:a(uh(R))}})}u={...{columns:{},style:"normal",paged:25},...u};const d=Xe().domain([-1,0,1]).range(["#FF5470","#f8f8f8","#00ebc7"]);let{sortable:g,index:p,paged:m}=u,_,v=!0;if(g&&p)throw new Error("A table can either be ranked or sortable, but not both");p=1,g=1;let w=null;const y=M=>{g&&(_===M.key&&n(2,v=!v),n(1,_=M.key))},C=(M,S)=>{n(4,w=w===`${M}-${S}`?null:`${M}-${S}`)};return e.$$.update=()=>{if(e.$$.dirty&512,e.$$.dirty&512&&n(8,l=f(s)),e.$$.dirty&774){_&&n(8,l=l.slice().sort((S,E)=>{let $=S[_],R=E[_];if($==R)return JSON.stringify(S).localeCompare(JSON.stringify(E));let k=$>R?1:$<R?-1:0;return v&&(k=-k),k}));let M=Np*m;n(5,r=l.slice(M,M+(m||l.length))),m&&Math.ceil(s.length/m)}e.$$.dirty&257&&n(6,o=Object.keys(l[0]).map(M=>{const S=u.columns[M]||{};return{key:M,type:S.type||typeof l[0][M],options:S}}))},n(5,r=[]),[u,_,v,g,w,r,o,d,l,s,y,C]}let Tp=class extends fe{constructor(t){super(),ce(this,t,Pp,Ip,ue,{})}};function ss(e,t,n){const l=e.slice();return l[19]=t[n],l}function as(e,t,n){const l=e.slice();return l[22]=t[n],l}function us(e,t,n){const l=e.slice();return l[25]=t[n],l[27]=n,l}function fs(e){let t,n=e[25]+"",l,o,r,s=e[25]+"",u,a;return{c(){t=B("text"),l=q(n),r=B("text"),u=q(s),h(t,"class","axis-text svelte-t6wv8i"),h(t,"x",o=e[7].left+e[5](e[25])+e[5].bandwidth()/2),h(t,"y",e[7].top-10),h(t,"text-anchor","middle"),h(r,"class","axis-text svelte-t6wv8i"),h(r,"x",e[7].left-10),h(r,"y",a=e[7].top+e[4](e[25])+e[4].bandwidth()/2),h(r,"text-anchor","end"),h(r,"dominant-baseline","middle")},m(f,c){O(f,t,c),b(t,l),O(f,r,c),b(r,u)},p(f,c){c&8&&n!==(n=f[25]+"")&&J(l,n),c&40&&o!==(o=f[7].left+f[5](f[25])+f[5].bandwidth()/2)&&h(t,"x",o),c&8&&s!==(s=f[25]+"")&&J(u,s),c&24&&a!==(a=f[7].top+f[4](f[25])+f[4].bandwidth()/2)&&h(r,"y",a)},d(f){f&&N(t),f&&N(r)}}}function cs(e){let t,n,l,o,r,s,u,a,f=e[6](e[2][e[19]][e[22]])+"",c,d,g,p;return{c(){t=B("rect"),a=B("text"),c=q(f),h(t,"x",n=e[7].left+e[5](e[22])),h(t,"y",l=e[7].top+e[4](e[19])),h(t,"width",o=e[5].bandwidth()),h(t,"height",r=e[4].bandwidth()),h(t,"fill",s=e[8](e[19],e[22])),h(t,"rx","4"),h(t,"ry","4"),h(t,"class","model-path"),h(t,"data-model",u=e[19]),h(a,"x",d=e[7].left+e[5](e[22])+e[5].bandwidth()/2),h(a,"y",g=e[7].top+e[4](e[19])+e[4].bandwidth()/2),h(a,"text-anchor","middle"),h(a,"dominant-baseline","middle"),h(a,"class","model-path"),h(a,"data-model",p=e[19])},m(m,_){O(m,t,_),O(m,a,_),b(a,c)},p(m,_){_&40&&n!==(n=m[7].left+m[5](m[22]))&&h(t,"x",n),_&24&&l!==(l=m[7].top+m[4](m[19]))&&h(t,"y",l),_&32&&o!==(o=m[5].bandwidth())&&h(t,"width",o),_&16&&r!==(r=m[4].bandwidth())&&h(t,"height",r),_&8&&s!==(s=m[8](m[19],m[22]))&&h(t,"fill",s),_&8&&u!==(u=m[19])&&h(t,"data-model",u),_&12&&f!==(f=m[6](m[2][m[19]][m[22]])+"")&&J(c,f),_&40&&d!==(d=m[7].left+m[5](m[22])+m[5].bandwidth()/2)&&h(a,"x",d),_&24&&g!==(g=m[7].top+m[4](m[19])+m[4].bandwidth()/2)&&h(a,"y",g),_&8&&p!==(p=m[19])&&h(a,"data-model",p)},d(m){m&&N(t),m&&N(a)}}}function ds(e){let t,n=e[3],l=[];for(let o=0;o<n.length;o+=1)l[o]=cs(as(e,n,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();t=ke()},m(o,r){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(o,r);O(o,t,r)},p(o,r){if(r&508){n=o[3];let s;for(s=0;s<n.length;s+=1){const u=as(o,n,s);l[s]?l[s].p(u,r):(l[s]=cs(u),l[s].c(),l[s].m(t.parentNode,t))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(o){pe(l,o),o&&N(t)}}}function Op(e){let t,n,l,o,r,s,u,a=e[3],f=[];for(let g=0;g<a.length;g+=1)f[g]=fs(us(e,a,g));let c=e[3],d=[];for(let g=0;g<c.length;g+=1)d[g]=ds(ss(e,c,g));return{c(){t=A("div"),n=B("svg");for(let g=0;g<f.length;g+=1)f[g].c();l=ke();for(let g=0;g<d.length;g+=1)d[g].c();o=B("text"),r=q("Relative Performance"),s=B("text"),h(o,"class","chart-title"),h(o,"y",e[7].top/2),h(o,"x",e[7].left),h(o,"text-anchor","start"),h(s,"class","chart-subtitle svelte-t6wv8i"),h(s,"y",e[7].top/2+15),h(s,"x",e[7].left),h(s,"opacity",".6"),h(s,"text-anchor","start"),h(n,"width",e[1]),h(n,"height",e[0]),h(t,"id","heatmap-holder"),h(t,"class","svelte-t6wv8i"),Re(()=>e[16].call(t))},m(g,p){O(g,t,p),b(t,n);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(n,null);b(n,l);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(n,null);b(n,o),b(o,r),b(n,s),u=ft(t,e[16].bind(t))},p(g,[p]){if(p&184){a=g[3];let m;for(m=0;m<a.length;m+=1){const _=us(g,a,m);f[m]?f[m].p(_,p):(f[m]=fs(_),f[m].c(),f[m].m(n,l))}for(;m<f.length;m+=1)f[m].d(1);f.length=a.length}if(p&508){c=g[3];let m;for(m=0;m<c.length;m+=1){const _=ss(g,c,m);d[m]?d[m].p(_,p):(d[m]=ds(_),d[m].c(),d[m].m(n,o))}for(;m<d.length;m+=1)d[m].d(1);d.length=c.length}p&2&&h(n,"width",g[1]),p&1&&h(n,"height",g[0])},i:X,o:X,d(g){g&&N(t),pe(f,g),pe(d,g),u()}}}function zp(e,t,n){let l,o,r,s,u,a,f,c,d,g,p;ae(e,on,S=>n(15,p=S));const m=vt(".1f");function _(S){let E=S.reduce((k,F)=>(k[F.qid]||(k[F.qid]=[]),k[F.qid].push(F),k),{}),$=Array.from(new Set(S.map(k=>k.model))),R=$.reduce((k,F)=>(k[F]=$.reduce((T,I)=>(T[I]={sum:0,count:0},T),{}),k),{});for(let k in E){let F=E[k];for(let T of $)for(let I of $){let V=F.find(G=>G.model===T),D=F.find(G=>G.model===I);V&&D&&(R[T][I].sum+=D.rank-V.rank,R[T][I].count++)}}for(let k in R)for(let F in R[k])R[k][F].count>0?R[k][F]=R[k][F].sum/R[k][F].count:R[k][F]=0;return R}let v=500,w=500,y={top:50,bottom:0,left:65,right:25};function C(S,E){let $=l[S][E];return $===0?"white":$>=0?g(S):g(E)}function M(){w=this.offsetWidth,v=this.offsetHeight,n(1,w),n(0,v)}return e.$$.update=()=>{e.$$.dirty&32768&&n(2,l=_(p)),e.$$.dirty&32768&&n(3,o=Array.from(new Set(p.map(S=>S.model)))),e.$$.dirty&2&&n(14,r=w-y.left-y.right),e.$$.dirty&1&&n(13,s=v-y.top-y.bottom),e.$$.dirty&16392&&n(5,u=Lt().range([0,r]).domain(o).padding(.05)),e.$$.dirty&8200&&n(4,a=Lt().range([0,s]).domain(o).padding(.05)),e.$$.dirty&4&&n(12,f=Object.values(l).flatMap(S=>Object.values(S))),e.$$.dirty&4096&&n(11,c=ro(f)),e.$$.dirty&4096&&n(10,d=mt(f)),e.$$.dirty&8&&n(9,g=Mt().domain(o).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F"])),e.$$.dirty&3592&&o.reduce((S,E)=>(S[E]=Ga().domain([c,d]).interpolator(ao("white",g(E))),S),{})},[v,w,l,o,a,u,m,y,C,g,d,c,f,s,r,p,M]}class Vp extends fe{constructor(t){super(),ce(this,t,zp,Op,ue,{})}}function hs(e,t,n){const l=e.slice();return l[7]=t[n],l[9]=n,l}function Lp(e){let t;return{c(){t=A("div"),t.innerHTML="<h5>To view the comparison dashboard, you must first rank some comparisons!</h5>",h(t,"class","holder svelte-7imt18")},m(n,l){O(n,t,l)},p:X,i:X,o:X,d(n){n&&N(t)}}}function qp(e){let t,n,l,o,r,s,u,a,f,c,d,g,p,m,_,v,w,y,C,M,S,E=e[1],$=[];for(let R=0;R<E.length;R+=1)$[R]=gs(hs(e,E,R));return a=new Mp({}),d=new Tp({}),w=new Dp({}),M=new Vp({}),{c(){t=A("div"),n=A("div"),l=A("div"),o=A("h4"),o.textContent="Model Comparisons",r=P();for(let R=0;R<$.length;R+=1)$[R].c();s=P(),u=A("div"),le(a.$$.fragment),f=P(),c=A("div"),le(d.$$.fragment),g=P(),p=A("div"),m=A("div"),_=P(),v=A("div"),le(w.$$.fragment),y=P(),C=A("div"),le(M.$$.fragment),h(o,"class","svelte-7imt18"),h(l,"class","chart-captions svelte-7imt18"),h(u,"class","eval-main"),h(c,"class","eval-table svelte-7imt18"),h(n,"class","left-charts svelte-7imt18"),h(m,"class","right-chart-1"),h(v,"class","right-chart-2"),h(C,"class","right-chart-3"),h(p,"class","right-charts svelte-7imt18"),h(t,"class","eval-container svelte-7imt18")},m(R,k){O(R,t,k),b(t,n),b(n,l),b(l,o),b(l,r);for(let F=0;F<$.length;F+=1)$[F]&&$[F].m(l,null);b(n,s),b(n,u),ee(a,u,null),b(n,f),b(n,c),ee(d,c,null),b(t,g),b(t,p),b(p,m),b(p,_),b(p,v),ee(w,v,null),b(p,y),b(p,C),ee(M,C,null),S=!0},p(R,k){if(k&14){E=R[1];let F;for(F=0;F<E.length;F+=1){const T=hs(R,E,F);$[F]?$[F].p(T,k):($[F]=gs(T),$[F].c(),$[F].m(l,null))}for(;F<$.length;F+=1)$[F].d(1);$.length=E.length}},i(R){S||(z(a.$$.fragment,R),z(d.$$.fragment,R),z(w.$$.fragment,R),z(M.$$.fragment,R),S=!0)},o(R){L(a.$$.fragment,R),L(d.$$.fragment,R),L(w.$$.fragment,R),L(M.$$.fragment,R),S=!1},d(R){R&&N(t),pe($,R),te(a),te(d),te(w),te(M)}}}function gs(e){let t,n=e[7]+"",l,o,r,s;function u(){return e[4](e[9])}function a(){return e[5](e[9])}return{c(){t=A("button"),l=q(n),h(t,"data-model",o=e[7]),h(t,"class","model-path svelte-7imt18"),ye(t,"color","white"),ye(t,"background",e[2](e[7]))},m(f,c){O(f,t,c),b(t,l),r||(s=[x(t,"mouseover",u),x(t,"focus",a),x(t,"mouseout",ps),x(t,"blur",ps)],r=!0)},p(f,c){e=f,c&2&&n!==(n=e[7]+"")&&J(l,n),c&2&&o!==(o=e[7])&&h(t,"data-model",o),c&6&&ye(t,"background",e[2](e[7]))},d(f){f&&N(t),r=!1,he(s)}}}function Hp(e){let t,n,l,o;const r=[qp,Lp],s=[];function u(a,f){return a[0].length>0?0:1}return n=u(e),l=s[n]=r[n](e),{c(){t=A("div"),l.c(),h(t,"class","main-container svelte-7imt18")},m(a,f){O(a,t,f),s[n].m(t,null),o=!0},p(a,[f]){let c=n;n=u(a),n===c?s[n].p(a,f):(_e(),L(s[c],1,1,()=>{s[c]=null}),ve(),l=s[n],l?l.p(a,f):(l=s[n]=r[n](a),l.c()),z(l,1),l.m(t,null))},i(a){o||(z(l),o=!0)},o(a){L(l),o=!1},d(a){a&&N(t),s[n].d()}}}function ps(){document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(e=>{e.style.opacity=1})}function Gp(e,t,n){let l,o,r;ae(e,on,c=>n(0,r=c));async function s(){const d=await(await fetch("/chat/comparator/db/retrieve")).json();console.log("uploooo",d);const p=d.data.map(m=>({model:m.model,answer:m.answer,qid:parseInt(m.qid),rank:parseInt(m.rank)}));De(on,r=[...p],r)}ct(()=>{s()});function u(c){document.querySelectorAll(".model-path, .model-path-outer, .model-circle").forEach(d=>{d.style.opacity=.12}),document.querySelectorAll(`.model-path[data-model="${l[c]}"], .model-circle[data-model="${l[c]}"]`).forEach(d=>{d.style.opacity=1})}const a=c=>u(c),f=c=>u(c);return e.$$.update=()=>{e.$$.dirty&1&&n(1,l=Array.from(new Set(r.map(c=>c.model)))),e.$$.dirty&1&&n(2,o=Mt().domain(r.map(c=>c.model)).range(["#FF5470","#1B2D45","#00EBC7","#FDE24F","red"]))},[r,l,o,u,a,f]}class jp extends fe{constructor(t){super(),ce(this,t,Gp,Hp,ue,{})}}function Bp(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return hu(this.cover(t,n),t,n,e)}function hu(e,t,n,l){if(isNaN(t)||isNaN(n))return e;var o,r=e._root,s={data:l},u=e._x0,a=e._y0,f=e._x1,c=e._y1,d,g,p,m,_,v,w,y;if(!r)return e._root=s,e;for(;r.length;)if((_=t>=(d=(u+f)/2))?u=d:f=d,(v=n>=(g=(a+c)/2))?a=g:c=g,o=r,!(r=r[w=v<<1|_]))return o[w]=s,e;if(p=+e._x.call(null,r.data),m=+e._y.call(null,r.data),t===p&&n===m)return s.next=r,o?o[w]=s:e._root=s,e;do o=o?o[w]=new Array(4):e._root=new Array(4),(_=t>=(d=(u+f)/2))?u=d:f=d,(v=n>=(g=(a+c)/2))?a=g:c=g;while((w=v<<1|_)===(y=(m>=g)<<1|p>=d));return o[y]=r,o[w]=s,e}function xp(e){var t,n,l=e.length,o,r,s=new Array(l),u=new Array(l),a=1/0,f=1/0,c=-1/0,d=-1/0;for(n=0;n<l;++n)isNaN(o=+this._x.call(null,t=e[n]))||isNaN(r=+this._y.call(null,t))||(s[n]=o,u[n]=r,o<a&&(a=o),o>c&&(c=o),r<f&&(f=r),r>d&&(d=r));if(a>c||f>d)return this;for(this.cover(a,f).cover(c,d),n=0;n<l;++n)hu(this,s[n],u[n],e[n]);return this}function Up(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,l=this._y0,o=this._x1,r=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,r=(l=Math.floor(t))+1;else{for(var s=o-n||1,u=this._root,a,f;n>e||e>=o||l>t||t>=r;)switch(f=(t<l)<<1|e<n,a=new Array(4),a[f]=u,u=a,s*=2,f){case 0:o=n+s,r=l+s;break;case 1:n=o-s,r=l+s;break;case 2:o=n+s,l=r-s;break;case 3:n=o-s,l=r-s;break}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=l,this._x1=o,this._y1=r,this}function Wp(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Xp(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ze(e,t,n,l,o){this.node=e,this.x0=t,this.y0=n,this.x1=l,this.y1=o}function Yp(e,t,n){var l,o=this._x0,r=this._y0,s,u,a,f,c=this._x1,d=this._y1,g=[],p=this._root,m,_;for(p&&g.push(new ze(p,o,r,c,d)),n==null?n=1/0:(o=e-n,r=t-n,c=e+n,d=t+n,n*=n);m=g.pop();)if(!(!(p=m.node)||(s=m.x0)>c||(u=m.y0)>d||(a=m.x1)<o||(f=m.y1)<r))if(p.length){var v=(s+a)/2,w=(u+f)/2;g.push(new ze(p[3],v,w,a,f),new ze(p[2],s,w,v,f),new ze(p[1],v,u,a,w),new ze(p[0],s,u,v,w)),(_=(t>=w)<<1|e>=v)&&(m=g[g.length-1],g[g.length-1]=g[g.length-1-_],g[g.length-1-_]=m)}else{var y=e-+this._x.call(null,p.data),C=t-+this._y.call(null,p.data),M=y*y+C*C;if(M<n){var S=Math.sqrt(n=M);o=e-S,r=t-S,c=e+S,d=t+S,l=p.data}}return l}function Qp(e){if(isNaN(c=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,l,o,r,s=this._x0,u=this._y0,a=this._x1,f=this._y1,c,d,g,p,m,_,v,w;if(!n)return this;if(n.length)for(;;){if((m=c>=(g=(s+a)/2))?s=g:a=g,(_=d>=(p=(u+f)/2))?u=p:f=p,t=n,!(n=n[v=_<<1|m]))return this;if(!n.length)break;(t[v+1&3]||t[v+2&3]||t[v+3&3])&&(l=t,w=v)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(r=n.next)&&delete n.next,o?(r?o.next=r:delete o.next,this):t?(r?t[v]=r:delete t[v],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(l?l[w]=n:this._root=n),this):(this._root=r,this)}function Kp(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Jp(){return this._root}function Zp(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function em(e){var t=[],n,l=this._root,o,r,s,u,a;for(l&&t.push(new ze(l,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(l=n.node,r=n.x0,s=n.y0,u=n.x1,a=n.y1)&&l.length){var f=(r+u)/2,c=(s+a)/2;(o=l[3])&&t.push(new ze(o,f,c,u,a)),(o=l[2])&&t.push(new ze(o,r,c,f,a)),(o=l[1])&&t.push(new ze(o,f,s,u,c)),(o=l[0])&&t.push(new ze(o,r,s,f,c))}return this}function tm(e){var t=[],n=[],l;for(this._root&&t.push(new ze(this._root,this._x0,this._y0,this._x1,this._y1));l=t.pop();){var o=l.node;if(o.length){var r,s=l.x0,u=l.y0,a=l.x1,f=l.y1,c=(s+a)/2,d=(u+f)/2;(r=o[0])&&t.push(new ze(r,s,u,c,d)),(r=o[1])&&t.push(new ze(r,c,u,a,d)),(r=o[2])&&t.push(new ze(r,s,d,c,f)),(r=o[3])&&t.push(new ze(r,c,d,a,f))}n.push(l)}for(;l=n.pop();)e(l.node,l.x0,l.y0,l.x1,l.y1);return this}function nm(e){return e[0]}function lm(e){return arguments.length?(this._x=e,this):this._x}function om(e){return e[1]}function im(e){return arguments.length?(this._y=e,this):this._y}function gu(e,t,n){var l=new Ho(t??nm,n??om,NaN,NaN,NaN,NaN);return e==null?l:l.addAll(e)}function Ho(e,t,n,l,o,r){this._x=e,this._y=t,this._x0=n,this._y0=l,this._x1=o,this._y1=r,this._root=void 0}function ms(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Le=gu.prototype=Ho.prototype;Le.copy=function(){var e=new Ho(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,l;if(!t)return e;if(!t.length)return e._root=ms(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var o=0;o<4;++o)(l=t.source[o])&&(l.length?n.push({source:l,target:t.target[o]=new Array(4)}):t.target[o]=ms(l));return e};Le.add=Bp;Le.addAll=xp;Le.cover=Up;Le.data=Wp;Le.extent=Xp;Le.find=Yp;Le.remove=Qp;Le.removeAll=Kp;Le.root=Jp;Le.size=Zp;Le.visit=em;Le.visitAfter=tm;Le.x=lm;Le.y=im;function it(e){return function(){return e}}function _s(e){return(e()-.5)*1e-6}function rm(e){return e.x+e.vx}function sm(e){return e.y+e.vy}function am(e){var t,n,l,o=1,r=1;typeof e!="function"&&(e=it(e==null?1:+e));function s(){for(var f,c=t.length,d,g,p,m,_,v,w=0;w<r;++w)for(d=gu(t,rm,sm).visitAfter(u),f=0;f<c;++f)g=t[f],_=n[g.index],v=_*_,p=g.x+g.vx,m=g.y+g.vy,d.visit(y);function y(C,M,S,E,$){var R=C.data,k=C.r,F=_+k;if(R){if(R.index>g.index){var T=p-R.x-R.vx,I=m-R.y-R.vy,V=T*T+I*I;V<F*F&&(T===0&&(T=_s(l),V+=T*T),I===0&&(I=_s(l),V+=I*I),V=(F-(V=Math.sqrt(V)))/V*o,g.vx+=(T*=V)*(F=(k*=k)/(v+k)),g.vy+=(I*=V)*F,R.vx-=T*(F=1-F),R.vy-=I*F)}return}return M>p+F||E<p-F||S>m+F||$<m-F}}function u(f){if(f.data)return f.r=n[f.data.index];for(var c=f.r=0;c<4;++c)f[c]&&f[c].r>f.r&&(f.r=f[c].r)}function a(){if(t){var f,c=t.length,d;for(n=new Array(c),f=0;f<c;++f)d=t[f],n[d.index]=+e(d,f,t)}}return s.initialize=function(f,c){t=f,l=c,a()},s.iterations=function(f){return arguments.length?(r=+f,s):r},s.strength=function(f){return arguments.length?(o=+f,s):o},s.radius=function(f){return arguments.length?(e=typeof f=="function"?f:it(+f),a(),s):e},s}var um={value:()=>{}};function pu(){for(var e=0,t=arguments.length,n={},l;e<t;++e){if(!(l=arguments[e]+"")||l in n||/[\s.]/.test(l))throw new Error("illegal type: "+l);n[l]=[]}return new nl(n)}function nl(e){this._=e}function fm(e,t){return e.trim().split(/^|\s+/).map(function(n){var l="",o=n.indexOf(".");if(o>=0&&(l=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:l}})}nl.prototype=pu.prototype={constructor:nl,on:function(e,t){var n=this._,l=fm(e+"",n),o,r=-1,s=l.length;if(arguments.length<2){for(;++r<s;)if((o=(e=l[r]).type)&&(o=cm(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<s;)if(o=(e=l[r]).type)n[o]=vs(n[o],e.name,t);else if(t==null)for(o in n)n[o]=vs(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new nl(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),l=0,o,r;l<o;++l)n[l]=arguments[l+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],l=0,o=r.length;l<o;++l)r[l].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var l=this._[e],o=0,r=l.length;o<r;++o)l[o].value.apply(t,n)}};function cm(e,t){for(var n=0,l=e.length,o;n<l;++n)if((o=e[n]).name===t)return o.value}function vs(e,t,n){for(var l=0,o=e.length;l<o;++l)if(e[l].name===t){e[l]=um,e=e.slice(0,l).concat(e.slice(l+1));break}return n!=null&&e.push({name:t,value:n}),e}var rn=0,mn=0,cn=0,mu=1e3,wl,_n,yl=0,qt=0,Ml=0,Nn=typeof performance=="object"&&performance.now?performance:Date,_u=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vu(){return qt||(_u(dm),qt=Nn.now()+Ml)}function dm(){qt=0}function wo(){this._call=this._time=this._next=null}wo.prototype=bu.prototype={constructor:wo,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?vu():+n)+(t==null?0:+t),!this._next&&_n!==this&&(_n?_n._next=this:wl=this,_n=this),this._call=e,this._time=n,yo()},stop:function(){this._call&&(this._call=null,this._time=1/0,yo())}};function bu(e,t,n){var l=new wo;return l.restart(e,t,n),l}function hm(){vu(),++rn;for(var e=wl,t;e;)(t=qt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--rn}function bs(){qt=(yl=Nn.now())+Ml,rn=mn=0;try{hm()}finally{rn=0,pm(),qt=0}}function gm(){var e=Nn.now(),t=e-yl;t>mu&&(Ml-=t,yl=e)}function pm(){for(var e,t=wl,n,l=1/0;t;)t._call?(l>t._time&&(l=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:wl=n);_n=e,yo(l)}function yo(e){if(!rn){mn&&(mn=clearTimeout(mn));var t=e-qt;t>24?(e<1/0&&(mn=setTimeout(bs,e-Nn.now()-Ml)),cn&&(cn=clearInterval(cn))):(cn||(yl=Nn.now(),cn=setInterval(gm,mu)),rn=1,_u(bs))}}const mm=1664525,_m=1013904223,ws=4294967296;function vm(){let e=1;return()=>(e=(mm*e+_m)%ws)/ws}var bm=10,wm=Math.PI*(3-Math.sqrt(5));function ym(e){var t,n=1,l=.001,o=1-Math.pow(l,1/300),r=0,s=.6,u=new Map,a=bu(d),f=pu("tick","end"),c=vm();e==null&&(e=[]);function d(){g(),f.call("tick",t),n<l&&(a.stop(),f.call("end",t))}function g(_){var v,w=e.length,y;_===void 0&&(_=1);for(var C=0;C<_;++C)for(n+=(r-n)*o,u.forEach(function(M){M(n)}),v=0;v<w;++v)y=e[v],y.fx==null?y.x+=y.vx*=s:(y.x=y.fx,y.vx=0),y.fy==null?y.y+=y.vy*=s:(y.y=y.fy,y.vy=0);return t}function p(){for(var _=0,v=e.length,w;_<v;++_){if(w=e[_],w.index=_,w.fx!=null&&(w.x=w.fx),w.fy!=null&&(w.y=w.fy),isNaN(w.x)||isNaN(w.y)){var y=bm*Math.sqrt(.5+_),C=_*wm;w.x=y*Math.cos(C),w.y=y*Math.sin(C)}(isNaN(w.vx)||isNaN(w.vy))&&(w.vx=w.vy=0)}}function m(_){return _.initialize&&_.initialize(e,c),_}return p(),t={tick:g,restart:function(){return a.restart(d),t},stop:function(){return a.stop(),t},nodes:function(_){return arguments.length?(e=_,p(),u.forEach(m),t):e},alpha:function(_){return arguments.length?(n=+_,t):n},alphaMin:function(_){return arguments.length?(l=+_,t):l},alphaDecay:function(_){return arguments.length?(o=+_,t):+o},alphaTarget:function(_){return arguments.length?(r=+_,t):r},velocityDecay:function(_){return arguments.length?(s=1-_,t):1-s},randomSource:function(_){return arguments.length?(c=_,u.forEach(m),t):c},force:function(_,v){return arguments.length>1?(v==null?u.delete(_):u.set(_,m(v)),t):u.get(_)},find:function(_,v,w){var y=0,C=e.length,M,S,E,$,R;for(w==null?w=1/0:w*=w,y=0;y<C;++y)$=e[y],M=_-$.x,S=v-$.y,E=M*M+S*S,E<w&&(R=$,w=E);return R},on:function(_,v){return arguments.length>1?(f.on(_,v),t):f.on(_)}}}function km(e){var t=it(.1),n,l,o;typeof e!="function"&&(e=it(e==null?0:+e));function r(u){for(var a=0,f=n.length,c;a<f;++a)c=n[a],c.vx+=(o[a]-c.x)*l[a]*u}function s(){if(n){var u,a=n.length;for(l=new Array(a),o=new Array(a),u=0;u<a;++u)l[u]=isNaN(o[u]=+e(n[u],u,n))?0:+t(n[u],u,n)}}return r.initialize=function(u){n=u,s()},r.strength=function(u){return arguments.length?(t=typeof u=="function"?u:it(+u),s(),r):t},r.x=function(u){return arguments.length?(e=typeof u=="function"?u:it(+u),s(),r):e},r}function Sm(e){var t=it(.1),n,l,o;typeof e!="function"&&(e=it(e==null?0:+e));function r(u){for(var a=0,f=n.length,c;a<f;++a)c=n[a],c.vy+=(o[a]-c.y)*l[a]*u}function s(){if(n){var u,a=n.length;for(l=new Array(a),o=new Array(a),u=0;u<a;++u)l[u]=isNaN(o[u]=+e(n[u],u,n))?0:+t(n[u],u,n)}}return r.initialize=function(u){n=u,s()},r.strength=function(u){return arguments.length?(t=typeof u=="function"?u:it(+u),s(),r):t},r.y=function(u){return arguments.length?(e=typeof u=="function"?u:it(+u),s(),r):e},r}const kl=Ie([]),ys=Ie({labelNames:["txt2.txt","pdf2.txt"],labels:[0,3],projection:[[.1443715864989249,.00463214192040876,.11292804485781914],[-.05626482326843836,-.013694651798983428,.01709368313171561]]});function ks(e,t,n){const l=e.slice();return l[20]=t[n],l[22]=n,l}function Ss(e){let t,n,l,o,r,s=e[20].file+"",u,a,f=io(e[20].size)+"",c,d,g,p,m,_,v,w;return{c(){t=B("g"),n=B("circle"),r=B("text"),u=q(s),a=B("tspan"),c=q(f),h(n,"r",l=e[3](e[20].size)),h(n,"fill","var(--primary"),h(n,"stroke","var(--white)"),h(n,"stroke-width","1"),h(n,"fill-opacity",.95),h(n,"class","svelte-h2ab3o"),h(a,"x","0"),h(a,"y","15"),h(r,"class","bubble-file-text svelte-h2ab3o"),h(r,"text-anchor","middle"),h(r,"opacity",d=e[20].size>e[4]?1:0),h(t,"class",p="file-circle-g "+(e[20].size>e[4]?"large":"")+" svelte-h2ab3o"),h(t,"style",m=e[5](e[20].x,e[20].y)),h(t,"role","img")},m(y,C){O(y,t,C),b(t,n),b(t,r),b(r,u),b(r,a),b(a,c),_=!0,v||(w=[x(t,"mouseover",e[6]),x(t,"mouseout",e[7]),x(t,"focus",e[6]),x(t,"blur",e[7])],v=!0)},p(y,C){(!_||C&12&&l!==(l=y[3](y[20].size)))&&h(n,"r",l),(!_||C&4)&&s!==(s=y[20].file+"")&&J(u,s),(!_||C&4)&&f!==(f=io(y[20].size)+"")&&J(c,f),(!_||C&20&&d!==(d=y[20].size>y[4]?1:0))&&h(r,"opacity",d),(!_||C&20&&p!==(p="file-circle-g "+(y[20].size>y[4]?"large":"")+" svelte-h2ab3o"))&&h(t,"class",p),(!_||C&4&&m!==(m=y[5](y[20].x,y[20].y)))&&h(t,"style",m)},i(y){_||(y&&Re(()=>{_&&(o||(o=ot(n,Ln,{duration:1e3},!0)),o.run(1))}),y&&Re(()=>{_&&(g||(g=ot(r,Ln,{duration:1e3},!0)),g.run(1))}),_=!0)},o(y){y&&(o||(o=ot(n,Ln,{duration:1e3},!1)),o.run(0)),y&&(g||(g=ot(r,Ln,{duration:1e3},!1)),g.run(0)),_=!1},d(y){y&&N(t),y&&o&&o.end(),y&&g&&g.end(),v=!1,he(w)}}}function Cm(e){let t,n,l,o,r=e[2],s=[];for(let a=0;a<r.length;a+=1)s[a]=Ss(ks(e,r,a));const u=a=>L(s[a],1,1,()=>{s[a]=null});return{c(){t=A("div"),n=B("svg");for(let a=0;a<s.length;a+=1)s[a].c();h(n,"width",e[0]),h(n,"height",e[1]),h(n,"class","svelte-h2ab3o"),h(t,"id","network-chart"),Re(()=>e[15].call(t))},m(a,f){O(a,t,f),b(t,n);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(n,null);l=ft(t,e[15].bind(t)),o=!0},p(a,[f]){if(f&252){r=a[2];let c;for(c=0;c<r.length;c+=1){const d=ks(a,r,c);s[c]?(s[c].p(d,f),z(s[c],1)):(s[c]=Ss(d),s[c].c(),z(s[c],1),s[c].m(n,null))}for(_e(),c=r.length;c<s.length;c+=1)u(c);ve()}(!o||f&1)&&h(n,"width",a[0]),(!o||f&2)&&h(n,"height",a[1])},i(a){if(!o){for(let f=0;f<r.length;f+=1)z(s[f]);o=!0}},o(a){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)L(s[f]);o=!1},d(a){a&&N(t),pe(s,a),l()}}}function $m(e,t,n){let l,o,r,s,u,a,f,c;ae(e,kl,S=>n(14,c=S));let d=600,g=350,p=!0,m=!1;const _=(S,E)=>`transform: translate(${S}px, ${E}px)`,v=[-4,4],w=[-1,1];function y(){n(8,p=!0),n(9,m=!0);const S=Mn(this);Nl(".file-circle-g").select("text").style("opacity",0),S.raise(),S.select("circle").attr("fill","var(--red)"),S.select("text").style("opacity",1)}const C=()=>{const S=Nl(".file-circle-g");S.select("circle").attr("fill","var(--yellow)"),S.select("text").style("opacity",0),n(9,m=!1),setTimeout(()=>{n(8,p=!1)},1e3)};function M(){d=this.offsetWidth,g=this.offsetHeight,n(0,d),n(1,g)}return e.$$.update=()=>{e.$$.dirty&16387&&n(2,l=c.map(S=>({...S,x:d/2,y:g/2,tickCount:0}))),e.$$.dirty&16384&&console.log(c.map(S=>S.size).sort((S,E)=>S-E)),e.$$.dirty&1&&n(13,o=km().x(d/2)),e.$$.dirty&2&&n(12,r=Sm().y(g/2)),e.$$.dirty&16384&&n(3,a=Xe().domain(vn(c,S=>S.size)).range([12,60])),e.$$.dirty&8&&n(10,s=am().radius(S=>a(S.size)+1).iterations(3)),e.$$.dirty&16384&&n(4,u=Sh(c.map(S=>S.size).sort((S,E)=>S-E),.85)),e.$$.dirty&1&&Xe().domain(v).range([5,d]),e.$$.dirty&2&&Xe().domain(w).range([g,5]),e.$$.dirty&4&&n(11,f=ym().nodes(l).on("tick",()=>{n(2,l=[...l])})),e.$$.dirty&15360&&(f.force("x",o),f.force("y",r),f.force("collide",s),f.alpha(.02),f.restart()),e.$$.dirty&19468&&(a.domain(vn(c,S=>S.size)),l.forEach(S=>S.radius=a(S.size)),f.nodes(l),s.radius(S=>S.radius+.5)),e.$$.dirty&768&&p===!1&&(m||Nl(".large").select("text").style("opacity",1))},[d,g,l,a,u,_,y,C,p,m,s,f,r,o,c,M]}class Am extends fe{constructor(t){super(),ce(this,t,$m,Cm,ue,{})}}/**
 * table-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $t(e,t){return typeof e=="function"?e(t):e}function Ke(e,t){return n=>{t.setState(l=>({...l,[e]:$t(n,l[e])}))}}function Sl(e){return e instanceof Function}function Rm(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Mm(e,t){const n=[],l=o=>{o.forEach(r=>{n.push(r);const s=t(r);s!=null&&s.length&&l(s)})};return l(e),n}function oe(e,t,n){let l=[],o;return()=>{let r;n.key&&n.debug&&(r=Date.now());const s=e();if(!(s.length!==l.length||s.some((f,c)=>l[c]!==f)))return o;l=s;let a;if(n.key&&n.debug&&(a=Date.now()),o=t(...s),n==null||n.onChange==null||n.onChange(o),n.key&&n.debug&&n!=null&&n.debug()){const f=Math.round((Date.now()-r)*100)/100,c=Math.round((Date.now()-a)*100)/100,d=c/16,g=(p,m)=>{for(p=String(p);p.length<m;)p=" "+p;return p};console.info(`%c‚è± ${g(c,5)} /${g(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*d,120))}deg 100% 31%);`,n==null?void 0:n.key)}return o}}function Em(e,t,n,l){var o,r;const u={...e._getDefaultColumnDef(),...t},a=u.accessorKey;let f=(o=(r=u.id)!=null?r:a?a.replace(".","_"):void 0)!=null?o:typeof u.header=="string"?u.header:void 0,c;if(u.accessorFn?c=u.accessorFn:a&&(a.includes(".")?c=g=>{let p=g;for(const _ of a.split(".")){var m;p=(m=p)==null?void 0:m[_]}return p}:c=g=>g[u.accessorKey]),!f)throw new Error;let d={id:`${String(f)}`,accessorFn:c,parent:l,depth:n,columnDef:u,columns:[],getFlatColumns:oe(()=>[!0],()=>{var g;return[d,...(g=d.columns)==null?void 0:g.flatMap(p=>p.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var g;return(g=e.options.debugAll)!=null?g:e.options.debugColumns}}),getLeafColumns:oe(()=>[e._getOrderColumnsFn()],g=>{var p;if((p=d.columns)!=null&&p.length){let m=d.columns.flatMap(_=>_.getLeafColumns());return g(m)}return[d]},{key:"column.getLeafColumns",debug:()=>{var g;return(g=e.options.debugAll)!=null?g:e.options.debugColumns}})};return d=e._features.reduce((g,p)=>Object.assign(g,p.createColumn==null?void 0:p.createColumn(d,e)),d),d}function Cs(e,t,n){var l;let r={id:(l=n.id)!=null?l:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],u=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(u),s.push(a)};return u(r),s},getContext:()=>({table:e,header:r,column:t})};return e._features.forEach(s=>{Object.assign(r,s.createHeader==null?void 0:s.createHeader(r,e))}),r}const Fm={createTable:e=>({getHeaderGroups:oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l,o)=>{var r,s;const u=(r=l==null?void 0:l.map(d=>n.find(g=>g.id===d)).filter(Boolean))!=null?r:[],a=(s=o==null?void 0:o.map(d=>n.find(g=>g.id===d)).filter(Boolean))!=null?s:[],f=n.filter(d=>!(l!=null&&l.includes(d.id))&&!(o!=null&&o.includes(d.id)));return Wn(t,[...u,...f,...a],e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterHeaderGroups:oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l,o)=>(n=n.filter(r=>!(l!=null&&l.includes(r.id))&&!(o!=null&&o.includes(r.id))),Wn(t,n,e,"center")),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftHeaderGroups:oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,l)=>{var o;const r=(o=l==null?void 0:l.map(s=>n.find(u=>u.id===s)).filter(Boolean))!=null?o:[];return Wn(t,r,e,"left")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightHeaderGroups:oe(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,l)=>{var o;const r=(o=l==null?void 0:l.map(s=>n.find(u=>u.id===s)).filter(Boolean))!=null?o:[];return Wn(t,r,e,"right")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getFooterGroups:oe(()=>[e.getHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftFooterGroups:oe(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterFooterGroups:oe(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightFooterGroups:oe(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getFlatHeaders:oe(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftFlatHeaders:oe(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterFlatHeaders:oe(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightFlatHeaders:oe(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getCenterLeafHeaders:oe(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeftLeafHeaders:oe(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getRightLeafHeaders:oe(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var l;return!((l=n.subHeaders)!=null&&l.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),getLeafHeaders:oe(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,l)=>{var o,r,s,u,a,f;return[...(o=(r=t[0])==null?void 0:r.headers)!=null?o:[],...(s=(u=n[0])==null?void 0:u.headers)!=null?s:[],...(a=(f=l[0])==null?void 0:f.headers)!=null?a:[]].map(c=>c.getLeafHeaders()).flat()},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}})})};function Wn(e,t,n,l){var o,r;let s=0;const u=function(g,p){p===void 0&&(p=1),s=Math.max(s,p),g.filter(m=>m.getIsVisible()).forEach(m=>{var _;(_=m.columns)!=null&&_.length&&u(m.columns,p+1)},0)};u(e);let a=[];const f=(g,p)=>{const m={depth:p,id:[l,`${p}`].filter(Boolean).join("_"),headers:[]},_=[];g.forEach(v=>{const w=[..._].reverse()[0],y=v.column.depth===m.depth;let C,M=!1;if(y&&v.column.parent?C=v.column.parent:(C=v.column,M=!0),w&&(w==null?void 0:w.column)===C)w.subHeaders.push(v);else{const S=Cs(n,C,{id:[l,p,C.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:M,placeholderId:M?`${_.filter(E=>E.column===C).length}`:void 0,depth:p,index:_.length});S.subHeaders.push(v),_.push(S)}m.headers.push(v),v.headerGroup=m}),a.push(m),p>0&&f(_,p-1)},c=t.map((g,p)=>Cs(n,g,{depth:s,index:p}));f(c,s-1),a.reverse();const d=g=>g.filter(m=>m.column.getIsVisible()).map(m=>{let _=0,v=0,w=[0];m.subHeaders&&m.subHeaders.length?(w=[],d(m.subHeaders).forEach(C=>{let{colSpan:M,rowSpan:S}=C;_+=M,w.push(S)})):_=1;const y=Math.min(...w);return v=v+y,m.colSpan=_,m.rowSpan=v,{colSpan:_,rowSpan:v}});return d((o=(r=a[0])==null?void 0:r.headers)!=null?o:[]),a}const Xn={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Ul=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Dm={getDefaultColumnDef:()=>Xn,getInitialState:e=>({columnSizing:{},columnSizingInfo:Ul(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",onColumnSizingChange:Ke("columnSizing",e),onColumnSizingInfoChange:Ke("columnSizingInfo",e)}),createColumn:(e,t)=>({getSize:()=>{var n,l,o;const r=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Xn.minSize,(l=r??e.columnDef.size)!=null?l:Xn.size),(o=e.columnDef.maxSize)!=null?o:Xn.maxSize)},getStart:n=>{const l=n?n==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns(),o=l.findIndex(r=>r.id===e.id);if(o>0){const r=l[o-1];return r.getStart(n)+r.getSize()}return 0},resetSize:()=>{t.setColumnSizing(n=>{let{[e.id]:l,...o}=n;return o})},getCanResize:()=>{var n,l;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((l=t.options.enableColumnResizing)!=null?l:!0)},getIsResizing:()=>t.getState().columnSizingInfo.isResizingColumn===e.id}),createHeader:(e,t)=>({getSize:()=>{let n=0;const l=o=>{if(o.subHeaders.length)o.subHeaders.forEach(l);else{var r;n+=(r=o.column.getSize())!=null?r:0}};return l(e),n},getStart:()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},getResizeHandler:()=>{const n=t.getColumn(e.column.id),l=n==null?void 0:n.getCanResize();return o=>{if(!n||!l||(o.persist==null||o.persist(),Wl(o)&&o.touches&&o.touches.length>1))return;const r=e.getSize(),s=e?e.getLeafHeaders().map(_=>[_.column.id,_.column.getSize()]):[[n.id,n.getSize()]],u=Wl(o)?Math.round(o.touches[0].clientX):o.clientX,a={},f=(_,v)=>{typeof v=="number"&&(t.setColumnSizingInfo(w=>{var y,C;const M=v-((y=w==null?void 0:w.startOffset)!=null?y:0),S=Math.max(M/((C=w==null?void 0:w.startSize)!=null?C:0),-.999999);return w.columnSizingStart.forEach(E=>{let[$,R]=E;a[$]=Math.round(Math.max(R+R*S,0)*100)/100}),{...w,deltaOffset:M,deltaPercentage:S}}),(t.options.columnResizeMode==="onChange"||_==="end")&&t.setColumnSizing(w=>({...w,...a})))},c=_=>f("move",_),d=_=>{f("end",_),t.setColumnSizingInfo(v=>({...v,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g={moveHandler:_=>c(_.clientX),upHandler:_=>{document.removeEventListener("mousemove",g.moveHandler),document.removeEventListener("mouseup",g.upHandler),d(_.clientX)}},p={moveHandler:_=>(_.cancelable&&(_.preventDefault(),_.stopPropagation()),c(_.touches[0].clientX),!1),upHandler:_=>{var v;document.removeEventListener("touchmove",p.moveHandler),document.removeEventListener("touchend",p.upHandler),_.cancelable&&(_.preventDefault(),_.stopPropagation()),d((v=_.touches[0])==null?void 0:v.clientX)}},m=Im()?{passive:!1}:!1;Wl(o)?(document.addEventListener("touchmove",p.moveHandler,m),document.addEventListener("touchend",p.upHandler,m)):(document.addEventListener("mousemove",g.moveHandler,m),document.addEventListener("mouseup",g.upHandler,m)),t.setColumnSizingInfo(_=>({..._,startOffset:u,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:s,isResizingColumn:n.id}))}}}),createTable:e=>({setColumnSizing:t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),setColumnSizingInfo:t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),resetColumnSizing:t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},resetHeaderSizeInfo:t=>{var n;e.setColumnSizingInfo(t?Ul():(n=e.initialState.columnSizingInfo)!=null?n:Ul())},getTotalSize:()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((l,o)=>l+o.getSize(),0))!=null?t:0},getLeftTotalSize:()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((l,o)=>l+o.getSize(),0))!=null?t:0},getCenterTotalSize:()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((l,o)=>l+o.getSize(),0))!=null?t:0},getRightTotalSize:()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((l,o)=>l+o.getSize(),0))!=null?t:0}})};let Yn=null;function Im(){if(typeof Yn=="boolean")return Yn;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return Yn=e,Yn}function Wl(e){return e.type==="touchstart"}const Nm={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Ke("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;return{_autoResetExpanded:()=>{var l,o;if(!t){e._queue(()=>{t=!0});return}if((l=(o=e.options.autoResetAll)!=null?o:e.options.autoResetExpanded)!=null?l:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},setExpanded:l=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(l),toggleAllRowsExpanded:l=>{l??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},resetExpanded:l=>{var o,r;e.setExpanded(l?{}:(o=(r=e.initialState)==null?void 0:r.expanded)!=null?o:{})},getCanSomeRowsExpand:()=>e.getPrePaginationRowModel().flatRows.some(l=>l.getCanExpand()),getToggleAllRowsExpandedHandler:()=>l=>{l.persist==null||l.persist(),e.toggleAllRowsExpanded()},getIsSomeRowsExpanded:()=>{const l=e.getState().expanded;return l===!0||Object.values(l).some(Boolean)},getIsAllRowsExpanded:()=>{const l=e.getState().expanded;return typeof l=="boolean"?l===!0:!(!Object.keys(l).length||e.getRowModel().flatRows.some(o=>!o.getIsExpanded()))},getExpandedDepth:()=>{let l=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(r=>{const s=r.split(".");l=Math.max(l,s.length)}),l},getPreExpandedRowModel:()=>e.getSortedRowModel(),getExpandedRowModel:()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())}},createRow:(e,t)=>({toggleExpanded:n=>{t.setExpanded(l=>{var o;const r=l===!0?!0:!!(l!=null&&l[e.id]);let s={};if(l===!0?Object.keys(t.getRowModel().rowsById).forEach(u=>{s[u]=!0}):s=l,n=(o=n)!=null?o:!r,!r&&n)return{...s,[e.id]:!0};if(r&&!n){const{[e.id]:u,...a}=s;return a}return l})},getIsExpanded:()=>{var n;const l=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:l===!0||l!=null&&l[e.id])},getCanExpand:()=>{var n,l,o;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((l=t.options.enableExpanding)!=null?l:!0)&&!!((o=e.subRows)!=null&&o.length)},getToggleExpandedHandler:()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}})},wu=(e,t,n)=>{var l,o,r;const s=n.toLowerCase();return!!(!((l=e.getValue(t))==null||(o=l.toString())==null||(r=o.toLowerCase())==null)&&r.includes(s))};wu.autoRemove=e=>et(e);const yu=(e,t,n)=>{var l,o;return!!(!((l=e.getValue(t))==null||(o=l.toString())==null)&&o.includes(n))};yu.autoRemove=e=>et(e);const ku=(e,t,n)=>{var l,o;return((l=e.getValue(t))==null||(o=l.toString())==null?void 0:o.toLowerCase())===(n==null?void 0:n.toLowerCase())};ku.autoRemove=e=>et(e);const Su=(e,t,n)=>{var l;return(l=e.getValue(t))==null?void 0:l.includes(n)};Su.autoRemove=e=>et(e)||!(e!=null&&e.length);const Cu=(e,t,n)=>!n.some(l=>{var o;return!((o=e.getValue(t))!=null&&o.includes(l))});Cu.autoRemove=e=>et(e)||!(e!=null&&e.length);const $u=(e,t,n)=>n.some(l=>{var o;return(o=e.getValue(t))==null?void 0:o.includes(l)});$u.autoRemove=e=>et(e)||!(e!=null&&e.length);const Au=(e,t,n)=>e.getValue(t)===n;Au.autoRemove=e=>et(e);const Ru=(e,t,n)=>e.getValue(t)==n;Ru.autoRemove=e=>et(e);const Go=(e,t,n)=>{let[l,o]=n;const r=e.getValue(t);return r>=l&&r<=o};Go.resolveFilterValue=e=>{let[t,n]=e,l=typeof t!="number"?parseFloat(t):t,o=typeof n!="number"?parseFloat(n):n,r=t===null||Number.isNaN(l)?-1/0:l,s=n===null||Number.isNaN(o)?1/0:o;if(r>s){const u=r;r=s,s=u}return[r,s]};Go.autoRemove=e=>et(e)||et(e[0])&&et(e[1]);const dt={includesString:wu,includesStringSensitive:yu,equalsString:ku,arrIncludes:Su,arrIncludesAll:Cu,arrIncludesSome:$u,equals:Au,weakEquals:Ru,inNumberRange:Go};function et(e){return e==null||e===""}const Pm={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:Ke("columnFilters",e),onGlobalFilterChange:Ke("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n,l;const o=(n=e.getCoreRowModel().flatRows[0])==null||(l=n._getAllCellsByColumnId()[t.id])==null?void 0:l.getValue();return typeof o=="string"||typeof o=="number"}}),createColumn:(e,t)=>({getAutoFilterFn:()=>{const n=t.getCoreRowModel().flatRows[0],l=n==null?void 0:n.getValue(e.id);return typeof l=="string"?dt.includesString:typeof l=="number"?dt.inNumberRange:typeof l=="boolean"||l!==null&&typeof l=="object"?dt.equals:Array.isArray(l)?dt.arrIncludes:dt.weakEquals},getFilterFn:()=>{var n,l;return Sl(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(l=t.options.filterFns)==null?void 0:l[e.columnDef.filterFn])!=null?n:dt[e.columnDef.filterFn]},getCanFilter:()=>{var n,l,o;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((l=t.options.enableColumnFilters)!=null?l:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&!!e.accessorFn},getCanGlobalFilter:()=>{var n,l,o,r;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((l=t.options.enableGlobalFilter)!=null?l:!0)&&((o=t.options.enableFilters)!=null?o:!0)&&((r=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?r:!0)&&!!e.accessorFn},getIsFiltered:()=>e.getFilterIndex()>-1,getFilterValue:()=>{var n,l;return(n=t.getState().columnFilters)==null||(l=n.find(o=>o.id===e.id))==null?void 0:l.value},getFilterIndex:()=>{var n,l;return(n=(l=t.getState().columnFilters)==null?void 0:l.findIndex(o=>o.id===e.id))!=null?n:-1},setFilterValue:n=>{t.setColumnFilters(l=>{const o=e.getFilterFn(),r=l==null?void 0:l.find(c=>c.id===e.id),s=$t(n,r?r.value:void 0);if($s(o,s,e)){var u;return(u=l==null?void 0:l.filter(c=>c.id!==e.id))!=null?u:[]}const a={id:e.id,value:s};if(r){var f;return(f=l==null?void 0:l.map(c=>c.id===e.id?a:c))!=null?f:[]}return l!=null&&l.length?[...l,a]:[a]})},_getFacetedRowModel:t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),getFacetedRowModel:()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),_getFacetedUniqueValues:t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),getFacetedUniqueValues:()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,_getFacetedMinMaxValues:t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),getFacetedMinMaxValues:()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}),createRow:(e,t)=>({columnFilters:{},columnFiltersMeta:{}}),createTable:e=>({getGlobalAutoFilterFn:()=>dt.includesString,getGlobalFilterFn:()=>{var t,n;const{globalFilterFn:l}=e.options;return Sl(l)?l:l==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[l])!=null?t:dt[l]},setColumnFilters:t=>{const n=e.getAllLeafColumns(),l=o=>{var r;return(r=$t(t,o))==null?void 0:r.filter(s=>{const u=n.find(a=>a.id===s.id);if(u){const a=u.getFilterFn();if($s(a,s.value,u))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(l)},setGlobalFilter:t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},resetGlobalFilter:t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},resetColumnFilters:t=>{var n,l;e.setColumnFilters(t?[]:(n=(l=e.initialState)==null?void 0:l.columnFilters)!=null?n:[])},getPreFilteredRowModel:()=>e.getCoreRowModel(),getFilteredRowModel:()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),_getGlobalFacetedRowModel:e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),getGlobalFacetedRowModel:()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),_getGlobalFacetedUniqueValues:e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),getGlobalFacetedUniqueValues:()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,_getGlobalFacetedMinMaxValues:e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),getGlobalFacetedMinMaxValues:()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}})};function $s(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Tm=(e,t,n)=>n.reduce((l,o)=>{const r=o.getValue(e);return l+(typeof r=="number"?r:0)},0),Om=(e,t,n)=>{let l;return n.forEach(o=>{const r=o.getValue(e);r!=null&&(l>r||l===void 0&&r>=r)&&(l=r)}),l},zm=(e,t,n)=>{let l;return n.forEach(o=>{const r=o.getValue(e);r!=null&&(l<r||l===void 0&&r>=r)&&(l=r)}),l},Vm=(e,t,n)=>{let l,o;return n.forEach(r=>{const s=r.getValue(e);s!=null&&(l===void 0?s>=s&&(l=o=s):(l>s&&(l=s),o<s&&(o=s)))}),[l,o]},Lm=(e,t)=>{let n=0,l=0;if(t.forEach(o=>{let r=o.getValue(e);r!=null&&(r=+r)>=r&&(++n,l+=r)}),n)return l/n},qm=(e,t)=>{if(!t.length)return;const n=t.map(r=>r.getValue(e));if(!Rm(n))return;if(n.length===1)return n[0];const l=Math.floor(n.length/2),o=n.sort((r,s)=>r-s);return n.length%2!==0?o[l]:(o[l-1]+o[l])/2},Hm=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Gm=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,jm=(e,t)=>t.length,Xl={sum:Tm,min:Om,max:zm,extent:Vm,mean:Lm,median:qm,unique:Hm,uniqueCount:Gm,count:jm},Bm={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Ke("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>({toggleGrouping:()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(l=>l!==e.id):[...n??[],e.id])},getCanGroup:()=>{var n,l,o,r;return(n=(l=(o=(r=e.columnDef.enableGrouping)!=null?r:!0)!=null?o:t.options.enableGrouping)!=null?l:!0)!=null?n:!!e.accessorFn},getIsGrouped:()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},getGroupedIndex:()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},getToggleGroupingHandler:()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},getAutoAggregationFn:()=>{const n=t.getCoreRowModel().flatRows[0],l=n==null?void 0:n.getValue(e.id);if(typeof l=="number")return Xl.sum;if(Object.prototype.toString.call(l)==="[object Date]")return Xl.extent},getAggregationFn:()=>{var n,l;if(!e)throw new Error;return Sl(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(l=t.options.aggregationFns)==null?void 0:l[e.columnDef.aggregationFn])!=null?n:Xl[e.columnDef.aggregationFn]}}),createTable:e=>({setGrouping:t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),resetGrouping:t=>{var n,l;e.setGrouping(t?[]:(n=(l=e.initialState)==null?void 0:l.grouping)!=null?n:[])},getPreGroupedRowModel:()=>e.getFilteredRowModel(),getGroupedRowModel:()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())}),createRow:(e,t)=>({getIsGrouped:()=>!!e.groupingColumnId,getGroupingValue:n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const l=t.getColumn(n);return l!=null&&l.columnDef.getGroupingValue?(e._groupingValuesCache[n]=l.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},_groupingValuesCache:{}}),createCell:(e,t,n,l)=>({getIsGrouped:()=>t.getIsGrouped()&&t.id===n.groupingColumnId,getIsPlaceholder:()=>!e.getIsGrouped()&&t.getIsGrouped(),getIsAggregated:()=>{var o;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((o=n.subRows)!=null&&o.length)}})};function xm(e,t,n){if(!(t!=null&&t.length)||!n)return e;const l=e.filter(r=>!t.includes(r.id));return n==="remove"?l:[...t.map(r=>e.find(s=>s.id===r)).filter(Boolean),...l]}const Um={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Ke("columnOrder",e)}),createTable:e=>({setColumnOrder:t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),resetColumnOrder:t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},_getOrderColumnsFn:oe(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,l)=>o=>{let r=[];if(!(t!=null&&t.length))r=o;else{const s=[...t],u=[...o];for(;u.length&&s.length;){const a=s.shift(),f=u.findIndex(c=>c.id===a);f>-1&&r.push(u.splice(f,1)[0])}r=[...r,...u]}return xm(r,n,l)},{key:!1})})},ko=0,So=10,Yl=()=>({pageIndex:ko,pageSize:So}),Wm={getInitialState:e=>({...e,pagination:{...Yl(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Ke("pagination",e)}),createTable:e=>{let t=!1,n=!1;return{_autoResetPageIndex:()=>{var l,o;if(!t){e._queue(()=>{t=!0});return}if((l=(o=e.options.autoResetAll)!=null?o:e.options.autoResetPageIndex)!=null?l:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},setPagination:l=>{const o=r=>$t(l,r);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(o)},resetPagination:l=>{var o;e.setPagination(l?Yl():(o=e.initialState.pagination)!=null?o:Yl())},setPageIndex:l=>{e.setPagination(o=>{let r=$t(l,o.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,s)),{...o,pageIndex:r}})},resetPageIndex:l=>{var o,r,s;e.setPageIndex(l?ko:(o=(r=e.initialState)==null||(s=r.pagination)==null?void 0:s.pageIndex)!=null?o:ko)},resetPageSize:l=>{var o,r,s;e.setPageSize(l?So:(o=(r=e.initialState)==null||(s=r.pagination)==null?void 0:s.pageSize)!=null?o:So)},setPageSize:l=>{e.setPagination(o=>{const r=Math.max(1,$t(l,o.pageSize)),s=o.pageSize*o.pageIndex,u=Math.floor(s/r);return{...o,pageIndex:u,pageSize:r}})},setPageCount:l=>e.setPagination(o=>{var r;let s=$t(l,(r=e.options.pageCount)!=null?r:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...o,pageCount:s}}),getPageOptions:oe(()=>[e.getPageCount()],l=>{let o=[];return l&&l>0&&(o=[...new Array(l)].fill(null).map((r,s)=>s)),o},{key:!1,debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugTable}}),getCanPreviousPage:()=>e.getState().pagination.pageIndex>0,getCanNextPage:()=>{const{pageIndex:l}=e.getState().pagination,o=e.getPageCount();return o===-1?!0:o===0?!1:l<o-1},previousPage:()=>e.setPageIndex(l=>l-1),nextPage:()=>e.setPageIndex(l=>l+1),getPrePaginationRowModel:()=>e.getExpandedRowModel(),getPaginationRowModel:()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),getPageCount:()=>{var l;return(l=e.options.pageCount)!=null?l:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}}},Ql=()=>({left:[],right:[]}),Xm={getInitialState:e=>({columnPinning:Ql(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Ke("columnPinning",e)}),createColumn:(e,t)=>({pin:n=>{const l=e.getLeafColumns().map(o=>o.id).filter(Boolean);t.setColumnPinning(o=>{var r,s;if(n==="right"){var u,a;return{left:((u=o==null?void 0:o.left)!=null?u:[]).filter(d=>!(l!=null&&l.includes(d))),right:[...((a=o==null?void 0:o.right)!=null?a:[]).filter(d=>!(l!=null&&l.includes(d))),...l]}}if(n==="left"){var f,c;return{left:[...((f=o==null?void 0:o.left)!=null?f:[]).filter(d=>!(l!=null&&l.includes(d))),...l],right:((c=o==null?void 0:o.right)!=null?c:[]).filter(d=>!(l!=null&&l.includes(d)))}}return{left:((r=o==null?void 0:o.left)!=null?r:[]).filter(d=>!(l!=null&&l.includes(d))),right:((s=o==null?void 0:o.right)!=null?s:[]).filter(d=>!(l!=null&&l.includes(d)))}})},getCanPin:()=>e.getLeafColumns().some(l=>{var o,r;return((o=l.columnDef.enablePinning)!=null?o:!0)&&((r=t.options.enablePinning)!=null?r:!0)}),getIsPinned:()=>{const n=e.getLeafColumns().map(u=>u.id),{left:l,right:o}=t.getState().columnPinning,r=n.some(u=>l==null?void 0:l.includes(u)),s=n.some(u=>o==null?void 0:o.includes(u));return r?"left":s?"right":!1},getPinnedIndex:()=>{var n,l,o;const r=e.getIsPinned();return r?(n=(l=t.getState().columnPinning)==null||(o=l[r])==null?void 0:o.indexOf(e.id))!=null?n:-1:0}}),createRow:(e,t)=>({getCenterVisibleCells:oe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,l,o)=>{const r=[...l??[],...o??[]];return n.filter(s=>!r.includes(s.column.id))},{key:"row.getCenterVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getLeftVisibleCells:oe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,],(n,l)=>(l??[]).map(r=>n.find(s=>s.column.id===r)).filter(Boolean).map(r=>({...r,position:"left"})),{key:"row.getLeftVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getRightVisibleCells:oe(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,l)=>(l??[]).map(r=>n.find(s=>s.column.id===r)).filter(Boolean).map(r=>({...r,position:"right"})),{key:"row.getRightVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})}),createTable:e=>({setColumnPinning:t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),resetColumnPinning:t=>{var n,l;return e.setColumnPinning(t?Ql():(n=(l=e.initialState)==null?void 0:l.columnPinning)!=null?n:Ql())},getIsSomeColumnsPinned:t=>{var n;const l=e.getState().columnPinning;if(!t){var o,r;return!!((o=l.left)!=null&&o.length||(r=l.right)!=null&&r.length)}return!!((n=l[t])!=null&&n.length)},getLeftLeafColumns:oe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(l=>t.find(o=>o.id===l)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),getRightLeafColumns:oe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(l=>t.find(o=>o.id===l)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),getCenterLeafColumns:oe(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,l)=>{const o=[...n??[],...l??[]];return t.filter(r=>!o.includes(r.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}})})},Ym={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Ke("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>({setRowSelection:t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),resetRowSelection:t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},toggleAllRowsSelected:t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const l={...n},o=e.getPreGroupedRowModel().flatRows;return t?o.forEach(r=>{r.getCanSelect()&&(l[r.id]=!0)}):o.forEach(r=>{delete l[r.id]}),l})},toggleAllPageRowsSelected:t=>e.setRowSelection(n=>{const l=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),o={...n};return e.getRowModel().rows.forEach(r=>{Co(o,r.id,l,e)}),o}),getPreSelectedRowModel:()=>e.getCoreRowModel(),getSelectedRowModel:oe(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?Kl(e,n):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getFilteredSelectedRowModel:oe(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?Kl(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getGroupedSelectedRowModel:oe(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?Kl(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),getIsAllRowsSelected:()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let l=!!(t.length&&Object.keys(n).length);return l&&t.some(o=>o.getCanSelect()&&!n[o.id])&&(l=!1),l},getIsAllPageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows.filter(o=>o.getCanSelect()),{rowSelection:n}=e.getState();let l=!!t.length;return l&&t.some(o=>!n[o.id])&&(l=!1),l},getIsSomeRowsSelected:()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},getIsSomePageRowsSelected:()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},getToggleAllRowsSelectedHandler:()=>t=>{e.toggleAllRowsSelected(t.target.checked)},getToggleAllPageRowsSelectedHandler:()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}}),createRow:(e,t)=>({toggleSelected:n=>{const l=e.getIsSelected();t.setRowSelection(o=>{if(n=typeof n<"u"?n:!l,l===n)return o;const r={...o};return Co(r,e.id,n,t),r})},getIsSelected:()=>{const{rowSelection:n}=t.getState();return jo(e,n)},getIsSomeSelected:()=>{const{rowSelection:n}=t.getState();return As(e,n)==="some"},getIsAllSubRowsSelected:()=>{const{rowSelection:n}=t.getState();return As(e,n)==="all"},getCanSelect:()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},getCanSelectSubRows:()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},getCanMultiSelect:()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},getToggleSelectedHandler:()=>{const n=e.getCanSelect();return l=>{var o;n&&e.toggleSelected((o=l.target)==null?void 0:o.checked)}}})},Co=(e,t,n,l)=>{var o;const r=l.getRow(t);n?(r.getCanMultiSelect()||Object.keys(e).forEach(s=>delete e[s]),r.getCanSelect()&&(e[t]=!0)):delete e[t],(o=r.subRows)!=null&&o.length&&r.getCanSelectSubRows()&&r.subRows.forEach(s=>Co(e,s.id,n,l))};function Kl(e,t){const n=e.getState().rowSelection,l=[],o={},r=function(s,u){return s.map(a=>{var f;const c=jo(a,n);if(c&&(l.push(a),o[a.id]=a),(f=a.subRows)!=null&&f.length&&(a={...a,subRows:r(a.subRows)}),c)return a}).filter(Boolean)};return{rows:r(t.rows),flatRows:l,rowsById:o}}function jo(e,t){var n;return(n=t[e.id])!=null?n:!1}function As(e,t,n){if(e.subRows&&e.subRows.length){let l=!0,o=!1;return e.subRows.forEach(r=>{o&&!l||(jo(r,t)?o=!0:l=!1)}),l?"all":o?"some":!1}return!1}const $o=/([0-9]+)/gm,Qm=(e,t,n)=>Mu(Rt(e.getValue(n)).toLowerCase(),Rt(t.getValue(n)).toLowerCase()),Km=(e,t,n)=>Mu(Rt(e.getValue(n)),Rt(t.getValue(n))),Jm=(e,t,n)=>Bo(Rt(e.getValue(n)).toLowerCase(),Rt(t.getValue(n)).toLowerCase()),Zm=(e,t,n)=>Bo(Rt(e.getValue(n)),Rt(t.getValue(n))),e_=(e,t,n)=>{const l=e.getValue(n),o=t.getValue(n);return l>o?1:l<o?-1:0},t_=(e,t,n)=>Bo(e.getValue(n),t.getValue(n));function Bo(e,t){return e===t?0:e>t?1:-1}function Rt(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Mu(e,t){const n=e.split($o).filter(Boolean),l=t.split($o).filter(Boolean);for(;n.length&&l.length;){const o=n.shift(),r=l.shift(),s=parseInt(o,10),u=parseInt(r,10),a=[s,u].sort();if(isNaN(a[0])){if(o>r)return 1;if(r>o)return-1;continue}if(isNaN(a[1]))return isNaN(s)?-1:1;if(s>u)return 1;if(u>s)return-1}return n.length-l.length}const dn={alphanumeric:Qm,alphanumericCaseSensitive:Km,text:Jm,textCaseSensitive:Zm,datetime:e_,basic:t_},n_={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Ke("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>({getAutoSortingFn:()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let l=!1;for(const o of n){const r=o==null?void 0:o.getValue(e.id);if(Object.prototype.toString.call(r)==="[object Date]")return dn.datetime;if(typeof r=="string"&&(l=!0,r.split($o).length>1))return dn.alphanumeric}return l?dn.text:dn.basic},getAutoSortDir:()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},getSortingFn:()=>{var n,l;if(!e)throw new Error;return Sl(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(l=t.options.sortingFns)==null?void 0:l[e.columnDef.sortingFn])!=null?n:dn[e.columnDef.sortingFn]},toggleSorting:(n,l)=>{const o=e.getNextSortingOrder(),r=typeof n<"u"&&n!==null;t.setSorting(s=>{const u=s==null?void 0:s.find(p=>p.id===e.id),a=s==null?void 0:s.findIndex(p=>p.id===e.id);let f=[],c,d=r?n:o==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&l?u?c="toggle":c="add":s!=null&&s.length&&a!==s.length-1?c="replace":u?c="toggle":c="replace",c==="toggle"&&(r||o||(c="remove")),c==="add"){var g;f=[...s,{id:e.id,desc:d}],f.splice(0,f.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else c==="toggle"?f=s.map(p=>p.id===e.id?{...p,desc:d}:p):c==="remove"?f=s.filter(p=>p.id!==e.id):f=[{id:e.id,desc:d}];return f})},getFirstSortDir:()=>{var n,l;return((n=(l=e.columnDef.sortDescFirst)!=null?l:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},getNextSortingOrder:n=>{var l,o;const r=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==r&&((l=t.options.enableSortingRemoval)==null||l)&&(!(n&&(o=t.options.enableMultiRemove)!=null)||o)?!1:s==="desc"?"asc":"desc":r},getCanSort:()=>{var n,l;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((l=t.options.enableSorting)!=null?l:!0)&&!!e.accessorFn},getCanMultiSort:()=>{var n,l;return(n=(l=e.columnDef.enableMultiSort)!=null?l:t.options.enableMultiSort)!=null?n:!!e.accessorFn},getIsSorted:()=>{var n;const l=(n=t.getState().sorting)==null?void 0:n.find(o=>o.id===e.id);return l?l.desc?"desc":"asc":!1},getSortIndex:()=>{var n,l;return(n=(l=t.getState().sorting)==null?void 0:l.findIndex(o=>o.id===e.id))!=null?n:-1},clearSorting:()=>{t.setSorting(n=>n!=null&&n.length?n.filter(l=>l.id!==e.id):[])},getToggleSortingHandler:()=>{const n=e.getCanSort();return l=>{n&&(l.persist==null||l.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(l):!1))}}}),createTable:e=>({setSorting:t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),resetSorting:t=>{var n,l;e.setSorting(t?[]:(n=(l=e.initialState)==null?void 0:l.sorting)!=null?n:[])},getPreSortedRowModel:()=>e.getGroupedRowModel(),getSortedRowModel:()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())})},l_={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Ke("columnVisibility",e)}),createColumn:(e,t)=>({toggleVisibility:n=>{e.getCanHide()&&t.setColumnVisibility(l=>({...l,[e.id]:n??!e.getIsVisible()}))},getIsVisible:()=>{var n,l;return(n=(l=t.getState().columnVisibility)==null?void 0:l[e.id])!=null?n:!0},getCanHide:()=>{var n,l;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((l=t.options.enableHiding)!=null?l:!0)},getToggleVisibilityHandler:()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}}),createRow:(e,t)=>({_getAllVisibleCells:oe(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(l=>l.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),getVisibleCells:oe(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,l,o)=>[...n,...l,...o],{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})}),createTable:e=>{const t=(n,l)=>oe(()=>[l(),l().filter(o=>o.getIsVisible()).map(o=>o.id).join("_")],o=>o.filter(r=>r.getIsVisible==null?void 0:r.getIsVisible()),{key:n,debug:()=>{var o;return(o=e.options.debugAll)!=null?o:e.options.debugColumns}});return{getVisibleFlatColumns:t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),getVisibleLeafColumns:t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),getLeftVisibleLeafColumns:t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),getRightVisibleLeafColumns:t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),getCenterVisibleLeafColumns:t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),setColumnVisibility:n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),resetColumnVisibility:n=>{var l;e.setColumnVisibility(n?{}:(l=e.initialState.columnVisibility)!=null?l:{})},toggleAllColumnsVisible:n=>{var l;n=(l=n)!=null?l:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((o,r)=>({...o,[r.id]:n||!(r.getCanHide!=null&&r.getCanHide())}),{}))},getIsAllColumnsVisible:()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),getIsSomeColumnsVisible:()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),getToggleAllColumnsVisibilityHandler:()=>n=>{var l;e.toggleAllColumnsVisible((l=n.target)==null?void 0:l.checked)}}}},Rs=[Fm,l_,Um,Xm,Pm,n_,Bm,Nm,Wm,Ym,Dm];function o_(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:Rs};const l=n._features.reduce((c,d)=>Object.assign(c,d.getDefaultOptions==null?void 0:d.getDefaultOptions(n)),{}),o=c=>n.options.mergeOptions?n.options.mergeOptions(l,c):{...l,...c};let s={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(c=>{var d;s=(d=c.getInitialState==null?void 0:c.getInitialState(s))!=null?d:s});const u=[];let a=!1;const f={_features:Rs,options:{...l,...e},initialState:s,_queue:c=>{u.push(c),a||(a=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();a=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{n.setState(n.initialState)},setOptions:c=>{const d=$t(c,n.options);n.options=o(d)},getState:()=>n.options.state,setState:c=>{n.options.onStateChange==null||n.options.onStateChange(c)},_getRowId:(c,d,g)=>{var p;return(p=n.options.getRowId==null?void 0:n.options.getRowId(c,d,g))!=null?p:`${g?[g.id,d].join("."):d}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:c=>{const d=n.getRowModel().rowsById[c];if(!d)throw new Error;return d},_getDefaultColumnDef:oe(()=>[n.options.defaultColumn],c=>{var d;return c=(d=c)!=null?d:{},{header:g=>{const p=g.header.column.columnDef;return p.accessorKey?p.accessorKey:p.accessorFn?p.id:null},cell:g=>{var p,m;return(p=(m=g.renderValue())==null||m.toString==null?void 0:m.toString())!=null?p:null},...n._features.reduce((g,p)=>Object.assign(g,p.getDefaultColumnDef==null?void 0:p.getDefaultColumnDef()),{}),...c}},{debug:()=>{var c;return(c=n.options.debugAll)!=null?c:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:oe(()=>[n._getColumnDefs()],c=>{const d=function(g,p,m){return m===void 0&&(m=0),g.map(_=>{const v=Em(n,_,m,p),w=_;return v.columns=w.columns?d(w.columns,v,m+1):[],v})};return d(c)},{key:!1,debug:()=>{var c;return(c=n.options.debugAll)!=null?c:n.options.debugColumns}}),getAllFlatColumns:oe(()=>[n.getAllColumns()],c=>c.flatMap(d=>d.getFlatColumns()),{key:!1,debug:()=>{var c;return(c=n.options.debugAll)!=null?c:n.options.debugColumns}}),_getAllFlatColumnsById:oe(()=>[n.getAllFlatColumns()],c=>c.reduce((d,g)=>(d[g.id]=g,d),{}),{key:!1,debug:()=>{var c;return(c=n.options.debugAll)!=null?c:n.options.debugColumns}}),getAllLeafColumns:oe(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(c,d)=>{let g=c.flatMap(p=>p.getLeafColumns());return d(g)},{key:!1,debug:()=>{var c;return(c=n.options.debugAll)!=null?c:n.options.debugColumns}}),getColumn:c=>n._getAllFlatColumnsById()[c]};return Object.assign(n,f),n._features.forEach(c=>Object.assign(n,c.createTable==null?void 0:c.createTable(n))),n}function i_(e,t,n,l){const o=()=>{var s;return(s=r.getValue())!=null?s:e.options.renderFallbackValue},r={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(l),renderValue:o,getContext:oe(()=>[e,n,t,r],(s,u,a,f)=>({table:s,column:u,row:a,cell:f,getValue:f.getValue,renderValue:f.renderValue}),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach(s=>{Object.assign(r,s.createCell==null?void 0:s.createCell(r,n,t,e))},{}),r}const xo=(e,t,n,l,o,r,s)=>{let u={id:t,index:l,original:n,depth:o,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:a=>{if(u._valuesCache.hasOwnProperty(a))return u._valuesCache[a];const f=e.getColumn(a);if(f!=null&&f.accessorFn)return u._valuesCache[a]=f.accessorFn(u.original,l),u._valuesCache[a]},getUniqueValues:a=>{if(u._uniqueValuesCache.hasOwnProperty(a))return u._uniqueValuesCache[a];const f=e.getColumn(a);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(u._uniqueValuesCache[a]=f.columnDef.getUniqueValues(u.original,l),u._uniqueValuesCache[a]):(u._uniqueValuesCache[a]=[u.getValue(a)],u._uniqueValuesCache[a])},renderValue:a=>{var f;return(f=u.getValue(a))!=null?f:e.options.renderFallbackValue},subRows:r??[],getLeafRows:()=>Mm(u.subRows,a=>a.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId):void 0,getParentRows:()=>{let a=[],f=u;for(;;){const c=f.getParentRow();if(!c)break;a.push(c),f=c}return a.reverse()},getAllCells:oe(()=>[e.getAllLeafColumns()],a=>a.map(f=>i_(e,u,f,f.id)),{key:!1,debug:()=>{var a;return(a=e.options.debugAll)!=null?a:e.options.debugRows}}),_getAllCellsByColumnId:oe(()=>[u.getAllCells()],a=>a.reduce((f,c)=>(f[c.column.id]=c,f),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var a;return(a=e.options.debugAll)!=null?a:e.options.debugRows}})};for(let a=0;a<e._features.length;a++){const f=e._features[a];Object.assign(u,f==null||f.createRow==null?void 0:f.createRow(u,e))}return u};function r_(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Ms(){return e=>oe(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},l=function(o,r,s){r===void 0&&(r=0);const u=[];for(let f=0;f<o.length;f++){const c=xo(e,e._getRowId(o[f],f,s),o[f],f,r,void 0,s==null?void 0:s.id);if(n.flatRows.push(c),n.rowsById[c.id]=c,u.push(c),e.options.getSubRows){var a;c.originalSubRows=e.options.getSubRows(o[f],f),(a=c.originalSubRows)!=null&&a.length&&(c.subRows=l(c.originalSubRows,r+1,c))}}return u};return n.rows=l(t),n},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Eu(e,t,n){return n.options.filterFromLeafRows?s_(e,t,n):a_(e,t,n)}function s_(e,t,n){var l;const o=[],r={},s=(l=n.options.maxLeafRowFilterDepth)!=null?l:100,u=function(a,f){f===void 0&&(f=0);const c=[];for(let g=0;g<a.length;g++){var d;let p=a[g];const m=xo(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);if(m.columnFilters=p.columnFilters,(d=p.subRows)!=null&&d.length&&f<s){if(m.subRows=u(p.subRows,f+1),p=m,t(p)&&!m.subRows.length){c.push(p),r[p.id]=p,r[g]=p;continue}if(t(p)||m.subRows.length){c.push(p),r[p.id]=p,r[g]=p;continue}}else p=m,t(p)&&(c.push(p),r[p.id]=p,r[g]=p)}return c};return{rows:u(e),flatRows:o,rowsById:r}}function a_(e,t,n){var l;const o=[],r={},s=(l=n.options.maxLeafRowFilterDepth)!=null?l:100,u=function(a,f){f===void 0&&(f=0);const c=[];for(let g=0;g<a.length;g++){let p=a[g];if(t(p)){var d;if((d=p.subRows)!=null&&d.length&&f<s){const _=xo(n,p.id,p.original,p.index,p.depth,void 0,p.parentId);_.subRows=u(p.subRows,f+1),p=_}c.push(p),o.push(p),r[p.id]=p}}return c};return{rows:u(e),flatRows:o,rowsById:r}}function Es(){return e=>oe(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,l)=>{if(!t.rows.length||!(n!=null&&n.length)&&!l){for(let g=0;g<t.flatRows.length;g++)t.flatRows[g].columnFilters={},t.flatRows[g].columnFiltersMeta={};return t}const o=[],r=[];(n??[]).forEach(g=>{var p;const m=e.getColumn(g.id);if(!m)return;const _=m.getFilterFn();_&&o.push({id:g.id,filterFn:_,resolvedValue:(p=_.resolveFilterValue==null?void 0:_.resolveFilterValue(g.value))!=null?p:g.value})});const s=n.map(g=>g.id),u=e.getGlobalFilterFn(),a=e.getAllLeafColumns().filter(g=>g.getCanGlobalFilter());l&&u&&a.length&&(s.push("__global__"),a.forEach(g=>{var p;r.push({id:g.id,filterFn:u,resolvedValue:(p=u.resolveFilterValue==null?void 0:u.resolveFilterValue(l))!=null?p:l})}));let f,c;for(let g=0;g<t.flatRows.length;g++){const p=t.flatRows[g];if(p.columnFilters={},o.length)for(let m=0;m<o.length;m++){f=o[m];const _=f.id;p.columnFilters[_]=f.filterFn(p,_,f.resolvedValue,v=>{p.columnFiltersMeta[_]=v})}if(r.length){for(let m=0;m<r.length;m++){c=r[m];const _=c.id;if(c.filterFn(p,_,c.resolvedValue,v=>{p.columnFiltersMeta[_]=v})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const d=g=>{for(let p=0;p<s.length;p++)if(g.columnFilters[s[p]]===!1)return!1;return!0};return Eu(t.rows,d,e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function Fs(){return(e,t)=>oe(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter,e.getFilteredRowModel()],(n,l,o)=>{if(!n.rows.length||!(l!=null&&l.length)&&!o)return n;const r=[...l.map(u=>u.id).filter(u=>u!==t),o?"__global__":void 0].filter(Boolean),s=u=>{for(let a=0;a<r.length;a++)if(u.columnFilters[r[a]]===!1)return!1;return!0};return Eu(n.rows,s,e)},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugTable},onChange:()=>{}})}function Ds(){return e=>oe(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const l=e.getState().sorting,o=[],r=l.filter(a=>{var f;return(f=e.getColumn(a.id))==null?void 0:f.getCanSort()}),s={};r.forEach(a=>{const f=e.getColumn(a.id);f&&(s[a.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const u=a=>{const f=[...a];return f.sort((c,d)=>{for(let p=0;p<r.length;p+=1){var g;const m=r[p],_=s[m.id],v=(g=m==null?void 0:m.desc)!=null?g:!1;let w=0;if(_.sortUndefined){const y=c.getValue(m.id),C=d.getValue(m.id),M=y===void 0,S=C===void 0;(M||S)&&(w=M&&S?0:M?_.sortUndefined:-_.sortUndefined)}if(w===0&&(w=_.sortingFn(c,d,m.id)),w!==0)return v&&(w*=-1),_.invertSorting&&(w*=-1),w}return c.index-d.index}),f.forEach(c=>{var d;o.push(c),(d=c.subRows)!=null&&d.length&&(c.subRows=u(c.subRows))}),f};return{rows:u(n.rows),flatRows:o,rowsById:n.rowsById}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function u_(e){const t=[],n=l=>{var o;t.push(l),(o=l.subRows)!=null&&o.length&&l.getIsExpanded()&&l.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function Is(e){return t=>oe(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,l)=>{if(!l.rows.length)return l;const{pageSize:o,pageIndex:r}=n;let{rows:s,flatRows:u,rowsById:a}=l;const f=o*r,c=f+o;s=s.slice(f,c);let d;t.options.paginateExpandedRows?d={rows:s,flatRows:u,rowsById:a}:d=u_({rows:s,flatRows:u,rowsById:a}),d.flatRows=[];const g=p=>{d.flatRows.push(p),p.subRows.length&&p.subRows.forEach(g)};return d.rows.forEach(g),d},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable}})}/**
 * svelte-table
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f_(e){let t;return{c(){t=q(e[0])},l(n){t=Xu(n,e[0])},m(n,l){Gu(n,t,l)},p(n,[l]){l&1&&J(t,n[0])},i:X,o:X,d(n){n&&N(t)}}}function c_(e,t,n){let{content:l}=t;return e.$$set=o=>{"content"in o&&n(0,l=o.content)},[l]}class d_ extends fe{constructor(t){super(),ce(this,t,c_,f_,ue,{content:0})}}const h_=ca((e,t,n,l)=>`${df(t.content)}`);var g_=typeof document>"u"?h_:d_;function p_(e,t,n){let l,o;return l=new t({props:n,$$inline:!0}),{c(){le(l.$$.fragment)},l(r){gf(l.$$.fragment,r)},m(r,s){ee(l,r,s),o=!0},p:X,i(r){o||(z(l.$$.fragment,r),o=!0)},o(r){L(l.$$.fragment,r),o=!1},d(r){te(l,r)}}}function m_(e,t){return class extends fe{constructor(l){super(),ce(this,l,null,o=>p_(o,e,t),ue,{},void 0)}}}function __(e,t){return ca((l,o,r,s)=>`${hf(e,"TableComponent").$$render(l,t,{},{})}`)}const Ao=typeof window>"u"?__:m_;function v_(e){return typeof e=="object"&&typeof e.$$render=="function"&&typeof e.render=="function"}function b_(e){var t,n;let l="__SVELTE_HMR"in window;return e.prototype instanceof fe||l&&((t=e.name)==null?void 0:t.startsWith("Proxy<"))&&((n=e.name)==null?void 0:n.endsWith(">"))}function Ns(e){return typeof document>"u"?v_(e):b_(e)}function Ps(e){return Ao(g_,{content:e})}function Cl(e,t){if(!e)return null;if(Ns(e))return Ao(e,t);if(typeof e=="function"){const n=e(t);return n==null?null:Ns(n)?Ao(n,t):Ps(n)}return Ps(e)}function Ts(e){let t;"subscribe"in e?t=e:t=to(e);let n={state:{},onStateChange:()=>{},renderFallbackValue:null,...Pu(t)},l=o_(n),o=Ie(l.initialState),r=mf([o,t],u=>u);return to(l,function(a){const f=r.subscribe(c=>{let[d,g]=c;l.setOptions(p=>({...p,...g,state:{...d,...g.state},onStateChange:m=>{m instanceof Function?o.update(m):o.set(m),n.onStateChange==null||n.onStateChange(m)}})),a(l)});return function(){f()}})}/**
 * match-sorter-utils
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Fu={√Ä:"A",√Å:"A",√Ç:"A",√É:"A",√Ñ:"A",√Ö:"A",·∫§:"A",·∫Æ:"A",·∫≤:"A",·∫¥:"A",·∫∂:"A",√Ü:"AE",·∫¶:"A",·∫∞:"A",»Ç:"A",√á:"C",·∏à:"C",√à:"E",√â:"E",√ä:"E",√ã:"E",·∫æ:"E",·∏ñ:"E",·ªÄ:"E",·∏î:"E",·∏ú:"E",»Ü:"E",√å:"I",√ç:"I",√é:"I",√è:"I",·∏Æ:"I",»ä:"I",√ê:"D",√ë:"N",√í:"O",√ì:"O",√î:"O",√ï:"O",√ñ:"O",√ò:"O",·ªê:"O",·πå:"O",·πí:"O",»é:"O",√ô:"U",√ö:"U",√õ:"U",√ú:"U",√ù:"Y",√†:"a",√°:"a",√¢:"a",√£:"a",√§:"a",√•:"a",·∫•:"a",·∫Ø:"a",·∫≥:"a",·∫µ:"a",·∫∑:"a",√¶:"ae",·∫ß:"a",·∫±:"a",»É:"a",√ß:"c",·∏â:"c",√®:"e",√©:"e",√™:"e",√´:"e",·∫ø:"e",·∏ó:"e",·ªÅ:"e",·∏ï:"e",·∏ù:"e",»á:"e",√¨:"i",√≠:"i",√Æ:"i",√Ø:"i",·∏Ø:"i",»ã:"i",√∞:"d",√±:"n",√≤:"o",√≥:"o",√¥:"o",√µ:"o",√∂:"o",√∏:"o",·ªë:"o",·πç:"o",·πì:"o",»è:"o",√π:"u",√∫:"u",√ª:"u",√º:"u",√Ω:"y",√ø:"y",ƒÄ:"A",ƒÅ:"a",ƒÇ:"A",ƒÉ:"a",ƒÑ:"A",ƒÖ:"a",ƒÜ:"C",ƒá:"c",ƒà:"C",ƒâ:"c",ƒä:"C",ƒã:"c",ƒå:"C",ƒç:"c",CÃÜ:"C",cÃÜ:"c",ƒé:"D",ƒè:"d",ƒê:"D",ƒë:"d",ƒí:"E",ƒì:"e",ƒî:"E",ƒï:"e",ƒñ:"E",ƒó:"e",ƒò:"E",ƒô:"e",ƒö:"E",ƒõ:"e",ƒú:"G",«¥:"G",ƒù:"g",«µ:"g",ƒû:"G",ƒü:"g",ƒ†:"G",ƒ°:"g",ƒ¢:"G",ƒ£:"g",ƒ§:"H",ƒ•:"h",ƒ¶:"H",ƒß:"h",·∏™:"H",·∏´:"h",ƒ®:"I",ƒ©:"i",ƒ™:"I",ƒ´:"i",ƒ¨:"I",ƒ≠:"i",ƒÆ:"I",ƒØ:"i",ƒ∞:"I",ƒ±:"i",ƒ≤:"IJ",ƒ≥:"ij",ƒ¥:"J",ƒµ:"j",ƒ∂:"K",ƒ∑:"k",·∏∞:"K",·∏±:"k",KÃÜ:"K",kÃÜ:"k",ƒπ:"L",ƒ∫:"l",ƒª:"L",ƒº:"l",ƒΩ:"L",ƒæ:"l",ƒø:"L",≈Ä:"l",≈Å:"l",≈Ç:"l",·∏æ:"M",·∏ø:"m",MÃÜ:"M",mÃÜ:"m",≈É:"N",≈Ñ:"n",≈Ö:"N",≈Ü:"n",≈á:"N",≈à:"n",≈â:"n",NÃÜ:"N",nÃÜ:"n",≈å:"O",≈ç:"o",≈é:"O",≈è:"o",≈ê:"O",≈ë:"o",≈í:"OE",≈ì:"oe",PÃÜ:"P",pÃÜ:"p",≈î:"R",≈ï:"r",≈ñ:"R",≈ó:"r",≈ò:"R",≈ô:"r",RÃÜ:"R",rÃÜ:"r",»í:"R",»ì:"r",≈ö:"S",≈õ:"s",≈ú:"S",≈ù:"s",≈û:"S",»ò:"S",»ô:"s",≈ü:"s",≈†:"S",≈°:"s",≈¢:"T",≈£:"t",»õ:"t",»ö:"T",≈§:"T",≈•:"t",≈¶:"T",≈ß:"t",TÃÜ:"T",tÃÜ:"t",≈®:"U",≈©:"u",≈™:"U",≈´:"u",≈¨:"U",≈≠:"u",≈Æ:"U",≈Ø:"u",≈∞:"U",≈±:"u",≈≤:"U",≈≥:"u",»ñ:"U",»ó:"u",VÃÜ:"V",vÃÜ:"v",≈¥:"W",≈µ:"w",·∫Ç:"W",·∫É:"w",XÃÜ:"X",xÃÜ:"x",≈∂:"Y",≈∑:"y",≈∏:"Y",YÃÜ:"Y",yÃÜ:"y",≈π:"Z",≈∫:"z",≈ª:"Z",≈º:"z",≈Ω:"Z",≈æ:"z",≈ø:"s",∆í:"f",∆†:"O",∆°:"o",∆Ø:"U",∆∞:"u",«ç:"A",«é:"a",«è:"I",«ê:"i",«ë:"O",«í:"o",«ì:"U",«î:"u",«ï:"U",«ñ:"u",«ó:"U",«ò:"u",«ô:"U",«ö:"u",«õ:"U",«ú:"u",·ª®:"U",·ª©:"u",·π∏:"U",·ππ:"u",«∫:"A",«ª:"a",«º:"AE",«Ω:"ae",«æ:"O",«ø:"o",√û:"TH",√æ:"th",·πî:"P",·πï:"p",·π§:"S",·π•:"s",XÃÅ:"X",xÃÅ:"x",–É:"–ì",—ì:"–≥",–å:"–ö",—ú:"–∫",AÃã:"A",aÃã:"a",EÃã:"E",eÃã:"e",IÃã:"I",iÃã:"i",«∏:"N",«π:"n",·ªí:"O",·ªì:"o",·πê:"O",·πë:"o",·ª™:"U",·ª´:"u",·∫Ä:"W",·∫Å:"w",·ª≤:"Y",·ª≥:"y",»Ä:"A",»Å:"a",»Ñ:"E",»Ö:"e",»à:"I",»â:"i",»å:"O",»ç:"o",»ê:"R",»ë:"r",»î:"U",»ï:"u",BÃå:"B",bÃå:"b",ƒåÃ£:"C",ƒçÃ£:"c",√äÃå:"E",√™Ãå:"e",FÃå:"F",fÃå:"f",«¶:"G",«ß:"g",»û:"H",»ü:"h",JÃå:"J",«∞:"j",«®:"K",«©:"k",MÃå:"M",mÃå:"m",PÃå:"P",pÃå:"p",QÃå:"Q",qÃå:"q",≈òÃ©:"R",≈ôÃ©:"r",·π¶:"S",·πß:"s",VÃå:"V",vÃå:"v",WÃå:"W",wÃå:"w",XÃå:"X",xÃå:"x",YÃå:"Y",yÃå:"y",AÃß:"A",aÃß:"a",BÃß:"B",bÃß:"b",·∏ê:"D",·∏ë:"d",»®:"E",»©:"e",∆êÃß:"E",…õÃß:"e",·∏®:"H",·∏©:"h",IÃß:"I",iÃß:"i",∆óÃß:"I",…®Ãß:"i",MÃß:"M",mÃß:"m",OÃß:"O",oÃß:"o",QÃß:"Q",qÃß:"q",UÃß:"U",uÃß:"u",XÃß:"X",xÃß:"x",ZÃß:"Z",zÃß:"z"},w_=Object.keys(Fu).join("|"),y_=new RegExp(w_,"g");function k_(e){return e.replace(y_,t=>Fu[t])}/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2099 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const He={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function S_(e,t,n){var l;if(n=n||{},n.threshold=(l=n.threshold)!=null?l:He.MATCHES,!n.accessors){const s=Os(e,t,n);return{rankedValue:e,rank:s,accessorIndex:-1,accessorThreshold:n.threshold,passed:s>=n.threshold}}const o=R_(e,n.accessors),r={rankedValue:e,rank:He.NO_MATCH,accessorIndex:-1,accessorThreshold:n.threshold,passed:!1};for(let s=0;s<o.length;s++){const u=o[s];let a=Os(u.itemValue,t,n);const{minRanking:f,maxRanking:c,threshold:d=n.threshold}=u.attributes;a<f&&a>=He.MATCHES?a=f:a>c&&(a=c),a=Math.min(a,c),a>=d&&a>r.rank&&(r.rank=a,r.passed=!0,r.accessorIndex=s,r.accessorThreshold=d,r.rankedValue=u.itemValue)}return r}function Os(e,t,n){return e=zs(e,n),t=zs(t,n),t.length>e.length?He.NO_MATCH:e===t?He.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase(),t=t.toLowerCase(),e===t?He.EQUAL:e.startsWith(t)?He.STARTS_WITH:e.includes(` ${t}`)?He.WORD_STARTS_WITH:e.includes(t)?He.CONTAINS:t.length===1?He.NO_MATCH:C_(e).includes(t)?He.ACRONYM:$_(e,t))}function C_(e){let t="";return e.split(" ").forEach(l=>{l.split("-").forEach(r=>{t+=r.substr(0,1)})}),t}function $_(e,t){let n=0,l=0;function o(a,f,c){for(let d=c,g=f.length;d<g;d++)if(f[d]===a)return n+=1,d+1;return-1}function r(a){const f=1/a,c=n/t.length;return He.MATCHES+c*f}const s=o(t[0],e,0);if(s<0)return He.NO_MATCH;l=s;for(let a=1,f=t.length;a<f;a++){const c=t[a];if(l=o(c,e,l),!(l>-1))return He.NO_MATCH}const u=l-s;return r(u)}function zs(e,t){let{keepDiacritics:n}=t;return e=`${e}`,n||(e=k_(e)),e}function A_(e,t){let n=t;typeof t=="object"&&(n=t.accessor);const l=n(e);return l==null?[]:Array.isArray(l)?l:[String(l)]}function R_(e,t){const n=[];for(let l=0,o=t.length;l<o;l++){const r=t[l],s=M_(r),u=A_(e,r);for(let a=0,f=u.length;a<f;a++)n.push({itemValue:u[a],attributes:s})}return n}const Vs={maxRanking:1/0,minRanking:-1/0};function M_(e){return typeof e=="function"?Vs:{...Vs,...e}}function Ls(e,t,n){const l=e.slice();return l[17]=t[n],l}function qs(e,t,n){const l=e.slice();return l[20]=t[n],l}function Hs(e,t,n){const l=e.slice();return l[23]=t[n],l}function Gs(e,t,n){const l=e.slice();return l[26]=t[n],l}function E_(e){let t,n,l,o,r=D_(e[26].column.getIsSorted())+"",s,u,a,f;var c=Cl(e[26].column.columnDef.header,e[26].getContext());function d(g){return{}}return c&&(n=At(c,d())),{c(){t=A("button"),n&&le(n.$$.fragment),l=P(),o=A("span"),s=q(r),t.disabled=!e[26].column.getCanSort(),Oe(t,"is-disabled",!e[26].column.getCanSort())},m(g,p){O(g,t,p),n&&ee(n,t,null),b(t,l),b(t,o),b(o,s),u=!0,a||(f=x(t,"click",e[26].column.getToggleSortingHandler()),a=!0)},p(g,p){if(e=g,c!==(c=Cl(e[26].column.columnDef.header,e[26].getContext()))){if(n){_e();const m=n;L(m.$$.fragment,1,0,()=>{te(m,1)}),ve()}c?(n=At(c,d()),le(n.$$.fragment),z(n.$$.fragment,1),ee(n,t,l)):n=null}},i(g){u||(n&&z(n.$$.fragment,g),u=!0)},o(g){n&&L(n.$$.fragment,g),u=!1},d(g){g&&N(t),n&&te(n),a=!1,f()}}}function js(e){let t,n,l=!e[26].isPlaceholder&&E_(e);return{c(){t=A("th"),l&&l.c(),h(t,"colspan",e[26].colSpan),h(t,"class","svelte-16fb3tv")},m(o,r){O(o,t,r),l&&l.m(t,null),n=!0},p(o,r){o[26].isPlaceholder||l.p(o,r)},i(o){n||(z(l),n=!0)},o(o){L(l),n=!1},d(o){o&&N(t),l&&l.d()}}}function Bs(e){let t,n,l,o=e[23].headers,r=[];for(let u=0;u<o.length;u+=1)r[u]=js(Gs(e,o,u));const s=u=>L(r[u],1,1,()=>{r[u]=null});return{c(){t=A("tr");for(let u=0;u<r.length;u+=1)r[u].c();n=P()},m(u,a){O(u,t,a);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(t,null);b(t,n),l=!0},p(u,a){if(a&32){o=u[23].headers;let f;for(f=0;f<o.length;f+=1){const c=Gs(u,o,f);r[f]?(r[f].p(c,a),z(r[f],1)):(r[f]=js(c),r[f].c(),z(r[f],1),r[f].m(t,n))}for(_e(),f=o.length;f<r.length;f+=1)s(f);ve()}},i(u){if(!l){for(let a=0;a<o.length;a+=1)z(r[a]);l=!0}},o(u){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)L(r[a]);l=!1},d(u){u&&N(t),pe(r,u)}}}function xs(e,t){let n,l,o;var r=Cl(t[20].column.columnDef.cell,t[20].getContext());function s(u){return{}}return r&&(l=At(r,s())),{key:e,first:null,c(){n=A("td"),l&&le(l.$$.fragment),h(n,"class","svelte-16fb3tv"),this.first=n},m(u,a){O(u,n,a),l&&ee(l,n,null),o=!0},p(u,a){if(t=u,a&2&&r!==(r=Cl(t[20].column.columnDef.cell,t[20].getContext()))){if(l){_e();const f=l;L(f.$$.fragment,1,0,()=>{te(f,1)}),ve()}r?(l=At(r,s()),le(l.$$.fragment),z(l.$$.fragment,1),ee(l,n,null)):l=null}},i(u){o||(l&&z(l.$$.fragment,u),o=!0)},o(u){l&&L(l.$$.fragment,u),o=!1},d(u){u&&N(n),l&&te(l)}}}function Us(e){let t,n=[],l=new Map,o,r,s=e[17].getVisibleCells();const u=a=>a[20].id;for(let a=0;a<s.length;a+=1){let f=qs(e,s,a),c=u(f);l.set(c,n[a]=xs(c,f))}return{c(){t=A("tr");for(let a=0;a<n.length;a+=1)n[a].c();o=P(),h(t,"class","svelte-16fb3tv")},m(a,f){O(a,t,f);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null);b(t,o),r=!0},p(a,f){f&2&&(s=a[17].getVisibleCells(),_e(),n=pt(n,f,u,1,a,s,l,t,Mo,xs,o,qs),ve())},i(a){if(!r){for(let f=0;f<s.length;f+=1)z(n[f]);r=!0}},o(a){for(let f=0;f<n.length;f+=1)L(n[f]);r=!1},d(a){a&&N(t);for(let f=0;f<n.length;f+=1)n[f].d()}}}function F_(e){let t,n,l,o,r,s,u,a,f,c,d,g="<",p,m,_,v,w,y,C,M,S,E,$=" ",R,k,F=" ",T,I,V=e[1].getPageCount()+"",D,G,U,j=">",K,W,Y,Q,Se,Fe=e[5],Ce=[];for(let ie=0;ie<Fe.length;ie+=1)Ce[ie]=Bs(Hs(e,Fe,ie));const Du=ie=>L(Ce[ie],1,1,()=>{Ce[ie]=null});let Et=e[1].getRowModel().rows,$e=[];for(let ie=0;ie<Et.length;ie+=1)$e[ie]=Us(Ls(e,Et,ie));const Iu=ie=>L($e[ie],1,1,()=>{$e[ie]=null});return{c(){t=A("div"),n=A("input"),l=P(),o=A("div"),r=A("table"),s=A("thead");for(let ie=0;ie<Ce.length;ie+=1)Ce[ie].c();u=P(),a=A("tbody");for(let ie=0;ie<$e.length;ie+=1)$e[ie].c();f=P(),c=A("div"),d=A("button"),p=q(g),_=P(),v=A("span"),v.textContent="Page",w=P(),y=A("input"),S=P(),E=A("span"),R=q($),k=q("of"),T=q(F),I=P(),D=q(V),G=P(),U=A("button"),K=q(j),h(n,"type","search"),h(n,"class","input"),h(n,"placeholder","Search..."),h(s,"class","svelte-16fb3tv"),h(a,"class","svelte-16fb3tv"),h(d,"class","button is-white svelte-16fb3tv"),d.disabled=m=!e[1].getCanPreviousPage(),Oe(d,"is-disabled",!e[1].getCanPreviousPage()),h(y,"type","number"),y.value=C=e[1].getState().pagination.pageIndex+1,h(y,"min",0),h(y,"max",M=e[1].getPageCount()-1),h(y,"class","mx-1 svelte-16fb3tv"),h(U,"class","button is-white svelte-16fb3tv"),U.disabled=W=!e[1].getCanNextPage(),Oe(U,"is-disabled",!e[1].getCanNextPage()),h(c,"class","is-flex is-align-items-center svelte-16fb3tv"),h(r,"class","table svelte-16fb3tv"),h(o,"class","table-container svelte-16fb3tv")},m(ie,me){O(ie,t,me),b(t,n),b(t,l),b(t,o),b(o,r),b(r,s);for(let se=0;se<Ce.length;se+=1)Ce[se]&&Ce[se].m(s,null);b(r,u),b(r,a);for(let se=0;se<$e.length;se+=1)$e[se]&&$e[se].m(a,null);b(r,f),b(r,c),b(c,d),b(d,p),b(c,_),b(c,v),b(c,w),b(c,y),b(c,S),b(c,E),b(E,R),b(E,k),b(E,T),b(E,I),b(E,D),b(c,G),b(c,U),b(U,K),Y=!0,Q||(Se=[x(n,"keyup",e[3]),x(n,"search",e[3]),x(d,"click",e[9]),x(y,"change",e[4]),x(U,"click",e[10])],Q=!0)},p(ie,[me]){if(me&32){Fe=ie[5];let se;for(se=0;se<Fe.length;se+=1){const sn=Hs(ie,Fe,se);Ce[se]?(Ce[se].p(sn,me),z(Ce[se],1)):(Ce[se]=Bs(sn),Ce[se].c(),z(Ce[se],1),Ce[se].m(s,null))}for(_e(),se=Fe.length;se<Ce.length;se+=1)Du(se);ve()}if(me&2){Et=ie[1].getRowModel().rows;let se;for(se=0;se<Et.length;se+=1){const sn=Ls(ie,Et,se);$e[se]?($e[se].p(sn,me),z($e[se],1)):($e[se]=Us(sn),$e[se].c(),z($e[se],1),$e[se].m(a,null))}for(_e(),se=Et.length;se<$e.length;se+=1)Iu(se);ve()}(!Y||me&2&&m!==(m=!ie[1].getCanPreviousPage()))&&(d.disabled=m),(!Y||me&2)&&Oe(d,"is-disabled",!ie[1].getCanPreviousPage()),(!Y||me&2&&C!==(C=ie[1].getState().pagination.pageIndex+1)&&y.value!==C)&&(y.value=C),(!Y||me&2&&M!==(M=ie[1].getPageCount()-1))&&h(y,"max",M),(!Y||me&2)&&V!==(V=ie[1].getPageCount()+"")&&J(D,V),(!Y||me&2&&W!==(W=!ie[1].getCanNextPage()))&&(U.disabled=W),(!Y||me&2)&&Oe(U,"is-disabled",!ie[1].getCanNextPage())},i(ie){if(!Y){for(let me=0;me<Fe.length;me+=1)z(Ce[me]);for(let me=0;me<Et.length;me+=1)z($e[me]);Y=!0}},o(ie){Ce=Ce.filter(Boolean);for(let me=0;me<Ce.length;me+=1)L(Ce[me]);$e=$e.filter(Boolean);for(let me=0;me<$e.length;me+=1)L($e[me]);Y=!1},d(ie){ie&&N(t),pe(Ce,ie),pe($e,ie),Q=!1,he(Se)}}}function D_(e){return e?e==="asc"?"üîº":"üîΩ":""}function I_(e,t,n){let l,o,r=X,s=()=>(r(),r=$l(w,S=>n(1,o=S)),w);ae(e,kl,S=>n(8,l=S)),e.$$.on_destroy.push(()=>r());const u=(S,E,$,R)=>{if(console.log("yessir"),Array.isArray($))return $.length===0?!0:$.includes(S.getValue(E));typeof $=="number"&&($=String($));const k=S_(S.getValue(E),$);return R({itemRank:k}),k.passed},a=r_(),f=[a.accessor("file",{header:"File",cell:S=>S.getValue(),footer:S=>S.column.id}),a.accessor("size",{header:"Size",cell:S=>io(S.getValue()),footer:S=>S.column.id}),a.accessor("type",{header:"Type",cell:S=>S.getValue(),footer:S=>S.column.id})];let c="",d=Ie({data:l,columns:f,getCoreRowModel:Ms(),getSortedRowModel:Ds(),getFilteredRowModel:Es(),globalFilterFn:u,getFacetedRowModel:Fs(),getPaginationRowModel:Is(),state:{globalFilter:c,pagination:{pageSize:7,pageIndex:0}},enableGlobalFilter:!0});function g(S){n(6,c=S),d.update(E=>({...E,state:{...E.state,globalFilter:S}}))}function p(S){d.update(E=>{var $;return{...E,state:{...E.state,pagination:{...($=E.state)==null?void 0:$.pagination,pageIndex:S}}}})}let m;function _(S){clearTimeout(m),m=setTimeout(()=>{const E=S.target;g(E.value)},100)}function v(S){const E=S.target;p(parseInt(E.value)-1)}let w=Ts(d);s();let y=o.getHeaderGroups();const C=()=>p(o.getState().pagination.pageIndex-1),M=()=>p(o.getState().pagination.pageIndex+1);return e.$$.update=()=>{e.$$.dirty&448&&(n(7,d={data:l,columns:f,getCoreRowModel:Ms(),getSortedRowModel:Ds(),getFilteredRowModel:Es(),globalFilterFn:u,getFacetedRowModel:Fs(),getPaginationRowModel:Is(),state:{globalFilter:c,pagination:{pageSize:7,pageIndex:0}},enableGlobalFilter:!0}),s(n(0,w=Ts(Ie(d)))))},[w,o,p,_,v,y,c,d,l,C,M]}class N_ extends fe{constructor(t){super(),ce(this,t,I_,F_,ue,{})}}function P_(e){let t,n;return{c(){t=B("svg"),n=B("path"),h(n,"d","M248,128a87.34,87.34,0,0,1-17.6,52.81,8,8,0,1,1-12.8-9.62A71.34,71.34,0,0,0,232,128a72,72,0,0,0-144,0,8,8,0,0,1-16,0,88,88,0,0,1,3.29-23.88C74.2,104,73.1,104,72,104a48,48,0,0,0,0,96H96a8,8,0,0,1,0,16H72A64,64,0,1,1,81.29,88.68,88,88,0,0,1,248,128Zm-90.34-5.66a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L144,147.31V208a8,8,0,0,0,16,0V147.31l18.34,18.35a8,8,0,0,0,11.32-11.32Z"),h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"width",e[1]),h(t,"height",e[0]),h(t,"fill","currentColor"),h(t,"viewBox","0 0 256 256")},m(l,o){O(l,t,o),b(t,n)},p(l,[o]){o&2&&h(t,"width",l[1]),o&1&&h(t,"height",l[0])},i:X,o:X,d(l){l&&N(t)}}}function T_(e,t,n){let{height:l=256,width:o=256}=t;return e.$$set=r=>{"height"in r&&n(0,l=r.height),"width"in r&&n(1,o=r.width)},[l,o]}class O_ extends fe{constructor(t){super(),ce(this,t,T_,P_,ue,{height:0,width:1})}}function Ws(e){let t,n;return{c(){t=A("p"),n=q(e[2]),h(t,"class","svelte-14n6h1p")},m(l,o){O(l,t,o),b(t,n)},p(l,o){o&4&&J(n,l[2])},d(l){l&&N(t)}}}function Xs(e){let t;return{c(){t=A("p"),t.textContent="Data Successfully indexed!",h(t,"class","svelte-14n6h1p")},m(n,l){O(n,t,l)},d(n){n&&N(t)}}}function z_(e){let t,n;return t=new N_({}),{c(){le(t.$$.fragment)},m(l,o){ee(t,l,o),n=!0},i(l){n||(z(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){te(t,l)}}}function V_(e){let t,n,l,o,r,s,u,a,f,c,d,g,p,m,_,v,w,y,C,M,S,E,$,R,k,F;m=new O_({props:{height:32,width:32}});let T=e[1]&&!e[0]&&Ws(e),I=e[0]&&Xs();E=new Am({});let V=e[3]&&z_();return{c(){t=A("div"),n=A("div"),l=A("div"),o=A("div"),r=A("h4"),r.textContent="Upload Data",s=P(),u=A("p"),u.textContent="These are the files your model will use as context.",a=P(),f=A("div"),c=A("form"),d=A("input"),g=P(),p=A("div"),le(m.$$.fragment),_=q(`
            Drag and drop files here`),v=P(),T&&T.c(),w=P(),I&&I.c(),y=P(),C=A("p"),C.textContent="Currently pdf, txt, and md are supported.",M=P(),S=A("div"),le(E.$$.fragment),$=P(),V&&V.c(),h(u,"class","svelte-14n6h1p"),h(d,"type","file"),d.multiple=!0,h(p,"class","drop-zone svelte-14n6h1p"),h(f,"class","upload-files-container svelte-14n6h1p"),h(C,"class","svelte-14n6h1p"),h(o,"class","upload-box svelte-14n6h1p"),h(l,"class","upload-container svelte-14n6h1p"),h(n,"class","file-container svelte-14n6h1p"),h(S,"class","charts-container svelte-14n6h1p"),h(t,"class","data-grid svelte-14n6h1p")},m(D,G){O(D,t,G),b(t,n),b(n,l),b(l,o),b(o,r),b(o,s),b(o,u),b(o,a),b(o,f),b(f,c),b(c,d),b(f,g),b(f,p),ee(m,p,null),b(p,_),b(o,v),T&&T.m(o,null),b(o,w),I&&I.m(o,null),b(o,y),b(o,C),b(t,M),b(t,S),ee(E,S,null),b(S,$),V&&V.m(S,null),R=!0,k||(F=[x(d,"change",e[4]),x(p,"drop",e[4]),x(p,"dragover",L_)],k=!0)},p(D,[G]){D[1]&&!D[0]?T?T.p(D,G):(T=Ws(D),T.c(),T.m(o,w)):T&&(T.d(1),T=null),D[0]?I||(I=Xs(),I.c(),I.m(o,y)):I&&(I.d(1),I=null)},i(D){R||(z(m.$$.fragment,D),z(E.$$.fragment,D),z(V),R=!0)},o(D){L(m.$$.fragment,D),L(E.$$.fragment,D),L(V),R=!1},d(D){D&&N(t),te(m),T&&T.d(),I&&I.d(),te(E),V&&V.d(),k=!1,he(F)}}}function L_(e){console.log("File(s) in drop zone"),e.preventDefault()}function q_(e,t,n){let l,o,r;ae(e,ys,m=>n(6,o=m)),ae(e,kl,m=>n(7,r=m));let s=[],u=!1,a=!1;async function f(m){m.preventDefault();let _=[];m.dataTransfer?m.dataTransfer.items?[...m.dataTransfer.items].forEach((w,y)=>{if(w.kind==="file"){const C=w.getAsFile();_.push(C)}}):[...m.dataTransfer.files].forEach((w,y)=>{_.push(w)}):_=m.target.files;const v=new FormData;for(let w=0;w<_.length;w++)v.append("files",_[w]);await fetch("/retrieval/file/upload",{method:"POST",body:v}),d(),c(),g()}async function c(){const v=(await(await fetch("/retrieval/file/get")).json()).files.map(w=>({file:w.name,size:w.size,type:w.type}));De(kl,r=[...v],r)}async function d(){console.log("index!"),n(1,a=!0),await(await fetch("/retrieval/vector_db/index",{method:"POST"})).json(),n(0,u=!0),n(1,a=!1)}async function g(){console.log("getting embeddings...");const _=await(await fetch("/retrieval/vector_db/get")).json();console.log("embeddingData",_),De(ys,o=_,o)}ct(()=>{c()});let p=0;return setInterval(()=>{n(5,p=(p+1)%4)},200),e.$$.update=()=>{e.$$.dirty&32&&n(2,l="Indexing"+".".repeat(p))},[u,a,l,s,f,p]}class H_ extends fe{constructor(t){super(),ce(this,t,q_,V_,ue,{})}}function G_(e){let t,n,l,o,r,s,u,a,f,c,d,g,p,m,_,v,w,y,C,M,S,E,$,R,k,F,T;return r=new Ka({}),a=new Ja({}),d=new Ua({}),m=new Xa({props:{feedback:"Bad"}}),w=new Qa({}),M=new Ya({}),F=new Wa({}),{c(){t=A("div"),n=A("div"),l=A("div"),o=A("div"),le(r.$$.fragment),s=P(),u=A("div"),le(a.$$.fragment),f=P(),c=A("div"),le(d.$$.fragment),g=P(),p=A("div"),le(m.$$.fragment),_=P(),v=A("div"),le(w.$$.fragment),y=P(),C=A("div"),le(M.$$.fragment),S=P(),E=A("div"),$=A("div"),$.innerHTML=`<div class="right-chart-1 svelte-14znspc"></div> 
      <div class="right-chart-2 svelte-14znspc"></div>`,R=P(),k=A("div"),le(F.$$.fragment),h(o,"class","card-1 svelte-14znspc"),h(u,"class","card-2"),h(l,"class","left-text svelte-14znspc"),h(c,"class","left-confidence svelte-14znspc"),h(p,"class","left-question svelte-14znspc"),h(v,"class","left-filter svelte-14znspc"),h(C,"class","left-filter2"),h(n,"class","feedback-left svelte-14znspc"),h($,"class","right-chart svelte-14znspc"),h(k,"class","right-table svelte-14znspc"),h(E,"class","feedback-right svelte-14znspc"),h(t,"class","feedback-container svelte-14znspc")},m(I,V){O(I,t,V),b(t,n),b(n,l),b(l,o),ee(r,o,null),b(l,s),b(l,u),ee(a,u,null),b(n,f),b(n,c),ee(d,c,null),b(n,g),b(n,p),ee(m,p,null),b(n,_),b(n,v),ee(w,v,null),b(n,y),b(n,C),ee(M,C,null),b(t,S),b(t,E),b(E,$),b(E,R),b(E,k),ee(F,k,null),T=!0},p:X,i(I){T||(z(r.$$.fragment,I),z(a.$$.fragment,I),z(d.$$.fragment,I),z(m.$$.fragment,I),z(w.$$.fragment,I),z(M.$$.fragment,I),z(F.$$.fragment,I),T=!0)},o(I){L(r.$$.fragment,I),L(a.$$.fragment,I),L(d.$$.fragment,I),L(m.$$.fragment,I),L(w.$$.fragment,I),L(M.$$.fragment,I),L(F.$$.fragment,I),T=!1},d(I){I&&N(t),te(r),te(a),te(d),te(m),te(w),te(M),te(F)}}}function j_(e,t,n){let l;ae(e,Rn,r=>n(0,l=r)),ct(()=>{console.log("FEEDBACK on mount"),o()});async function o(){const a=(await(await fetch("/chat/rag_table/retrieve")).json()).rows.map(f=>({id:f[0],question:f[1],answer:f[2],vote_status:f[4]}));De(Rn,l=[...a],l)}return[]}class B_ extends fe{constructor(t){super(),ce(this,t,j_,G_,ue,{})}}function x_(e){let t,n;return t=new Za({}),{c(){le(t.$$.fragment)},m(l,o){ee(t,l,o),n=!0},i(l){n||(z(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){te(t,l)}}}function U_(e){let t,n;return t=new B_({}),{c(){le(t.$$.fragment)},m(l,o){ee(t,l,o),n=!0},i(l){n||(z(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){te(t,l)}}}function W_(e){let t,n;return t=new Za({}),{c(){le(t.$$.fragment)},m(l,o){ee(t,l,o),n=!0},i(l){n||(z(t.$$.fragment,l),n=!0)},o(l){L(t.$$.fragment,l),n=!1},d(l){te(t,l)}}}function X_(e){let t,n,l,o;const r=[W_,U_,x_],s=[];function u(a,f){return a[0]==="vote"?0:a[0]==="rag"?1:2}return t=u(e),n=s[t]=r[t](e),{c(){n.c(),l=ke()},m(a,f){s[t].m(a,f),O(a,l,f),o=!0},p(a,[f]){let c=t;t=u(a),t!==c&&(_e(),L(s[c],1,1,()=>{s[c]=null}),ve(),n=s[t],n||(n=s[t]=r[t](a),n.c()),z(n,1),n.m(l.parentNode,l))},i(a){o||(z(n),o=!0)},o(a){L(n),o=!1},d(a){s[t].d(a),a&&N(l)}}}function Y_(e,t,n){let{feedback:l}=t;return e.$$set=o=>{"feedback"in o&&n(0,l=o.feedback)},[l]}class Q_ extends fe{constructor(t){super(),ce(this,t,Y_,X_,ue,{feedback:0})}}function Ys(e,t,n){const l=e.slice();return l[7]=t[n],l}function Qs(e){let t,n=e[0],l=[];for(let o=0;o<n.length;o+=1)l[o]=Ks(Ys(e,n,o));return{c(){for(let o=0;o<l.length;o+=1)l[o].c();t=ke()},m(o,r){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(o,r);O(o,t,r)},p(o,r){if(r&33){n=o[0];let s;for(s=0;s<n.length;s+=1){const u=Ys(o,n,s);l[s]?l[s].p(u,r):(l[s]=Ks(u),l[s].c(),l[s].m(t.parentNode,t))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(o){pe(l,o),o&&N(t)}}}function Ks(e){let t,n=e[7].svelte_component+"",l,o,r,s;function u(){return e[6](e[7])}return{c(){t=A("button"),l=q(n),h(t,"aria-label",o=`Load ${e[7].svelte_component} component`)},m(a,f){O(a,t,f),b(t,l),r||(s=x(t,"click",u),r=!0)},p(a,f){e=a,f&1&&n!==(n=e[7].svelte_component+"")&&J(l,n),f&1&&o!==(o=`Load ${e[7].svelte_component} component`)&&h(t,"aria-label",o)},d(a){a&&N(t),r=!1,s()}}}function Js(e){let t,n,l;const o=[e[1].props];var r=e[4][e[1].svelte_component];function s(u){let a={};for(let f=0;f<o.length;f+=1)a=Cn(a,o[f]);return{props:a}}return r&&(t=At(r,s())),{c(){t&&le(t.$$.fragment),n=ke()},m(u,a){t&&ee(t,u,a),O(u,n,a),l=!0},p(u,a){const f=a&2?ua(o,[fa(u[1].props)]):{};if(a&2&&r!==(r=u[4][u[1].svelte_component])){if(t){_e();const c=t;L(c.$$.fragment,1,0,()=>{te(c,1)}),ve()}r?(t=At(r,s()),le(t.$$.fragment),z(t.$$.fragment,1),ee(t,n.parentNode,n)):t=null}else r&&t.$set(f)},i(u){l||(t&&z(t.$$.fragment,u),l=!0)},o(u){t&&L(t.$$.fragment,u),l=!1},d(u){u&&N(n),t&&te(t,u)}}}function K_(e){let t,n,l,o=e[0].length>1&&Qs(e),r=e[1]&&Js(e);return{c(){o&&o.c(),t=P(),r&&r.c(),n=ke()},m(s,u){o&&o.m(s,u),O(s,t,u),r&&r.m(s,u),O(s,n,u),l=!0},p(s,[u]){s[0].length>1?o?o.p(s,u):(o=Qs(s),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),s[1]?r?(r.p(s,u),u&2&&z(r,1)):(r=Js(s),r.c(),z(r,1),r.m(n.parentNode,n)):r&&(_e(),L(r,1,1,()=>{r=null}),ve())},i(s){l||(z(r),l=!0)},o(s){L(r),l=!1},d(s){o&&o.d(s),s&&N(t),r&&r.d(s),s&&N(n)}}}function J_(e,t,n){let l,o;const r=Ie([]);ae(e,r,c=>n(0,l=c));const s=Ie(null);ae(e,s,c=>n(1,o=c));const u={Chatbot:Kd,Dropdown:eh,Feedback:Q_,Compare:$p,CompareDashboard:jp,RetrievalQA:H_},a=c=>{s.set(c)};return fetch("/components").then(c=>{if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);return c.json()}).then(c=>{r.set(c),s.set(c[0])}).catch(c=>{console.log("Fetch request failed",c)}),[l,o,r,s,u,a,c=>a(c)]}class Z_ extends fe{constructor(t){super(),ce(this,t,J_,K_,ue,{})}}new Z_({target:document.getElementById("app")});
